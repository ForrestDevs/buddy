"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_App_tsx";
exports.ids = ["src_App_tsx"];
exports.modules = {

/***/ "./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! styled-jsx/style */ \"styled-jsx/style\");\n/* harmony import */ var styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(styled_jsx_style__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _game_PhaserGame__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./game/PhaserGame */ \"./src/game/PhaserGame.tsx\");\n/* harmony import */ var _game_EventBus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./game/EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _lib_sets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/sets */ \"./src/lib/sets.ts\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n\n\n\nfunction App() {\n    // The sprite can only be moved in the MainMenu Scene\n    // The sprite can only be moved in the MainMenu Scene\n    const [canMoveSprite, setCanMoveSprite] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    //  References to the PhaserGame component (game and scene are exposed)\n    const phaserRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [spritePosition, setSpritePosition] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        x: 0,\n        y: 0\n    });\n    // Event emitted from the PhaserGame component\n    const currentScene = (scene)=>{\n        setCanMoveSprite(scene.scene.key !== \"MainMenu\");\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        _game_EventBus__WEBPACK_IMPORTED_MODULE_4__.EventBus.on(\"show-info\", (show)=>{\n            setShowInfo(show);\n        });\n    }, []);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isMobile, setIsMobile] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const checkDevice = ()=>{\n            const mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n            setIsMobile(mobile);\n        };\n        checkDevice();\n        window.addEventListener(\"resize\", checkDevice);\n        return ()=>{\n            window.removeEventListener(\"resize\", checkDevice);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        id: \"app\",\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"jsx-966f9bb0c21057f\" + \" \" + \"game-container\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((styled_jsx_style__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        id: \"966f9bb0c21057f\",\n                        children: \"@media(max-width:768px){.desktop-game.jsx-966f9bb0c21057f{display:none}.mobile-message.jsx-966f9bb0c21057f{display:block}}@media(min-width:769px){.desktop-game.jsx-966f9bb0c21057f{display:block}.mobile-message.jsx-966f9bb0c21057f{display:none}}\"\n                    }, void 0, false, void 0, this),\n                    !isMobile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            border: \"2px solid #30cfd0\",\n                            borderRadius: \"8px\",\n                            boxShadow: \"0 0 20px rgba(48, 207, 208, 0.5), inset 0 0 10px rgba(48, 207, 208, 0.3)\",\n                            padding: \"4px\"\n                        },\n                        className: \"jsx-966f9bb0c21057f\" + \" \" + \"desktop-game\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_game_PhaserGame__WEBPACK_IMPORTED_MODULE_3__.PhaserGame, {\n                            ref: phaserRef,\n                            currentActiveScene: currentScene\n                        }, void 0, false, {\n                            fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                        lineNumber: 79,\n                        columnNumber: 11\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            padding: \"20px\"\n                        },\n                        className: \"jsx-966f9bb0c21057f\" + \" \" + \"mobile-message\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                style: {\n                                    color: \"#30cfd0\",\n                                    textAlign: \"center\",\n                                    margin: \"20px 0\",\n                                    fontSize: \"2rem\",\n                                    textShadow: \"0 0 10px rgba(48, 207, 208, 0.5)\"\n                                },\n                                className: \"jsx-966f9bb0c21057f\",\n                                children: \"$Buddy\"\n                            }, void 0, false, {\n                                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                lineNumber: 93,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_6___default()), {\n                                src: \"/og.png\",\n                                alt: \"Game screenshot\",\n                                style: {\n                                    maxWidth: \"100%\",\n                                    height: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                lineNumber: 104,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                style: {\n                                    display: \"flex\",\n                                    justifyContent: \"center\",\n                                    gap: \"20px\",\n                                    margin: \"20px 0\",\n                                    flexDirection: window.innerWidth <= 768 ? \"column\" : \"row\",\n                                    alignItems: \"center\",\n                                    width: \"100%\",\n                                    padding: \"0 10px\"\n                                },\n                                className: \"jsx-966f9bb0c21057f\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: _lib_sets__WEBPACK_IMPORTED_MODULE_5__.X_LINK,\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\",\n                                        style: {\n                                            color: \"#30cfd0\",\n                                            fontSize: \"1.5rem\",\n                                            transition: \"transform 0.2s\",\n                                            textDecoration: \"none\",\n                                            padding: \"10px 20px\",\n                                            border: \"1px solid rgba(48, 207, 208, 0.3)\",\n                                            borderRadius: \"8px\",\n                                            background: \"rgba(48, 207, 208, 0.1)\",\n                                            boxShadow: \"0 0 15px rgba(48, 207, 208, 0.2)\"\n                                        },\n                                        onMouseOver: (e)=>e.currentTarget.style.transform = \"scale(1.1)\",\n                                        onMouseOut: (e)=>e.currentTarget.style.transform = \"scale(1)\",\n                                        className: \"jsx-966f9bb0c21057f\",\n                                        children: \"Twitter\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                        lineNumber: 121,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: _lib_sets__WEBPACK_IMPORTED_MODULE_5__.TELEGRAM_LINK,\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\",\n                                        style: {\n                                            color: \"#30cfd0\",\n                                            fontSize: \"1.5rem\",\n                                            transition: \"transform 0.2s\",\n                                            textDecoration: \"none\",\n                                            padding: \"10px 20px\",\n                                            border: \"1px solid rgba(48, 207, 208, 0.3)\",\n                                            borderRadius: \"8px\",\n                                            background: \"rgba(48, 207, 208, 0.1)\",\n                                            boxShadow: \"0 0 15px rgba(48, 207, 208, 0.2)\"\n                                        },\n                                        onMouseOver: (e)=>e.currentTarget.style.transform = \"scale(1.1)\",\n                                        onMouseOut: (e)=>e.currentTarget.style.transform = \"scale(1)\",\n                                        className: \"jsx-966f9bb0c21057f\",\n                                        children: \"Telegram\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                        lineNumber: 145,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                        href: _lib_sets__WEBPACK_IMPORTED_MODULE_5__.DEX_LINK,\n                                        target: \"_blank\",\n                                        rel: \"noopener noreferrer\",\n                                        style: {\n                                            color: \"#30cfd0\",\n                                            fontSize: \"1.5rem\",\n                                            transition: \"transform 0.2s\",\n                                            textDecoration: \"none\",\n                                            padding: \"10px 20px\",\n                                            border: \"1px solid rgba(48, 207, 208, 0.3)\",\n                                            borderRadius: \"8px\",\n                                            background: \"rgba(48, 207, 208, 0.1)\",\n                                            boxShadow: \"0 0 15px rgba(48, 207, 208, 0.2)\"\n                                        },\n                                        onMouseOver: (e)=>e.currentTarget.style.transform = \"scale(1.1)\",\n                                        onMouseOut: (e)=>e.currentTarget.style.transform = \"scale(1)\",\n                                        className: \"jsx-966f9bb0c21057f\",\n                                        children: \"Buy Now\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                        lineNumber: 169,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                style: {\n                                    color: \"#fff\",\n                                    textAlign: \"center\",\n                                    margin: \"20px 0\",\n                                    fontSize: \"1.1rem\",\n                                    padding: \"15px 25px\",\n                                    background: \"rgba(48, 207, 208, 0.1)\",\n                                    border: \"1px solid rgba(48, 207, 208, 0.3)\",\n                                    borderRadius: \"8px\",\n                                    boxShadow: \"0 0 15px rgba(48, 207, 208, 0.2)\",\n                                    letterSpacing: \"0.5px\",\n                                    lineHeight: \"1.5\"\n                                },\n                                className: \"jsx-966f9bb0c21057f\",\n                                children: \"Please use a computer to play this game for the best experience.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                                lineNumber: 194,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                        lineNumber: 92,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                lineNumber: 59,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"game-info\",\n                style: {\n                    display: \"flex\",\n                    padding: \"20px\",\n                    color: \"#fff\",\n                    gap: \"20px\"\n                },\n                children: showInfo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        flex: 1,\n                        textAlign: \"center\"\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        style: {\n                            fontSize: \"1.2rem\",\n                            margin: \"0 auto\",\n                            color: \"#888888\",\n                            letterSpacing: \"0.1em\",\n                            padding: \"0 60px\"\n                        },\n                        children: \"Experience the first kick-the-buddy game on the blockchain! Unleash mayhem with an arsenal of devastating weapons and stylish character skins. The more you play, the more $BUDDY tokens you earn - use them to unlock epic new weapons and rare skins! Help grow our community and raise the market cap to unlock even more awesome content. Join the chaos and start earning today!\"\n                    }, void 0, false, {\n                        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                        lineNumber: 225,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                    lineNumber: 224,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n                lineNumber: 214,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/App.tsx\",\n        lineNumber: 50,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (App);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1Z2QyxPQUFPO29CQUNMQyxTQUFTO29CQUNUTyxTQUFTO29CQUNUSSxPQUFPO29CQUNQUyxLQUFLO2dCQUNQOzBCQUVDbEMsMEJBQ0MsOERBQUNXO29CQUFJRSxPQUFPO3dCQUFFd0MsTUFBTTt3QkFBRzNCLFdBQVc7b0JBQVM7OEJBQ3pDLDRFQUFDdUI7d0JBQ0NwQyxPQUFPOzRCQUNMZSxVQUFVOzRCQUNWRCxRQUFROzRCQUNSRixPQUFPOzRCQUNQeUIsZUFBZTs0QkFDZjdCLFNBQVM7d0JBQ1g7a0NBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwR2I7QUFFQSxpRUFBZW5DLEdBQUdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waGFzZXItZWRpdG9yLXRlbXBsYXRlLW5leHRqcy8uL3NyYy9BcHAudHN4PzExNmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBJUmVmUGhhc2VyR2FtZSwgUGhhc2VyR2FtZSB9IGZyb20gXCIuL2dhbWUvUGhhc2VyR2FtZVwiO1xuaW1wb3J0IHsgTWFpbk1lbnUgfSBmcm9tIFwiLi9nYW1lL3NjZW5lcy9NYWluTWVudVwiO1xuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi9nYW1lL0V2ZW50QnVzXCI7XG5pbXBvcnQgeyBERVhfTElOSywgVEVMRUdSQU1fTElOSywgWF9MSU5LIH0gZnJvbSBcIi4vbGliL3NldHNcIjtcbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiO1xuXG5mdW5jdGlvbiBBcHAoKSB7XG4gIC8vIFRoZSBzcHJpdGUgY2FuIG9ubHkgYmUgbW92ZWQgaW4gdGhlIE1haW5NZW51IFNjZW5lXG4gIC8vIFRoZSBzcHJpdGUgY2FuIG9ubHkgYmUgbW92ZWQgaW4gdGhlIE1haW5NZW51IFNjZW5lXG4gIGNvbnN0IFtjYW5Nb3ZlU3ByaXRlLCBzZXRDYW5Nb3ZlU3ByaXRlXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8vICBSZWZlcmVuY2VzIHRvIHRoZSBQaGFzZXJHYW1lIGNvbXBvbmVudCAoZ2FtZSBhbmQgc2NlbmUgYXJlIGV4cG9zZWQpXG4gIGNvbnN0IHBoYXNlclJlZiA9IHVzZVJlZjxJUmVmUGhhc2VyR2FtZSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3ByaXRlUG9zaXRpb24sIHNldFNwcml0ZVBvc2l0aW9uXSA9IHVzZVN0YXRlKHsgeDogMCwgeTogMCB9KTtcblxuICAvLyBFdmVudCBlbWl0dGVkIGZyb20gdGhlIFBoYXNlckdhbWUgY29tcG9uZW50XG4gIGNvbnN0IGN1cnJlbnRTY2VuZSA9IChzY2VuZTogUGhhc2VyLlNjZW5lKSA9PiB7XG4gICAgc2V0Q2FuTW92ZVNwcml0ZShzY2VuZS5zY2VuZS5rZXkgIT09IFwiTWFpbk1lbnVcIik7XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBFdmVudEJ1cy5vbihcInNob3ctaW5mb1wiLCAoc2hvdzogYm9vbGVhbikgPT4ge1xuICAgICAgc2V0U2hvd0luZm8oc2hvdyk7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBbc2hvd0luZm8sIHNldFNob3dJbmZvXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICBjb25zdCBbaXNNb2JpbGUsIHNldElzTW9iaWxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNoZWNrRGV2aWNlID0gKCkgPT4ge1xuICAgICAgY29uc3QgbW9iaWxlID1cbiAgICAgICAgL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KFxuICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnRcbiAgICAgICAgKTtcbiAgICAgIHNldElzTW9iaWxlKG1vYmlsZSk7XG4gICAgfTtcblxuICAgIGNoZWNrRGV2aWNlKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgY2hlY2tEZXZpY2UpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGNoZWNrRGV2aWNlKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICBpZD1cImFwcFwiXG4gICAgICBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICB9fVxuICAgID5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FtZS1jb250YWluZXJcIj5cbiAgICAgICAgPHN0eWxlIGpzeD57YFxuICAgICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgICAgICAgICAgLmRlc2t0b3AtZ2FtZSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9iaWxlLW1lc3NhZ2Uge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDc2OXB4KSB7XG4gICAgICAgICAgICAuZGVza3RvcC1nYW1lIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9iaWxlLW1lc3NhZ2Uge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgYH08L3N0eWxlPlxuICAgICAgICB7IWlzTW9iaWxlID8gKFxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImRlc2t0b3AtZ2FtZVwiXG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkICMzMGNmZDBcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICBib3hTaGFkb3c6XG4gICAgICAgICAgICAgICAgXCIwIDAgMjBweCByZ2JhKDQ4LCAyMDcsIDIwOCwgMC41KSwgaW5zZXQgMCAwIDEwcHggcmdiYSg0OCwgMjA3LCAyMDgsIDAuMylcIixcbiAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHhcIixcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPFBoYXNlckdhbWUgcmVmPXtwaGFzZXJSZWZ9IGN1cnJlbnRBY3RpdmVTY2VuZT17Y3VycmVudFNjZW5lfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibW9iaWxlLW1lc3NhZ2VcIiBzdHlsZT17eyBwYWRkaW5nOiBcIjIwcHhcIiB9fT5cbiAgICAgICAgICAgIDxoMVxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMGNmZDBcIixcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBcIjIwcHggMFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjJyZW1cIixcbiAgICAgICAgICAgICAgICB0ZXh0U2hhZG93OiBcIjAgMCAxMHB4IHJnYmEoNDgsIDIwNywgMjA4LCAwLjUpXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICRCdWRkeVxuICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICBzcmM9XCIvb2cucG5nXCJcbiAgICAgICAgICAgICAgYWx0PVwiR2FtZSBzY3JlZW5zaG90XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWF4V2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiYXV0b1wiIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGdhcDogXCIyMHB4XCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBcIjIwcHggMFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IHdpbmRvdy5pbm5lcldpZHRoIDw9IDc2OCA/IFwiY29sdW1uXCIgOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMCAxMHB4XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgaHJlZj17WF9MSU5LfVxuICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMGNmZDBcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJ0cmFuc2Zvcm0gMC4yc1wiLFxuICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxMHB4IDIwcHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSg0OCwgMjA3LCAyMDgsIDAuMylcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSg0OCwgMjA3LCAyMDgsIDAuMSlcIixcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDAgMTVweCByZ2JhKDQ4LCAyMDcsIDIwOCwgMC4yKVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEuMSlcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZU91dD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBUd2l0dGVyXG4gICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICBocmVmPXtURUxFR1JBTV9MSU5LfVxuICAgICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiMzMGNmZDBcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuNXJlbVwiLFxuICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJ0cmFuc2Zvcm0gMC4yc1wiLFxuICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxMHB4IDIwcHhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSg0OCwgMjA3LCAyMDgsIDAuMylcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwicmdiYSg0OCwgMjA3LCAyMDgsIDAuMSlcIixcbiAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDAgMTVweCByZ2JhKDQ4LCAyMDcsIDIwOCwgMC4yKVwiLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9eyhlKSA9PlxuICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEuMSlcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb25Nb3VzZU91dD17KGUpID0+XG4gICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMSlcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBUZWxlZ3JhbVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgaHJlZj17REVYX0xJTkt9XG4gICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzMwY2ZkMFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMS41cmVtXCIsXG4gICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBcInRyYW5zZm9ybSAwLjJzXCIsXG4gICAgICAgICAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEwcHggMjBweFwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCByZ2JhKDQ4LCAyMDcsIDIwOCwgMC4zKVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjhweFwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDQ4LCAyMDcsIDIwOCwgMC4xKVwiLFxuICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMCAxNXB4IHJnYmEoNDgsIDIwNywgMjA4LCAwLjIpXCIsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17KGUpID0+XG4gICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4xKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXsoZSkgPT5cbiAgICAgICAgICAgICAgICAgIChlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxKVwiKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEJ1eSBOb3dcbiAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBcIjIwcHggMFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEuMXJlbVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTVweCAyNXB4XCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDQ4LCAyMDcsIDIwOCwgMC4xKVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgcmdiYSg0OCwgMjA3LCAyMDgsIDAuMylcIixcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMCAxNXB4IHJnYmEoNDgsIDIwNywgMjA4LCAwLjIpXCIsXG4gICAgICAgICAgICAgICAgbGV0dGVyU3BhY2luZzogXCIwLjVweFwiLFxuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMS41XCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFBsZWFzZSB1c2UgYSBjb21wdXRlciB0byBwbGF5IHRoaXMgZ2FtZSBmb3IgdGhlIGJlc3QgZXhwZXJpZW5jZS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJnYW1lLWluZm9cIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgIHBhZGRpbmc6IFwiMjBweFwiLFxuICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICAgICAgICBnYXA6IFwiMjBweFwiLFxuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICB7c2hvd0luZm8gJiYgKFxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSwgdGV4dEFsaWduOiBcImNlbnRlclwiIH19PlxuICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxLjJyZW1cIixcbiAgICAgICAgICAgICAgICBtYXJnaW46IFwiMCBhdXRvXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzg4ODg4OFwiLFxuICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC4xZW1cIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAgNjBweFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBFeHBlcmllbmNlIHRoZSBmaXJzdCBraWNrLXRoZS1idWRkeSBnYW1lIG9uIHRoZSBibG9ja2NoYWluIVxuICAgICAgICAgICAgICBVbmxlYXNoIG1heWhlbSB3aXRoIGFuIGFyc2VuYWwgb2YgZGV2YXN0YXRpbmcgd2VhcG9ucyBhbmQgc3R5bGlzaFxuICAgICAgICAgICAgICBjaGFyYWN0ZXIgc2tpbnMuIFRoZSBtb3JlIHlvdSBwbGF5LCB0aGUgbW9yZSAkQlVERFkgdG9rZW5zIHlvdVxuICAgICAgICAgICAgICBlYXJuIC0gdXNlIHRoZW0gdG8gdW5sb2NrIGVwaWMgbmV3IHdlYXBvbnMgYW5kIHJhcmUgc2tpbnMhIEhlbHBcbiAgICAgICAgICAgICAgZ3JvdyBvdXIgY29tbXVuaXR5IGFuZCByYWlzZSB0aGUgbWFya2V0IGNhcCB0byB1bmxvY2sgZXZlbiBtb3JlXG4gICAgICAgICAgICAgIGF3ZXNvbWUgY29udGVudC4gSm9pbiB0aGUgY2hhb3MgYW5kIHN0YXJ0IGVhcm5pbmcgdG9kYXkhXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIDxkaXZcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgbWF4V2lkdGg6IFwiNDAwcHhcIixcbiAgICAgICAgICAgIGdhcDogXCI0MHB4XCIsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiBcIjFyZW1cIiB9fT5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzg4ODg4OFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBIZWFsdGg6XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI0cHhcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICMzMGNmZDBcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9ezEwMH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgRXZlbnRCdXMuZW1pdChcImhlYWx0aC11cGRhdGVcIiwgdmFsdWUpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luQm90dG9tOiBcIjAuNXJlbVwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM4ODg4ODhcIixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgTWFya2V0IENhcDpcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzMwY2ZkMFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17MTAwMDAwMDB9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VJbnQoZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgIEV2ZW50QnVzLmVtaXQoXCJtYXJrZXRjYXAtY2hhbmdlZFwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzg4ODg4OFwiLFxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDb2luczpcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMC41cmVtXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIGJvcmRlcjogXCIxcHggc29saWQgIzMwY2ZkMFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgICAgICAgICAgICBjb2xvcjogXCIjZmZmXCIsXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17MTAwMH1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUludChlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgRXZlbnRCdXMuZW1pdChcInNldC1jb2luc1wiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj4gKi99XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBwO1xuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJQaGFzZXJHYW1lIiwiRXZlbnRCdXMiLCJERVhfTElOSyIsIlRFTEVHUkFNX0xJTksiLCJYX0xJTksiLCJJbWFnZSIsIkFwcCIsImNhbk1vdmVTcHJpdGUiLCJzZXRDYW5Nb3ZlU3ByaXRlIiwicGhhc2VyUmVmIiwic3ByaXRlUG9zaXRpb24iLCJzZXRTcHJpdGVQb3NpdGlvbiIsIngiLCJ5IiwiY3VycmVudFNjZW5lIiwic2NlbmUiLCJrZXkiLCJvbiIsInNob3ciLCJzZXRTaG93SW5mbyIsInNob3dJbmZvIiwiaXNNb2JpbGUiLCJzZXRJc01vYmlsZSIsImNoZWNrRGV2aWNlIiwibW9iaWxlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGl2IiwiaWQiLCJzdHlsZSIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwiYm94U2hhZG93IiwicGFkZGluZyIsInJlZiIsImN1cnJlbnRBY3RpdmVTY2VuZSIsImgxIiwiY29sb3IiLCJ0ZXh0QWxpZ24iLCJtYXJnaW4iLCJmb250U2l6ZSIsInRleHRTaGFkb3ciLCJzcmMiLCJhbHQiLCJtYXhXaWR0aCIsImhlaWdodCIsImdhcCIsImlubmVyV2lkdGgiLCJ3aWR0aCIsImEiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwidHJhbnNpdGlvbiIsInRleHREZWNvcmF0aW9uIiwiYmFja2dyb3VuZCIsIm9uTW91c2VPdmVyIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJ0cmFuc2Zvcm0iLCJvbk1vdXNlT3V0IiwicCIsImxldHRlclNwYWNpbmciLCJsaW5lSGVpZ2h0IiwiY2xhc3NOYW1lIiwiZmxleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/App.tsx\n");

/***/ }),

/***/ "./src/game/EventBus.ts":
/*!******************************!*\
  !*** ./src/game/EventBus.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventBus: () => (/* binding */ EventBus)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n\n// Used to emit events between React components and Phaser scenes\n// https://newdocs.phaser.io/docs/3.70.0/Phaser.Events.EventEmitter\nconst EventBus = new phaser__WEBPACK_IMPORTED_MODULE_0__.Events.EventEmitter();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9FdmVudEJ1cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsaUVBQWlFO0FBQ2pFLG1FQUFtRTtBQUM1RCxNQUFNQyxXQUFXLElBQUlELDBDQUFNQSxDQUFDRSxZQUFZLEdBQUciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waGFzZXItZWRpdG9yLXRlbXBsYXRlLW5leHRqcy8uL3NyYy9nYW1lL0V2ZW50QnVzLnRzP2I4MWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAncGhhc2VyJztcblxuLy8gVXNlZCB0byBlbWl0IGV2ZW50cyBiZXR3ZWVuIFJlYWN0IGNvbXBvbmVudHMgYW5kIFBoYXNlciBzY2VuZXNcbi8vIGh0dHBzOi8vbmV3ZG9jcy5waGFzZXIuaW8vZG9jcy8zLjcwLjAvUGhhc2VyLkV2ZW50cy5FdmVudEVtaXR0ZXJcbmV4cG9ydCBjb25zdCBFdmVudEJ1cyA9IG5ldyBFdmVudHMuRXZlbnRFbWl0dGVyKCk7Il0sIm5hbWVzIjpbIkV2ZW50cyIsIkV2ZW50QnVzIiwiRXZlbnRFbWl0dGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/EventBus.ts\n");

/***/ }),

/***/ "./src/game/PhaserGame.tsx":
/*!*********************************!*\
  !*** ./src/game/PhaserGame.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PhaserGame: () => (/* binding */ PhaserGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _main__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./main */ \"./src/game/main.ts\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./EventBus */ \"./src/game/EventBus.ts\");\n\n\n\n\nconst PhaserGame = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function PhaserGame({ currentActiveScene }, ref) {\n    const game = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(()=>{\n        if (game.current === null) {\n            game.current = (0,_main__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\"game-container\");\n            if (typeof ref === \"function\") {\n                ref({\n                    game: game.current,\n                    scene: null\n                });\n            } else if (ref) {\n                ref.current = {\n                    game: game.current,\n                    scene: null\n                };\n            }\n        }\n        return ()=>{\n            if (game.current) {\n                game.current.destroy(true);\n                if (game.current !== null) {\n                    game.current = null;\n                }\n            }\n        };\n    }, [\n        ref\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        _EventBus__WEBPACK_IMPORTED_MODULE_3__.EventBus.on(\"current-scene-ready\", (scene_instance)=>{\n            if (currentActiveScene && typeof currentActiveScene === \"function\") {\n                currentActiveScene(scene_instance);\n            }\n            if (typeof ref === \"function\") {\n                ref({\n                    game: game.current,\n                    scene: scene_instance\n                });\n            } else if (ref) {\n                ref.current = {\n                    game: game.current,\n                    scene: scene_instance\n                };\n            }\n        });\n        return ()=>{\n            _EventBus__WEBPACK_IMPORTED_MODULE_3__.EventBus.removeListener(\"current-scene-ready\");\n        };\n    }, [\n        currentActiveScene,\n        ref\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        id: \"game-container\"\n    }, void 0, false, {\n        fileName: \"/Users/forrestdevs/dev/phaser/kickmev2/src/game/PhaserGame.tsx\",\n        lineNumber: 56,\n        columnNumber: 12\n    }, this);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9QaGFzZXJHYW1lLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUF1RTtBQUN4QztBQUNPO0FBVy9CLE1BQU1NLDJCQUFhTixpREFBVUEsQ0FDbEMsU0FBU00sV0FBVyxFQUFFQyxrQkFBa0IsRUFBRSxFQUFFQyxHQUFHO0lBQzdDLE1BQU1DLE9BQU9OLDZDQUFNQSxDQUFxQjtJQUV4Q0Qsc0RBQWVBLENBQUM7UUFDZCxJQUFJTyxLQUFLQyxPQUFPLEtBQUssTUFBTTtZQUN6QkQsS0FBS0MsT0FBTyxHQUFHTixpREFBU0EsQ0FBQztZQUV6QixJQUFJLE9BQU9JLFFBQVEsWUFBWTtnQkFDN0JBLElBQUk7b0JBQUVDLE1BQU1BLEtBQUtDLE9BQU87b0JBQUVDLE9BQU87Z0JBQUs7WUFDeEMsT0FBTyxJQUFJSCxLQUFLO2dCQUNkQSxJQUFJRSxPQUFPLEdBQUc7b0JBQUVELE1BQU1BLEtBQUtDLE9BQU87b0JBQUVDLE9BQU87Z0JBQUs7WUFDbEQ7UUFDRjtRQUVBLE9BQU87WUFDTCxJQUFJRixLQUFLQyxPQUFPLEVBQUU7Z0JBQ2hCRCxLQUFLQyxPQUFPLENBQUNFLE9BQU8sQ0FBQztnQkFDckIsSUFBSUgsS0FBS0MsT0FBTyxLQUFLLE1BQU07b0JBQ3pCRCxLQUFLQyxPQUFPLEdBQUc7Z0JBQ2pCO1lBQ0Y7UUFDRjtJQUNGLEdBQUc7UUFBQ0Y7S0FBSTtJQUVSUCxnREFBU0EsQ0FBQztRQUNSSSwrQ0FBUUEsQ0FBQ1EsRUFBRSxDQUFDLHVCQUF1QixDQUFDQztZQUNsQyxJQUFJUCxzQkFBc0IsT0FBT0EsdUJBQXVCLFlBQVk7Z0JBQ2xFQSxtQkFBbUJPO1lBQ3JCO1lBRUEsSUFBSSxPQUFPTixRQUFRLFlBQVk7Z0JBQzdCQSxJQUFJO29CQUFFQyxNQUFNQSxLQUFLQyxPQUFPO29CQUFFQyxPQUFPRztnQkFBZTtZQUNsRCxPQUFPLElBQUlOLEtBQUs7Z0JBQ2RBLElBQUlFLE9BQU8sR0FBRztvQkFBRUQsTUFBTUEsS0FBS0MsT0FBTztvQkFBRUMsT0FBT0c7Z0JBQWU7WUFDNUQ7UUFDRjtRQUNBLE9BQU87WUFDTFQsK0NBQVFBLENBQUNVLGNBQWMsQ0FBQztRQUMxQjtJQUNGLEdBQUc7UUFBQ1I7UUFBb0JDO0tBQUk7SUFFNUIscUJBQU8sOERBQUNRO1FBQUlDLElBQUc7Ozs7OztBQUNqQixHQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9QaGFzZXJHYW1lLnRzeD81YTk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcndhcmRSZWYsIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBTdGFydEdhbWUgZnJvbSBcIi4vbWFpblwiO1xuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi9FdmVudEJ1c1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZWZQaGFzZXJHYW1lIHtcbiAgZ2FtZTogUGhhc2VyLkdhbWUgfCBudWxsO1xuICBzY2VuZTogUGhhc2VyLlNjZW5lIHwgbnVsbDtcbn1cblxuaW50ZXJmYWNlIElQcm9wcyB7XG4gIGN1cnJlbnRBY3RpdmVTY2VuZT86IChzY2VuZV9pbnN0YW5jZTogUGhhc2VyLlNjZW5lKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgUGhhc2VyR2FtZSA9IGZvcndhcmRSZWY8SVJlZlBoYXNlckdhbWUsIElQcm9wcz4oXG4gIGZ1bmN0aW9uIFBoYXNlckdhbWUoeyBjdXJyZW50QWN0aXZlU2NlbmUgfSwgcmVmKSB7XG4gICAgY29uc3QgZ2FtZSA9IHVzZVJlZjxQaGFzZXIuR2FtZSB8IG51bGw+KG51bGwhKTtcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoZ2FtZS5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgIGdhbWUuY3VycmVudCA9IFN0YXJ0R2FtZShcImdhbWUtY29udGFpbmVyXCIpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZWYoeyBnYW1lOiBnYW1lLmN1cnJlbnQsIHNjZW5lOiBudWxsIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHJlZikge1xuICAgICAgICAgIHJlZi5jdXJyZW50ID0geyBnYW1lOiBnYW1lLmN1cnJlbnQsIHNjZW5lOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGdhbWUuY3VycmVudCkge1xuICAgICAgICAgIGdhbWUuY3VycmVudC5kZXN0cm95KHRydWUpO1xuICAgICAgICAgIGlmIChnYW1lLmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGdhbWUuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0sIFtyZWZdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBFdmVudEJ1cy5vbihcImN1cnJlbnQtc2NlbmUtcmVhZHlcIiwgKHNjZW5lX2luc3RhbmNlOiBQaGFzZXIuU2NlbmUpID0+IHtcbiAgICAgICAgaWYgKGN1cnJlbnRBY3RpdmVTY2VuZSAmJiB0eXBlb2YgY3VycmVudEFjdGl2ZVNjZW5lID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjdXJyZW50QWN0aXZlU2NlbmUoc2NlbmVfaW5zdGFuY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHJlZih7IGdhbWU6IGdhbWUuY3VycmVudCwgc2NlbmU6IHNjZW5lX2luc3RhbmNlIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKHJlZikge1xuICAgICAgICAgIHJlZi5jdXJyZW50ID0geyBnYW1lOiBnYW1lLmN1cnJlbnQsIHNjZW5lOiBzY2VuZV9pbnN0YW5jZSB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIEV2ZW50QnVzLnJlbW92ZUxpc3RlbmVyKFwiY3VycmVudC1zY2VuZS1yZWFkeVwiKTtcbiAgICAgIH07XG4gICAgfSwgW2N1cnJlbnRBY3RpdmVTY2VuZSwgcmVmXSk7XG5cbiAgICByZXR1cm4gPGRpdiBpZD1cImdhbWUtY29udGFpbmVyXCI+PC9kaXY+O1xuICB9XG4pO1xuXG4iXSwibmFtZXMiOlsiZm9yd2FyZFJlZiIsInVzZUVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZVJlZiIsIlN0YXJ0R2FtZSIsIkV2ZW50QnVzIiwiUGhhc2VyR2FtZSIsImN1cnJlbnRBY3RpdmVTY2VuZSIsInJlZiIsImdhbWUiLCJjdXJyZW50Iiwic2NlbmUiLCJkZXN0cm95Iiwib24iLCJzY2VuZV9pbnN0YW5jZSIsInJlbW92ZUxpc3RlbmVyIiwiZGl2IiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/PhaserGame.tsx\n");

/***/ }),

/***/ "./src/game/classes/Character.ts":
/*!***************************************!*\
  !*** ./src/game/classes/Character.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Character: () => (/* binding */ Character)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ \"./src/game/config.ts\");\n/* harmony import */ var _InputState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InputState */ \"./src/game/classes/InputState.ts\");\n\n\n\nvar DamageState;\n(function(DamageState) {\n    DamageState[\"CLEAN\"] = \"clean\";\n    DamageState[\"LIGHT\"] = \"light\";\n    DamageState[\"HEAVY\"] = \"heavy\";\n    DamageState[\"DEAD\"] = \"dead\";\n})(DamageState || (DamageState = {}));\n//TODO: Finish weapon projectiles\n//TODO: Make it work on mobile\n//TODO: Setup CDN Server\nclass Character {\n    constructor(config, effects){\n        this.health = 100;\n        this.bodyParts = new Map([\n            [\n                \"head\",\n                null\n            ],\n            [\n                \"body\",\n                null\n            ],\n            [\n                \"leftArm\",\n                null\n            ],\n            [\n                \"rightArm\",\n                null\n            ],\n            [\n                \"leftLeg\",\n                null\n            ],\n            [\n                \"rightLeg\",\n                null\n            ]\n        ]);\n        this.currentDamageState = \"clean\";\n        this.DAMAGE_THRESHOLDS = {\n            LIGHT: 75,\n            HEAVY: 35,\n            DEAD: 0\n        };\n        this.headCategory = 1;\n        this.bodyCategory = 2;\n        this.armCategory = 4;\n        this.legCategory = 8;\n        this.worldCategory = 16;\n        this.isRespawning = false;\n        this.onHealthChanged = (damage)=>{\n            // If already dead or will be dead after damage, handle death immediately\n            if (this.health <= 0 || this.health - damage <= 0) {\n                this.health = 0;\n                this.currentDamageState = \"dead\";\n                _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"damage-state-changed\", \"dead\");\n                this.updateCharacterAppearance();\n                this.initiateDeathSequence();\n                return;\n            }\n            // Otherwise process normal damage\n            this.health -= damage;\n            const previousState = this.currentDamageState;\n            this.playRandomBuddySound();\n            this.updateDamageState();\n            if (previousState !== this.currentDamageState) {\n                console.log(\"updateCharacterAppearance\");\n                this.updateCharacterAppearance();\n            }\n        };\n        this.scene = config.scene;\n        this.effects = effects;\n        this.characterSkin = config.tier || \"paper\";\n        this.collisionGroup = config.collisionGroup;\n        this.inputState = _InputState__WEBPACK_IMPORTED_MODULE_2__.InputState.getInstance();\n        this.createCharacter(config.x, config.y);\n        this.setupEventListeners();\n    }\n    createCharacter(x, y) {\n        const characterShapes = this.scene.cache.json.get(\"characterShapes\");\n        const bodyPartConfigs = {\n            head: {\n                x,\n                y,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT,\n                depth: 3,\n                texture: `${this.characterSkin}-head-${this.currentDamageState}`,\n                shape: characterShapes.head,\n                config: {\n                    friction: 1,\n                    density: 0.5\n                }\n            },\n            body: {\n                x,\n                y: y + 80,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT,\n                depth: 2,\n                texture: `${this.characterSkin}-body-${this.currentDamageState}`,\n                shape: characterShapes.body,\n                config: {\n                    friction: 1,\n                    density: 2\n                }\n            },\n            leftArm: {\n                x: x - 62,\n                y: y + 100,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH - 20,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT - 20,\n                depth: 1,\n                texture: `${this.characterSkin}-rarm-${this.currentDamageState}`,\n                shape: characterShapes.larm,\n                config: {\n                    friction: 1,\n                    density: 0.05\n                }\n            },\n            rightArm: {\n                x: x + 138,\n                y: y + 100,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH - 20,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT - 20,\n                depth: 1,\n                texture: `${this.characterSkin}-larm-${this.currentDamageState}`,\n                shape: characterShapes.rarm,\n                config: {\n                    friction: 1,\n                    density: 0.05\n                }\n            },\n            leftLeg: {\n                x: x - 62,\n                y: y + 200,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH - 30,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT - 30,\n                depth: 1,\n                texture: `${this.characterSkin}-rleg-${this.currentDamageState}`,\n                shape: characterShapes.lleg,\n                config: {\n                    friction: 1,\n                    density: 3\n                }\n            },\n            rightLeg: {\n                x: x + 138,\n                y: y + 200,\n                width: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_WIDTH - 30,\n                height: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT - 30,\n                depth: 1,\n                texture: `${this.characterSkin}-lleg-${this.currentDamageState}`,\n                shape: characterShapes.rleg,\n                config: {\n                    friction: 1,\n                    density: 3\n                }\n            }\n        };\n        for (const [part, config] of Object.entries(bodyPartConfigs)){\n            const bodyPart = this.createBodyPart(config);\n            bodyPart.inertia = 9999999;\n            bodyPart.inverseInertia = 1 / 9999999;\n            this.bodyParts.set(part, bodyPart);\n        }\n        this.createJoints();\n    }\n    createBodyPart({ x, y, width, height, depth, texture, shape, config }) {\n        return this.scene.matter.add.image(x, y, texture, undefined, {\n            shape,\n            ...config\n        })// .setFixedRotation()\n        .setDisplaySize(width, height).setCollisionCategory(1).setDepth(depth).setCollisionGroup(this.collisionGroup);\n    }\n    createJoints() {\n        const jointConfigs = {\n            neck: {\n                bodyA: \"head\",\n                bodyB: \"body\",\n                length: 6,\n                stiffness: 0.9,\n                options: {\n                    pointA: {\n                        x: 0,\n                        y: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    },\n                    pointB: {\n                        x: 0,\n                        y: -_config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    }\n                }\n            },\n            neckLeft: {\n                bodyA: \"head\",\n                bodyB: \"body\",\n                length: 6,\n                stiffness: 0.8,\n                options: {\n                    pointA: {\n                        x: -15,\n                        y: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    },\n                    pointB: {\n                        x: -25,\n                        y: -_config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    }\n                }\n            },\n            neckRight: {\n                bodyA: \"head\",\n                bodyB: \"body\",\n                length: 6,\n                stiffness: 0.8,\n                options: {\n                    pointA: {\n                        x: 15,\n                        y: _config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    },\n                    pointB: {\n                        x: 25,\n                        y: -_config__WEBPACK_IMPORTED_MODULE_1__.CHARACTER_HEIGHT / 2.6\n                    }\n                }\n            },\n            leftShoulder: {\n                bodyA: \"leftArm\",\n                bodyB: \"body\",\n                length: 10,\n                stiffness: 0.9,\n                options: {\n                    pointA: {\n                        x: 30,\n                        y: -15\n                    },\n                    pointB: {\n                        x: -25,\n                        y: -35\n                    }\n                }\n            },\n            leftElbow: {\n                bodyA: \"leftArm\",\n                bodyB: \"body\",\n                length: 40,\n                stiffness: 0.8,\n                options: {\n                    pointA: {\n                        x: -30,\n                        y: 20\n                    },\n                    pointB: {\n                        x: -30,\n                        y: 35\n                    }\n                }\n            },\n            rightShoulder: {\n                bodyA: \"rightArm\",\n                bodyB: \"body\",\n                length: 10,\n                stiffness: 0.9,\n                options: {\n                    pointA: {\n                        x: -35,\n                        y: -15\n                    },\n                    pointB: {\n                        x: 25,\n                        y: -35\n                    }\n                }\n            },\n            rightElbow: {\n                bodyA: \"rightArm\",\n                bodyB: \"body\",\n                length: 40,\n                stiffness: 0.8,\n                options: {\n                    pointA: {\n                        x: 30,\n                        y: 20\n                    },\n                    pointB: {\n                        x: 30,\n                        y: 35\n                    }\n                }\n            },\n            leftKnee: {\n                bodyA: \"leftLeg\",\n                bodyB: \"body\",\n                length: 10,\n                stiffness: 0.9,\n                options: {\n                    pointA: {\n                        x: -5,\n                        y: -20\n                    },\n                    pointB: {\n                        x: -30,\n                        y: 35\n                    }\n                }\n            },\n            rightKnee: {\n                bodyA: \"rightLeg\",\n                bodyB: \"body\",\n                length: 10,\n                stiffness: 0.9,\n                options: {\n                    pointA: {\n                        x: 0,\n                        y: -20\n                    },\n                    pointB: {\n                        x: 30,\n                        y: 35\n                    }\n                }\n            },\n            legConnector: {\n                bodyA: \"leftLeg\",\n                bodyB: \"rightLeg\",\n                length: 25,\n                stiffness: 0.8,\n                options: {\n                    pointA: {\n                        x: 20,\n                        y: 0\n                    },\n                    pointB: {\n                        x: -20,\n                        y: 0\n                    }\n                }\n            }\n        };\n        // Create all joints\n        Object.values(jointConfigs).forEach((config)=>{\n            const bodyA = this.bodyParts.get(config.bodyA);\n            const bodyB = this.bodyParts.get(config.bodyB);\n            if (bodyA && bodyB) {\n                this.scene.matter.add.joint(bodyA, bodyB, config.length, config.stiffness, config.options);\n            }\n        });\n    // const head = this.bodyParts.get(\"head\") as unknown as MatterJS.BodyType;\n    // this.scene.matter.add.constraint(head, head, 50, 0.9, {\n    //   pointB: { x: 0, y: -50 },\n    // });\n    }\n    setupEventListeners() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"health-changed\", this.onHealthChanged, this);\n    // EventBus.on(\"projectile-hit\", this.onProjectileHit, this);\n    }\n    updateDamageState() {\n        const healthPercentage = this.health / 100 * 100;\n        // console.log(\"updateDamageState\", healthPercentage);\n        if (healthPercentage <= this.DAMAGE_THRESHOLDS.DEAD) {\n            // console.log(\"updateDamageState DEAD\");\n            this.currentDamageState = \"dead\";\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"damage-state-changed\", \"dead\");\n        } else if (healthPercentage <= this.DAMAGE_THRESHOLDS.HEAVY) {\n            // console.log(\"updateDamageState HEAVY\");\n            this.currentDamageState = \"heavy\";\n            this.effects.spawnCoin(this.getPosition().x, this.getPosition().y, 200);\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"damage-state-changed\", \"heavy\");\n        } else if (healthPercentage <= this.DAMAGE_THRESHOLDS.LIGHT) {\n            // console.log(\"updateDamageState LIGHT\");\n            this.currentDamageState = \"light\";\n            this.effects.spawnCoin(this.getPosition().x, this.getPosition().y, 200);\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"damage-state-changed\", \"light\");\n        } else {\n            // console.log(\"updateDamageState CLEAN\");\n            this.currentDamageState = \"clean\";\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"damage-state-changed\", \"clean\");\n        }\n    }\n    updateCharacterAppearance() {\n        const state = this.currentDamageState;\n        this.bodyParts.forEach((part, partName)=>{\n            if (part) {\n                const baseTexture = `${this.characterSkin}-${this.getPartBaseName(partName)}`;\n                const damageTexture = state === \"clean\" ? baseTexture : `${baseTexture}-${state}`;\n                part.setTexture(damageTexture);\n            }\n        });\n    }\n    getPartBaseName(partName) {\n        const nameMap = {\n            head: \"head\",\n            body: \"body\",\n            leftArm: \"rarm\",\n            rightArm: \"larm\",\n            leftLeg: \"rleg\",\n            rightLeg: \"lleg\"\n        };\n        return nameMap[partName] || partName;\n    }\n    async initiateDeathSequence() {\n        if (this.isRespawning) return;\n        this.isRespawning = true;\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"stop-firing\");\n        this.inputState.lock(\"character-death\");\n        // Play death sound\n        // this.sounds.get(\"death\")?.play();\n        // First remove constraints to let parts disconnect\n        const constraints = this.scene.matter.world.getAllConstraints();\n        constraints.forEach((constraint)=>{\n            const bodyA = constraint.bodyA;\n            const bodyB = constraint.bodyB;\n            if (!bodyA || !bodyB) return;\n            if (this.isCharacterBody(bodyA) || this.isCharacterBody(bodyB)) {\n                this.scene.matter.world.removeConstraint(constraint);\n            }\n        });\n        const characterPos = this.getPosition();\n        for(let i = 0; i < 10; i++){\n            this.effects.spawnCoin(characterPos.x, characterPos.y, 75);\n        }\n        this.scene.sound.play(\"buddy-bone1\");\n        this.scene.sound.play(\"buddy-death\");\n        // Add stronger random forces to scatter parts dramatically\n        this.bodyParts.forEach((part)=>{\n            if (part) {\n                const randomForce = new Phaser.Math.Vector2(Phaser.Math.Between(-0.02, 0.02), Phaser.Math.Between(-0.015, -0.005) // More upward bias\n                );\n                const randomTorque = Phaser.Math.Between(-0.001, 0.001);\n                part.applyForce(randomForce);\n                part.setAngularVelocity(randomTorque);\n            }\n        });\n        // Wait for parts to scatter\n        await new Promise((resolve)=>setTimeout(resolve, 1500));\n        // Start fading parts\n        const fadePromises = Array.from(this.bodyParts.values()).map((part)=>{\n            if (part) {\n                return new Promise((resolve)=>{\n                    // Slow down physics as we fade\n                    if (part.body) {\n                        const currentVel = part.body.velocity;\n                        part.setVelocity(currentVel.x * 0.5, currentVel.y * 0.5);\n                    }\n                    this.scene.tweens.add({\n                        targets: part,\n                        alpha: 0,\n                        duration: 2000,\n                        ease: \"Power1\",\n                        onComplete: ()=>{\n                            // Create smoke effect at final position\n                            // this.createSmokeEffect(part.x, part.y);\n                            resolve();\n                        }\n                    });\n                });\n            }\n            return Promise.resolve();\n        });\n        // Wait for all fades and smoke effects\n        await Promise.all(fadePromises);\n        // Additional delay before respawn\n        await new Promise((resolve)=>setTimeout(resolve, 500));\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"reset-health-bar\");\n        // Finally respawn\n        this.respawnCharacter();\n    }\n    playRandomBuddySound() {\n        const sounds = [\n            \"grunt\",\n            \"ouch\",\n            \"scream\",\n            \"swear\",\n            \"thump\",\n            \"buddy-bone2\"\n        ];\n        const randomSound = sounds[Math.floor(Math.random() * sounds.length)];\n        this.scene.sound.play(randomSound);\n    }\n    isCharacterBody(body) {\n        return Array.from(this.bodyParts.values()).some((part)=>part && part.body === body);\n    }\n    respawnCharacter() {\n        // Reset health\n        this.health = 100;\n        this.currentDamageState = \"clean\";\n        // Clear existing body parts\n        this.bodyParts.forEach((part)=>part?.destroy());\n        this.bodyParts.clear();\n        // Recreate character at spawn position\n        const centerX = this.scene.game.config.width / 2;\n        const centerY = this.scene.game.config.height / 2;\n        this.createCharacter(centerX, centerY);\n        // Fade in new character\n        this.bodyParts.forEach((part)=>{\n            if (part) {\n                part.setAlpha(0);\n                this.scene.tweens.add({\n                    targets: part,\n                    alpha: 1,\n                    duration: 500,\n                    ease: \"Power2\"\n                });\n            }\n        });\n        this.scene.sound.play(\"buddy-respawn\");\n        this.inputState.unlock(\"character-death\");\n        this.isRespawning = false;\n        // Emit respawn event\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"character-respawned\");\n    }\n    getPosition() {\n        const body = this.bodyParts.get(\"body\");\n        if (!body) {\n            return new Phaser.Math.Vector2(0, 0);\n        }\n        // Get the body bounds to find true center\n        const bounds = body.getBounds();\n        return new Phaser.Math.Vector2(bounds.centerX, bounds.centerY);\n    }\n    changeSkin(newTier) {\n        this.characterSkin = newTier;\n        this.bodyParts.get(\"head\")?.setTexture(`${this.characterSkin}-head-${this.currentDamageState}`);\n        this.bodyParts.get(\"body\")?.setTexture(`${this.characterSkin}-body-${this.currentDamageState}`);\n        this.bodyParts.get(\"leftArm\")?.setTexture(`${this.characterSkin}-rarm-${this.currentDamageState}`);\n        this.bodyParts.get(\"rightArm\")?.setTexture(`${this.characterSkin}-larm-${this.currentDamageState}`);\n        this.bodyParts.get(\"leftLeg\")?.setTexture(`${this.characterSkin}-rleg-${this.currentDamageState}`);\n        this.bodyParts.get(\"rightLeg\")?.setTexture(`${this.characterSkin}-lleg-${this.currentDamageState}`);\n    }\n    update() {\n        this.ensureCharacterBounds();\n    }\n    ensureCharacterBounds() {\n        const gameWidth = this.scene.game.config.width;\n        const gameHeight = this.scene.game.config.height;\n        const inset = 50; // 50 pixel inset from bounds\n        const isOutOfBounds = (part)=>{\n            if (!part) return false;\n            return part.x > gameWidth - inset || part.x < inset || part.y > gameHeight - inset || part.y < inset;\n        };\n        // Check if any body part is out of bounds\n        const outOfBounds = Array.from(this.bodyParts.values()).some(isOutOfBounds);\n        if (outOfBounds) {\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"character-out-of-bounds\");\n            this.bodyParts.forEach((part)=>{\n                if (part) {\n                    // Calculate force direction based on position\n                    const forceX = part.x > gameWidth ? -0.005 : part.x < 0 ? 0.005 : 0;\n                    const forceY = part.y > gameHeight ? -0.005 : part.y < 0 ? 0.005 : 0;\n                    // Apply force in opposite direction of out-of-bounds movement\n                    part.applyForce(new Phaser.Math.Vector2(forceX, forceY));\n                }\n            });\n        // this.resetPosition();\n        }\n    }\n    resetPosition() {\n        const centerX = this.scene.game.config.width / 2;\n        const positions = [\n            [\n                \"head\",\n                centerX,\n                200\n            ],\n            [\n                \"body\",\n                centerX,\n                384\n            ],\n            [\n                \"leftArm\",\n                centerX + 238,\n                200\n            ],\n            [\n                \"rightArm\",\n                centerX - 162,\n                200\n            ],\n            [\n                \"leftLeg\",\n                centerX - 162,\n                500\n            ],\n            [\n                \"rightLeg\",\n                centerX + 238,\n                500\n            ]\n        ];\n        positions.forEach(([part, x, y])=>{\n            this.bodyParts.get(part)?.setPosition(x, y);\n        });\n    }\n    // Don't forget to clean up in the destroy method\n    destroy() {\n        // EventBus.off(\"projectile-hit\", this.onProjectileHit, this);\n        // Clean up all body parts\n        this.bodyParts.forEach((part)=>{\n            if (part) {\n                part.destroy();\n            }\n        });\n        // Clear the maps\n        this.bodyParts.clear();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJO1NBQ2pDO1FBQ0RtQixVQUFVNUUsT0FBTyxDQUFDLENBQUMsQ0FBQ3BDLE1BQU16QixHQUFHQyxFQUFFO1lBQzdCLElBQUksQ0FBQy9CLFNBQVMsQ0FBQ29DLEdBQUcsQ0FBQ21CLE9BQWlCaUgsWUFBWTFJLEdBQWFDO1FBQy9EO0lBQ0Y7SUFFQSxpREFBaUQ7SUFDMUNtSCxVQUFnQjtRQUNyQiw4REFBOEQ7UUFFOUQsMEJBQTBCO1FBQzFCLElBQUksQ0FBQ2xKLFNBQVMsQ0FBQzJGLE9BQU8sQ0FBQyxDQUFDcEM7WUFDdEIsSUFBSUEsTUFBTTtnQkFDUkEsS0FBSzJGLE9BQU87WUFDZDtRQUNGO1FBRUEsaUJBQWlCO1FBQ2pCLElBQUksQ0FBQ2xKLFNBQVMsQ0FBQ21KLEtBQUs7SUFDdEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvY2xhc3Nlcy9DaGFyYWN0ZXIudHM/NGJhOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9FdmVudEJ1c1wiO1xuaW1wb3J0IHsgQ0hBUkFDVEVSX1dJRFRILCBDSEFSQUNURVJfSEVJR0hULCBKT0lOVF9MRU5HVEggfSBmcm9tIFwiLi4vY29uZmlnXCI7XG5pbXBvcnQgeyBFZmZlY3RzIH0gZnJvbSBcIi4vRWZmZWN0c1wiO1xuaW1wb3J0IHsgSW5wdXRTdGF0ZSB9IGZyb20gXCIuL0lucHV0U3RhdGVcIjtcblxuaW50ZXJmYWNlIENoYXJhY3RlckNvbmZpZyB7XG4gIHNjZW5lOiBQaGFzZXIuU2NlbmU7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xuICB0aWVyPzogc3RyaW5nO1xuICBjb2xsaXNpb25Hcm91cDogbnVtYmVyO1xufVxuXG50eXBlIEJvZHlQYXJ0Q29uZmlnID0gUmVjb3JkPFxuICBzdHJpbmcsXG4gIHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgdGV4dHVyZTogc3RyaW5nO1xuICAgIGRlcHRoOiBudW1iZXI7XG4gICAgc2hhcGU6IHN0cmluZyB8IFBoYXNlci5UeXBlcy5QaHlzaWNzLk1hdHRlci5NYXR0ZXJTZXRCb2R5Q29uZmlnIHwgdW5kZWZpbmVkO1xuICAgIGNvbmZpZzogUGhhc2VyLlR5cGVzLlBoeXNpY3MuTWF0dGVyLk1hdHRlckJvZHlDb25maWc7XG4gIH1cbj47XG5cbnR5cGUgSm9pbnRDb25maWcgPSBSZWNvcmQ8XG4gIHN0cmluZyxcbiAge1xuICAgIGJvZHlBOiBzdHJpbmc7XG4gICAgYm9keUI6IHN0cmluZztcbiAgICBsZW5ndGg6IG51bWJlcjtcbiAgICBzdGlmZm5lc3M6IG51bWJlcjtcbiAgICBvcHRpb25zOiB7XG4gICAgICBwb2ludEE6IHsgeDogbnVtYmVyOyB5OiBudW1iZXIgfTtcbiAgICAgIHBvaW50QjogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICAgICAgYW5ndWxhclN0aWZmbmVzcz86IG51bWJlcjtcbiAgICAgIHN0aWZmbmVzcz86IG51bWJlcjtcbiAgICB9O1xuICB9XG4+O1xuXG5lbnVtIERhbWFnZVN0YXRlIHtcbiAgQ0xFQU4gPSBcImNsZWFuXCIsXG4gIExJR0hUID0gXCJsaWdodFwiLFxuICBIRUFWWSA9IFwiaGVhdnlcIixcbiAgREVBRCA9IFwiZGVhZFwiLFxufVxuXG5pbnRlcmZhY2UgRGFtYWdlVGhyZXNob2xkcyB7XG4gIExJR0hUOiBudW1iZXI7XG4gIEhFQVZZOiBudW1iZXI7XG4gIERFQUQ6IG51bWJlcjtcbn1cblxuLy9UT0RPOiBGaW5pc2ggd2VhcG9uIHByb2plY3RpbGVzXG4vL1RPRE86IE1ha2UgaXQgd29yayBvbiBtb2JpbGVcbi8vVE9ETzogU2V0dXAgQ0ROIFNlcnZlclxuXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyIHtcbiAgcHJpdmF0ZSBlZmZlY3RzOiBFZmZlY3RzO1xuICBwcml2YXRlIGNvbGxpc2lvbkdyb3VwITogbnVtYmVyO1xuICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XG4gIHByaXZhdGUgaGVhbHRoOiBudW1iZXIgPSAxMDA7XG4gIHByaXZhdGUgY2hhcmFjdGVyU2tpbjogc3RyaW5nO1xuICBwcml2YXRlIGJvZHlQYXJ0czogTWFwPHN0cmluZywgUGhhc2VyLlBoeXNpY3MuTWF0dGVyLkltYWdlIHwgbnVsbD4gPSBuZXcgTWFwKFtcbiAgICBbXCJoZWFkXCIsIG51bGxdLFxuICAgIFtcImJvZHlcIiwgbnVsbF0sXG4gICAgW1wibGVmdEFybVwiLCBudWxsXSxcbiAgICBbXCJyaWdodEFybVwiLCBudWxsXSxcbiAgICBbXCJsZWZ0TGVnXCIsIG51bGxdLFxuICAgIFtcInJpZ2h0TGVnXCIsIG51bGxdLFxuICBdKTtcbiAgcHJpdmF0ZSBjdXJyZW50RGFtYWdlU3RhdGU6IERhbWFnZVN0YXRlID0gRGFtYWdlU3RhdGUuQ0xFQU47XG4gIHByaXZhdGUgcmVhZG9ubHkgREFNQUdFX1RIUkVTSE9MRFM6IERhbWFnZVRocmVzaG9sZHMgPSB7XG4gICAgTElHSFQ6IDc1LCAvLyA3NSUgaGVhbHRoIHJlbWFpbmluZ1xuICAgIEhFQVZZOiAzNSwgLy8gMzUlIGhlYWx0aCByZW1haW5pbmdcbiAgICBERUFEOiAwLFxuICB9O1xuXG4gIHByaXZhdGUgaGVhZENhdGVnb3J5ID0gMGIwMDAxO1xuICBwcml2YXRlIGJvZHlDYXRlZ29yeSA9IDBiMDAxMDtcbiAgcHJpdmF0ZSBhcm1DYXRlZ29yeSA9IDBiMDEwMDtcbiAgcHJpdmF0ZSBsZWdDYXRlZ29yeSA9IDBiMTAwMDtcbiAgcHJpdmF0ZSB3b3JsZENhdGVnb3J5ID0gMGIxMDAwMDtcbiAgcHJpdmF0ZSBpbnB1dFN0YXRlOiBJbnB1dFN0YXRlO1xuICBwcml2YXRlIGlzUmVzcGF3bmluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogQ2hhcmFjdGVyQ29uZmlnLCBlZmZlY3RzOiBFZmZlY3RzKSB7XG4gICAgdGhpcy5zY2VuZSA9IGNvbmZpZy5zY2VuZTtcbiAgICB0aGlzLmVmZmVjdHMgPSBlZmZlY3RzO1xuICAgIHRoaXMuY2hhcmFjdGVyU2tpbiA9IGNvbmZpZy50aWVyIHx8IFwicGFwZXJcIjtcbiAgICB0aGlzLmNvbGxpc2lvbkdyb3VwID0gY29uZmlnLmNvbGxpc2lvbkdyb3VwO1xuICAgIHRoaXMuaW5wdXRTdGF0ZSA9IElucHV0U3RhdGUuZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLmNyZWF0ZUNoYXJhY3Rlcihjb25maWcueCwgY29uZmlnLnkpO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDaGFyYWN0ZXIoeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJTaGFwZXMgPSB0aGlzLnNjZW5lLmNhY2hlLmpzb24uZ2V0KFwiY2hhcmFjdGVyU2hhcGVzXCIpO1xuICAgIGNvbnN0IGJvZHlQYXJ0Q29uZmlnczogQm9keVBhcnRDb25maWcgPSB7XG4gICAgICBoZWFkOiB7XG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHdpZHRoOiBDSEFSQUNURVJfV0lEVEgsXG4gICAgICAgIGhlaWdodDogQ0hBUkFDVEVSX0hFSUdIVCxcbiAgICAgICAgZGVwdGg6IDMsXG4gICAgICAgIHRleHR1cmU6IGAke3RoaXMuY2hhcmFjdGVyU2tpbn0taGVhZC0ke3RoaXMuY3VycmVudERhbWFnZVN0YXRlfWAsXG4gICAgICAgIHNoYXBlOiBjaGFyYWN0ZXJTaGFwZXMuaGVhZCxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgZnJpY3Rpb246IDEsIC8vIFJlZHVjZWRcbiAgICAgICAgICBkZW5zaXR5OiAwLjUsIC8vIFJlZHVjZWRcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBib2R5OiB7XG4gICAgICAgIHgsXG4gICAgICAgIHk6IHkgKyA4MCxcbiAgICAgICAgd2lkdGg6IENIQVJBQ1RFUl9XSURUSCxcbiAgICAgICAgaGVpZ2h0OiBDSEFSQUNURVJfSEVJR0hULFxuICAgICAgICBkZXB0aDogMixcbiAgICAgICAgdGV4dHVyZTogYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1ib2R5LSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCxcbiAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5ib2R5LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBmcmljdGlvbjogMSxcbiAgICAgICAgICBkZW5zaXR5OiAyLCAvLyBNYWluIGJvZHkgc2xpZ2h0bHkgaGVhdmllclxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxlZnRBcm06IHtcbiAgICAgICAgeDogeCAtIDYyLCAvLyA3NTAgLSA1MTIgPSAyMzhcbiAgICAgICAgeTogeSArIDEwMCwgLy8gMjAwIC0gMjAwID0gMFxuICAgICAgICB3aWR0aDogQ0hBUkFDVEVSX1dJRFRIIC0gMjAsXG4gICAgICAgIGhlaWdodDogQ0hBUkFDVEVSX0hFSUdIVCAtIDIwLFxuICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgdGV4dHVyZTogYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1yYXJtLSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCxcbiAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5sYXJtLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBmcmljdGlvbjogMSxcbiAgICAgICAgICBkZW5zaXR5OiAwLjA1LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJpZ2h0QXJtOiB7XG4gICAgICAgIHg6IHggKyAxMzgsIC8vIDM1MCAtIDUxMiA9IC0xNjJcbiAgICAgICAgeTogeSArIDEwMCwgLy8gMjAwIC0gMjAwID0gMFxuICAgICAgICB3aWR0aDogQ0hBUkFDVEVSX1dJRFRIIC0gMjAsXG4gICAgICAgIGhlaWdodDogQ0hBUkFDVEVSX0hFSUdIVCAtIDIwLFxuICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgdGV4dHVyZTogYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1sYXJtLSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCxcbiAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5yYXJtLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBmcmljdGlvbjogMSxcbiAgICAgICAgICBkZW5zaXR5OiAwLjA1LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxlZnRMZWc6IHtcbiAgICAgICAgeDogeCAtIDYyLCAvLyAzNTAgLSA1MTIgPSAtMTYyXG4gICAgICAgIHk6IHkgKyAyMDAsIC8vIDUwMCAtIDIwMCA9IDMwMFxuICAgICAgICB3aWR0aDogQ0hBUkFDVEVSX1dJRFRIIC0gMzAsXG4gICAgICAgIGhlaWdodDogQ0hBUkFDVEVSX0hFSUdIVCAtIDMwLFxuICAgICAgICBkZXB0aDogMSxcbiAgICAgICAgdGV4dHVyZTogYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1ybGVnLSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCxcbiAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5sbGVnLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBmcmljdGlvbjogMSxcbiAgICAgICAgICBkZW5zaXR5OiAzLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHJpZ2h0TGVnOiB7XG4gICAgICAgIHg6IHggKyAxMzgsIC8vIDM1MCAtIDUxMiA9IC0xNjJcbiAgICAgICAgeTogeSArIDIwMCwgLy8gNTAwIC0gMjAwID0gMzAwXG4gICAgICAgIHdpZHRoOiBDSEFSQUNURVJfV0lEVEggLSAzMCxcbiAgICAgICAgaGVpZ2h0OiBDSEFSQUNURVJfSEVJR0hUIC0gMzAsXG4gICAgICAgIGRlcHRoOiAxLFxuICAgICAgICB0ZXh0dXJlOiBgJHt0aGlzLmNoYXJhY3RlclNraW59LWxsZWctJHt0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZX1gLFxuICAgICAgICBzaGFwZTogY2hhcmFjdGVyU2hhcGVzLnJsZWcsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGZyaWN0aW9uOiAxLFxuICAgICAgICAgIGRlbnNpdHk6IDMsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcGFydCwgY29uZmlnXSBvZiBPYmplY3QuZW50cmllcyhib2R5UGFydENvbmZpZ3MpKSB7XG4gICAgICBjb25zdCBib2R5UGFydCA9IHRoaXMuY3JlYXRlQm9keVBhcnQoXG4gICAgICAgIGNvbmZpZ1xuICAgICAgKSBhcyB1bmtub3duIGFzIE1hdHRlckpTLkJvZHlUeXBlO1xuICAgICAgYm9keVBhcnQuaW5lcnRpYSA9IDk5OTk5OTk7XG4gICAgICBib2R5UGFydC5pbnZlcnNlSW5lcnRpYSA9IDEgLyA5OTk5OTk5O1xuICAgICAgdGhpcy5ib2R5UGFydHMuc2V0KFxuICAgICAgICBwYXJ0LFxuICAgICAgICBib2R5UGFydCBhcyB1bmtub3duIGFzIFBoYXNlci5QaHlzaWNzLk1hdHRlci5JbWFnZVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jcmVhdGVKb2ludHMoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQm9keVBhcnQoe1xuICAgIHgsXG4gICAgeSxcbiAgICB3aWR0aCxcbiAgICBoZWlnaHQsXG4gICAgZGVwdGgsXG4gICAgdGV4dHVyZSxcbiAgICBzaGFwZSxcbiAgICBjb25maWcsXG4gIH06IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgZGVwdGg6IG51bWJlcjtcbiAgICB0ZXh0dXJlOiBzdHJpbmc7XG4gICAgc2hhcGU6IHN0cmluZyB8IFBoYXNlci5UeXBlcy5QaHlzaWNzLk1hdHRlci5NYXR0ZXJTZXRCb2R5Q29uZmlnIHwgdW5kZWZpbmVkO1xuICAgIGNvbmZpZzogUGhhc2VyLlR5cGVzLlBoeXNpY3MuTWF0dGVyLk1hdHRlckJvZHlDb25maWc7XG4gIH0pOiBQaGFzZXIuUGh5c2ljcy5NYXR0ZXIuSW1hZ2Uge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLnNjZW5lLm1hdHRlci5hZGRcbiAgICAgICAgLmltYWdlKHgsIHksIHRleHR1cmUsIHVuZGVmaW5lZCwge1xuICAgICAgICAgIHNoYXBlLFxuICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgfSlcbiAgICAgICAgLy8gLnNldEZpeGVkUm90YXRpb24oKVxuICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodClcbiAgICAgICAgLnNldENvbGxpc2lvbkNhdGVnb3J5KDEpXG4gICAgICAgIC5zZXREZXB0aChkZXB0aClcbiAgICAgICAgLnNldENvbGxpc2lvbkdyb3VwKHRoaXMuY29sbGlzaW9uR3JvdXApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlSm9pbnRzKCk6IHZvaWQge1xuICAgIGNvbnN0IGpvaW50Q29uZmlnczogSm9pbnRDb25maWcgPSB7XG4gICAgICBuZWNrOiB7XG4gICAgICAgIGJvZHlBOiBcImhlYWRcIixcbiAgICAgICAgYm9keUI6IFwiYm9keVwiLFxuICAgICAgICBsZW5ndGg6IDYsIC8vIEluY3JlYXNlZCBsZW5ndGhcbiAgICAgICAgc3RpZmZuZXNzOiAwLjksIC8vIFJlZHVjZWQgc3RpZmZuZXNzXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwb2ludEE6IHsgeDogMCwgeTogQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuICAgICAgICAgIHBvaW50QjogeyB4OiAwLCB5OiAtQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIG5lY2tMZWZ0OiB7XG4gICAgICAgIGJvZHlBOiBcImhlYWRcIixcbiAgICAgICAgYm9keUI6IFwiYm9keVwiLFxuICAgICAgICBsZW5ndGg6IDYsXG4gICAgICAgIHN0aWZmbmVzczogMC44LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgcG9pbnRBOiB7IHg6IC0xNSwgeTogQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuICAgICAgICAgIHBvaW50QjogeyB4OiAtMjUsIHk6IC1DSEFSQUNURVJfSEVJR0hUIC8gMi42IH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbmVja1JpZ2h0OiB7XG4gICAgICAgIGJvZHlBOiBcImhlYWRcIixcbiAgICAgICAgYm9keUI6IFwiYm9keVwiLFxuICAgICAgICBsZW5ndGg6IDYsXG4gICAgICAgIHN0aWZmbmVzczogMC44LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgcG9pbnRBOiB7IHg6IDE1LCB5OiBDSEFSQUNURVJfSEVJR0hUIC8gMi42IH0sXG4gICAgICAgICAgcG9pbnRCOiB7IHg6IDI1LCB5OiAtQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxlZnRTaG91bGRlcjoge1xuICAgICAgICBib2R5QTogXCJsZWZ0QXJtXCIsXG4gICAgICAgIGJvZHlCOiBcImJvZHlcIixcbiAgICAgICAgbGVuZ3RoOiAxMCxcbiAgICAgICAgc3RpZmZuZXNzOiAwLjksXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwb2ludEE6IHsgeDogMzAsIHk6IC0xNSB9LFxuICAgICAgICAgIHBvaW50QjogeyB4OiAtMjUsIHk6IC0zNSB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxlZnRFbGJvdzoge1xuICAgICAgICBib2R5QTogXCJsZWZ0QXJtXCIsXG4gICAgICAgIGJvZHlCOiBcImJvZHlcIixcbiAgICAgICAgbGVuZ3RoOiA0MCxcbiAgICAgICAgc3RpZmZuZXNzOiAwLjgsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwb2ludEE6IHsgeDogLTMwLCB5OiAyMCB9LFxuICAgICAgICAgIHBvaW50QjogeyB4OiAtMzAsIHk6IDM1IH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgcmlnaHRTaG91bGRlcjoge1xuICAgICAgICBib2R5QTogXCJyaWdodEFybVwiLFxuICAgICAgICBib2R5QjogXCJib2R5XCIsXG4gICAgICAgIGxlbmd0aDogMTAsXG4gICAgICAgIHN0aWZmbmVzczogMC45LFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgcG9pbnRBOiB7IHg6IC0zNSwgeTogLTE1IH0sXG4gICAgICAgICAgcG9pbnRCOiB7IHg6IDI1LCB5OiAtMzUgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByaWdodEVsYm93OiB7XG4gICAgICAgIGJvZHlBOiBcInJpZ2h0QXJtXCIsXG4gICAgICAgIGJvZHlCOiBcImJvZHlcIixcbiAgICAgICAgbGVuZ3RoOiA0MCxcbiAgICAgICAgc3RpZmZuZXNzOiAwLjgsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwb2ludEE6IHsgeDogMzAsIHk6IDIwIH0sXG4gICAgICAgICAgcG9pbnRCOiB7IHg6IDMwLCB5OiAzNSB9LFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGxlZnRLbmVlOiB7XG4gICAgICAgIGJvZHlBOiBcImxlZnRMZWdcIixcbiAgICAgICAgYm9keUI6IFwiYm9keVwiLFxuICAgICAgICBsZW5ndGg6IDEwLFxuICAgICAgICBzdGlmZm5lc3M6IDAuOSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHBvaW50QTogeyB4OiAtNSwgeTogLTIwIH0sXG4gICAgICAgICAgcG9pbnRCOiB7IHg6IC0zMCwgeTogMzUgfSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICByaWdodEtuZWU6IHtcbiAgICAgICAgYm9keUE6IFwicmlnaHRMZWdcIixcbiAgICAgICAgYm9keUI6IFwiYm9keVwiLFxuICAgICAgICBsZW5ndGg6IDEwLFxuICAgICAgICBzdGlmZm5lc3M6IDAuOSxcbiAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgIHBvaW50QTogeyB4OiAwLCB5OiAtMjAgfSxcbiAgICAgICAgICBwb2ludEI6IHsgeDogMzAsIHk6IDM1IH0sXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgbGVnQ29ubmVjdG9yOiB7XG4gICAgICAgIGJvZHlBOiBcImxlZnRMZWdcIixcbiAgICAgICAgYm9keUI6IFwicmlnaHRMZWdcIixcbiAgICAgICAgbGVuZ3RoOiAyNSxcbiAgICAgICAgc3RpZmZuZXNzOiAwLjgsXG4gICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICBwb2ludEE6IHsgeDogMjAsIHk6IDAgfSwgLy8gQ29ubmVjdCBhdCBoZWVsIG9mIGxlZnQgbGVnXG4gICAgICAgICAgcG9pbnRCOiB7IHg6IC0yMCwgeTogMCB9LCAvLyBDb25uZWN0IGF0IGhlZWwgb2YgcmlnaHQgbGVnXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgYWxsIGpvaW50c1xuICAgIE9iamVjdC52YWx1ZXMoam9pbnRDb25maWdzKS5mb3JFYWNoKChjb25maWcpID0+IHtcbiAgICAgIGNvbnN0IGJvZHlBID0gdGhpcy5ib2R5UGFydHMuZ2V0KFxuICAgICAgICBjb25maWcuYm9keUFcbiAgICAgICkgYXMgdW5rbm93biBhcyBNYXR0ZXJKUy5Cb2R5VHlwZTtcbiAgICAgIGNvbnN0IGJvZHlCID0gdGhpcy5ib2R5UGFydHMuZ2V0KFxuICAgICAgICBjb25maWcuYm9keUJcbiAgICAgICkgYXMgdW5rbm93biBhcyBNYXR0ZXJKUy5Cb2R5VHlwZTtcblxuICAgICAgaWYgKGJvZHlBICYmIGJvZHlCKSB7XG4gICAgICAgIHRoaXMuc2NlbmUubWF0dGVyLmFkZC5qb2ludChcbiAgICAgICAgICBib2R5QSxcbiAgICAgICAgICBib2R5QixcbiAgICAgICAgICBjb25maWcubGVuZ3RoLFxuICAgICAgICAgIGNvbmZpZy5zdGlmZm5lc3MsXG4gICAgICAgICAgY29uZmlnLm9wdGlvbnNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGNvbnN0IGhlYWQgPSB0aGlzLmJvZHlQYXJ0cy5nZXQoXCJoZWFkXCIpIGFzIHVua25vd24gYXMgTWF0dGVySlMuQm9keVR5cGU7XG4gICAgLy8gdGhpcy5zY2VuZS5tYXR0ZXIuYWRkLmNvbnN0cmFpbnQoaGVhZCwgaGVhZCwgNTAsIDAuOSwge1xuICAgIC8vICAgcG9pbnRCOiB7IHg6IDAsIHk6IC01MCB9LFxuICAgIC8vIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIEV2ZW50QnVzLm9uKFwiaGVhbHRoLWNoYW5nZWRcIiwgdGhpcy5vbkhlYWx0aENoYW5nZWQsIHRoaXMpO1xuICAgIC8vIEV2ZW50QnVzLm9uKFwicHJvamVjdGlsZS1oaXRcIiwgdGhpcy5vblByb2plY3RpbGVIaXQsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkhlYWx0aENoYW5nZWQgPSAoZGFtYWdlOiBudW1iZXIpOiB2b2lkID0+IHtcbiAgICAvLyBJZiBhbHJlYWR5IGRlYWQgb3Igd2lsbCBiZSBkZWFkIGFmdGVyIGRhbWFnZSwgaGFuZGxlIGRlYXRoIGltbWVkaWF0ZWx5XG4gICAgaWYgKHRoaXMuaGVhbHRoIDw9IDAgfHwgdGhpcy5oZWFsdGggLSBkYW1hZ2UgPD0gMCkge1xuICAgICAgdGhpcy5oZWFsdGggPSAwO1xuICAgICAgdGhpcy5jdXJyZW50RGFtYWdlU3RhdGUgPSBEYW1hZ2VTdGF0ZS5ERUFEO1xuICAgICAgRXZlbnRCdXMuZW1pdChcImRhbWFnZS1zdGF0ZS1jaGFuZ2VkXCIsIERhbWFnZVN0YXRlLkRFQUQpO1xuICAgICAgdGhpcy51cGRhdGVDaGFyYWN0ZXJBcHBlYXJhbmNlKCk7XG4gICAgICB0aGlzLmluaXRpYXRlRGVhdGhTZXF1ZW5jZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSBwcm9jZXNzIG5vcm1hbCBkYW1hZ2VcbiAgICB0aGlzLmhlYWx0aCAtPSBkYW1hZ2U7XG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHRoaXMuY3VycmVudERhbWFnZVN0YXRlO1xuICAgIHRoaXMucGxheVJhbmRvbUJ1ZGR5U291bmQoKTtcbiAgICB0aGlzLnVwZGF0ZURhbWFnZVN0YXRlKCk7XG5cbiAgICBpZiAocHJldmlvdXNTdGF0ZSAhPT0gdGhpcy5jdXJyZW50RGFtYWdlU3RhdGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwidXBkYXRlQ2hhcmFjdGVyQXBwZWFyYW5jZVwiKTtcbiAgICAgIHRoaXMudXBkYXRlQ2hhcmFjdGVyQXBwZWFyYW5jZSgpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZURhbWFnZVN0YXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IGhlYWx0aFBlcmNlbnRhZ2UgPSAodGhpcy5oZWFsdGggLyAxMDApICogMTAwO1xuICAgIC8vIGNvbnNvbGUubG9nKFwidXBkYXRlRGFtYWdlU3RhdGVcIiwgaGVhbHRoUGVyY2VudGFnZSk7XG4gICAgaWYgKGhlYWx0aFBlcmNlbnRhZ2UgPD0gdGhpcy5EQU1BR0VfVEhSRVNIT0xEUy5ERUFEKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInVwZGF0ZURhbWFnZVN0YXRlIERFQURcIik7XG4gICAgICB0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZSA9IERhbWFnZVN0YXRlLkRFQUQ7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiZGFtYWdlLXN0YXRlLWNoYW5nZWRcIiwgRGFtYWdlU3RhdGUuREVBRCk7XG4gICAgfSBlbHNlIGlmIChoZWFsdGhQZXJjZW50YWdlIDw9IHRoaXMuREFNQUdFX1RIUkVTSE9MRFMuSEVBVlkpIHtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwidXBkYXRlRGFtYWdlU3RhdGUgSEVBVllcIik7XG4gICAgICB0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZSA9IERhbWFnZVN0YXRlLkhFQVZZO1xuICAgICAgdGhpcy5lZmZlY3RzLnNwYXduQ29pbih0aGlzLmdldFBvc2l0aW9uKCkueCwgdGhpcy5nZXRQb3NpdGlvbigpLnksIDIwMCk7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiZGFtYWdlLXN0YXRlLWNoYW5nZWRcIiwgRGFtYWdlU3RhdGUuSEVBVlkpO1xuICAgIH0gZWxzZSBpZiAoaGVhbHRoUGVyY2VudGFnZSA8PSB0aGlzLkRBTUFHRV9USFJFU0hPTERTLkxJR0hUKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInVwZGF0ZURhbWFnZVN0YXRlIExJR0hUXCIpO1xuICAgICAgdGhpcy5jdXJyZW50RGFtYWdlU3RhdGUgPSBEYW1hZ2VTdGF0ZS5MSUdIVDtcbiAgICAgIHRoaXMuZWZmZWN0cy5zcGF3bkNvaW4odGhpcy5nZXRQb3NpdGlvbigpLngsIHRoaXMuZ2V0UG9zaXRpb24oKS55LCAyMDApO1xuICAgICAgRXZlbnRCdXMuZW1pdChcImRhbWFnZS1zdGF0ZS1jaGFuZ2VkXCIsIERhbWFnZVN0YXRlLkxJR0hUKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJ1cGRhdGVEYW1hZ2VTdGF0ZSBDTEVBTlwiKTtcbiAgICAgIHRoaXMuY3VycmVudERhbWFnZVN0YXRlID0gRGFtYWdlU3RhdGUuQ0xFQU47XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiZGFtYWdlLXN0YXRlLWNoYW5nZWRcIiwgRGFtYWdlU3RhdGUuQ0xFQU4pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlQ2hhcmFjdGVyQXBwZWFyYW5jZSgpOiB2b2lkIHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuY3VycmVudERhbWFnZVN0YXRlO1xuICAgIHRoaXMuYm9keVBhcnRzLmZvckVhY2goKHBhcnQsIHBhcnROYW1lKSA9PiB7XG4gICAgICBpZiAocGFydCkge1xuICAgICAgICBjb25zdCBiYXNlVGV4dHVyZSA9IGAke3RoaXMuY2hhcmFjdGVyU2tpbn0tJHt0aGlzLmdldFBhcnRCYXNlTmFtZShcbiAgICAgICAgICBwYXJ0TmFtZVxuICAgICAgICApfWA7XG4gICAgICAgIGNvbnN0IGRhbWFnZVRleHR1cmUgPVxuICAgICAgICAgIHN0YXRlID09PSBEYW1hZ2VTdGF0ZS5DTEVBTiA/IGJhc2VUZXh0dXJlIDogYCR7YmFzZVRleHR1cmV9LSR7c3RhdGV9YDtcbiAgICAgICAgcGFydC5zZXRUZXh0dXJlKGRhbWFnZVRleHR1cmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYXJ0QmFzZU5hbWUocGFydE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgbmFtZU1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgIGhlYWQ6IFwiaGVhZFwiLFxuICAgICAgYm9keTogXCJib2R5XCIsXG4gICAgICBsZWZ0QXJtOiBcInJhcm1cIixcbiAgICAgIHJpZ2h0QXJtOiBcImxhcm1cIixcbiAgICAgIGxlZnRMZWc6IFwicmxlZ1wiLFxuICAgICAgcmlnaHRMZWc6IFwibGxlZ1wiLFxuICAgIH07XG4gICAgcmV0dXJuIG5hbWVNYXBbcGFydE5hbWVdIHx8IHBhcnROYW1lO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBpbml0aWF0ZURlYXRoU2VxdWVuY2UoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKHRoaXMuaXNSZXNwYXduaW5nKSByZXR1cm47XG4gICAgdGhpcy5pc1Jlc3Bhd25pbmcgPSB0cnVlO1xuICAgIEV2ZW50QnVzLmVtaXQoXCJzdG9wLWZpcmluZ1wiKTtcbiAgICB0aGlzLmlucHV0U3RhdGUubG9jayhcImNoYXJhY3Rlci1kZWF0aFwiKTtcbiAgICAvLyBQbGF5IGRlYXRoIHNvdW5kXG4gICAgLy8gdGhpcy5zb3VuZHMuZ2V0KFwiZGVhdGhcIik/LnBsYXkoKTtcblxuICAgIC8vIEZpcnN0IHJlbW92ZSBjb25zdHJhaW50cyB0byBsZXQgcGFydHMgZGlzY29ubmVjdFxuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5zY2VuZS5tYXR0ZXIud29ybGQuZ2V0QWxsQ29uc3RyYWludHMoKTtcbiAgICBjb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICBjb25zdCBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUE7XG4gICAgICBjb25zdCBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUI7XG5cbiAgICAgIGlmICghYm9keUEgfHwgIWJvZHlCKSByZXR1cm47XG5cbiAgICAgIGlmICh0aGlzLmlzQ2hhcmFjdGVyQm9keShib2R5QSkgfHwgdGhpcy5pc0NoYXJhY3RlckJvZHkoYm9keUIpKSB7XG4gICAgICAgIHRoaXMuc2NlbmUubWF0dGVyLndvcmxkLnJlbW92ZUNvbnN0cmFpbnQoY29uc3RyYWludCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBjaGFyYWN0ZXJQb3MgPSB0aGlzLmdldFBvc2l0aW9uKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICB0aGlzLmVmZmVjdHMuc3Bhd25Db2luKGNoYXJhY3RlclBvcy54LCBjaGFyYWN0ZXJQb3MueSwgNzUpO1xuICAgIH1cblxuICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImJ1ZGR5LWJvbmUxXCIpO1xuICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImJ1ZGR5LWRlYXRoXCIpO1xuXG4gICAgLy8gQWRkIHN0cm9uZ2VyIHJhbmRvbSBmb3JjZXMgdG8gc2NhdHRlciBwYXJ0cyBkcmFtYXRpY2FsbHlcbiAgICB0aGlzLmJvZHlQYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICBpZiAocGFydCkge1xuICAgICAgICBjb25zdCByYW5kb21Gb3JjZSA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKFxuICAgICAgICAgIFBoYXNlci5NYXRoLkJldHdlZW4oLTAuMDIsIDAuMDIpLCAvLyBJbmNyZWFzZWQgZm9yY2VcbiAgICAgICAgICBQaGFzZXIuTWF0aC5CZXR3ZWVuKC0wLjAxNSwgLTAuMDA1KSAvLyBNb3JlIHVwd2FyZCBiaWFzXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHJhbmRvbVRvcnF1ZSA9IFBoYXNlci5NYXRoLkJldHdlZW4oLTAuMDAxLCAwLjAwMSk7XG4gICAgICAgIHBhcnQuYXBwbHlGb3JjZShyYW5kb21Gb3JjZSk7XG4gICAgICAgIHBhcnQuc2V0QW5ndWxhclZlbG9jaXR5KHJhbmRvbVRvcnF1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBXYWl0IGZvciBwYXJ0cyB0byBzY2F0dGVyXG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTUwMCkpO1xuXG4gICAgLy8gU3RhcnQgZmFkaW5nIHBhcnRzXG4gICAgY29uc3QgZmFkZVByb21pc2VzID0gQXJyYXkuZnJvbSh0aGlzLmJvZHlQYXJ0cy52YWx1ZXMoKSkubWFwKChwYXJ0KSA9PiB7XG4gICAgICBpZiAocGFydCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAvLyBTbG93IGRvd24gcGh5c2ljcyBhcyB3ZSBmYWRlXG4gICAgICAgICAgaWYgKHBhcnQuYm9keSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFZlbCA9IHBhcnQuYm9keS52ZWxvY2l0eTtcbiAgICAgICAgICAgIHBhcnQuc2V0VmVsb2NpdHkoY3VycmVudFZlbC54ICogMC41LCBjdXJyZW50VmVsLnkgKiAwLjUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICB0YXJnZXRzOiBwYXJ0LFxuICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwgLy8gTG9uZ2VyIGZhZGVcbiAgICAgICAgICAgIGVhc2U6IFwiUG93ZXIxXCIsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgIC8vIENyZWF0ZSBzbW9rZSBlZmZlY3QgYXQgZmluYWwgcG9zaXRpb25cbiAgICAgICAgICAgICAgLy8gdGhpcy5jcmVhdGVTbW9rZUVmZmVjdChwYXJ0LngsIHBhcnQueSk7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pO1xuXG4gICAgLy8gV2FpdCBmb3IgYWxsIGZhZGVzIGFuZCBzbW9rZSBlZmZlY3RzXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoZmFkZVByb21pc2VzKTtcblxuICAgIC8vIEFkZGl0aW9uYWwgZGVsYXkgYmVmb3JlIHJlc3Bhd25cbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICBFdmVudEJ1cy5lbWl0KFwicmVzZXQtaGVhbHRoLWJhclwiKTtcbiAgICAvLyBGaW5hbGx5IHJlc3Bhd25cbiAgICB0aGlzLnJlc3Bhd25DaGFyYWN0ZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgcGxheVJhbmRvbUJ1ZGR5U291bmQoKTogdm9pZCB7XG4gICAgY29uc3Qgc291bmRzID0gW1wiZ3J1bnRcIiwgXCJvdWNoXCIsIFwic2NyZWFtXCIsIFwic3dlYXJcIiwgXCJ0aHVtcFwiLCBcImJ1ZGR5LWJvbmUyXCJdO1xuICAgIGNvbnN0IHJhbmRvbVNvdW5kID0gc291bmRzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHNvdW5kcy5sZW5ndGgpXTtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkocmFuZG9tU291bmQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0NoYXJhY3RlckJvZHkoYm9keTogTWF0dGVySlMuQm9keVR5cGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmJvZHlQYXJ0cy52YWx1ZXMoKSkuc29tZShcbiAgICAgIChwYXJ0KSA9PiBwYXJ0ICYmIHBhcnQuYm9keSA9PT0gYm9keVxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHJlc3Bhd25DaGFyYWN0ZXIoKTogdm9pZCB7XG4gICAgLy8gUmVzZXQgaGVhbHRoXG4gICAgdGhpcy5oZWFsdGggPSAxMDA7XG4gICAgdGhpcy5jdXJyZW50RGFtYWdlU3RhdGUgPSBEYW1hZ2VTdGF0ZS5DTEVBTjtcbiAgICAvLyBDbGVhciBleGlzdGluZyBib2R5IHBhcnRzXG4gICAgdGhpcy5ib2R5UGFydHMuZm9yRWFjaCgocGFydCkgPT4gcGFydD8uZGVzdHJveSgpKTtcbiAgICB0aGlzLmJvZHlQYXJ0cy5jbGVhcigpO1xuXG4gICAgLy8gUmVjcmVhdGUgY2hhcmFjdGVyIGF0IHNwYXduIHBvc2l0aW9uXG4gICAgY29uc3QgY2VudGVyWCA9ICh0aGlzLnNjZW5lLmdhbWUuY29uZmlnLndpZHRoIGFzIG51bWJlcikgLyAyO1xuICAgIGNvbnN0IGNlbnRlclkgPSAodGhpcy5zY2VuZS5nYW1lLmNvbmZpZy5oZWlnaHQgYXMgbnVtYmVyKSAvIDI7XG4gICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXIoY2VudGVyWCwgY2VudGVyWSk7XG5cbiAgICAvLyBGYWRlIGluIG5ldyBjaGFyYWN0ZXJcbiAgICB0aGlzLmJvZHlQYXJ0cy5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICBpZiAocGFydCkge1xuICAgICAgICBwYXJ0LnNldEFscGhhKDApO1xuICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IHBhcnQsXG4gICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICBlYXNlOiBcIlBvd2VyMlwiLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJidWRkeS1yZXNwYXduXCIpO1xuXG4gICAgdGhpcy5pbnB1dFN0YXRlLnVubG9jayhcImNoYXJhY3Rlci1kZWF0aFwiKTtcbiAgICB0aGlzLmlzUmVzcGF3bmluZyA9IGZhbHNlO1xuICAgIC8vIEVtaXQgcmVzcGF3biBldmVudFxuICAgIEV2ZW50QnVzLmVtaXQoXCJjaGFyYWN0ZXItcmVzcGF3bmVkXCIpO1xuICB9XG5cbiAgcHVibGljIGdldFBvc2l0aW9uKCk6IFBoYXNlci5NYXRoLlZlY3RvcjIge1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLmJvZHlQYXJ0cy5nZXQoXCJib2R5XCIpO1xuICAgIGlmICghYm9keSkge1xuICAgICAgcmV0dXJuIG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKDAsIDApO1xuICAgIH1cbiAgICAvLyBHZXQgdGhlIGJvZHkgYm91bmRzIHRvIGZpbmQgdHJ1ZSBjZW50ZXJcbiAgICBjb25zdCBib3VuZHMgPSBib2R5LmdldEJvdW5kcygpO1xuICAgIHJldHVybiBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihib3VuZHMuY2VudGVyWCwgYm91bmRzLmNlbnRlclkpO1xuICB9XG5cbiAgcHVibGljIGNoYW5nZVNraW4obmV3VGllcjogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jaGFyYWN0ZXJTa2luID0gbmV3VGllcjtcbiAgICB0aGlzLmJvZHlQYXJ0c1xuICAgICAgLmdldChcImhlYWRcIilcbiAgICAgID8uc2V0VGV4dHVyZShgJHt0aGlzLmNoYXJhY3RlclNraW59LWhlYWQtJHt0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZX1gKTtcbiAgICB0aGlzLmJvZHlQYXJ0c1xuICAgICAgLmdldChcImJvZHlcIilcbiAgICAgID8uc2V0VGV4dHVyZShgJHt0aGlzLmNoYXJhY3RlclNraW59LWJvZHktJHt0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZX1gKTtcbiAgICB0aGlzLmJvZHlQYXJ0c1xuICAgICAgLmdldChcImxlZnRBcm1cIilcbiAgICAgID8uc2V0VGV4dHVyZShgJHt0aGlzLmNoYXJhY3RlclNraW59LXJhcm0tJHt0aGlzLmN1cnJlbnREYW1hZ2VTdGF0ZX1gKTtcbiAgICB0aGlzLmJvZHlQYXJ0c1xuICAgICAgLmdldChcInJpZ2h0QXJtXCIpXG4gICAgICA/LnNldFRleHR1cmUoYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1sYXJtLSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCk7XG4gICAgdGhpcy5ib2R5UGFydHNcbiAgICAgIC5nZXQoXCJsZWZ0TGVnXCIpXG4gICAgICA/LnNldFRleHR1cmUoYCR7dGhpcy5jaGFyYWN0ZXJTa2lufS1ybGVnLSR7dGhpcy5jdXJyZW50RGFtYWdlU3RhdGV9YCk7XG4gICAgdGhpcy5ib2R5UGFydHNcbiAgICAgIC5nZXQoXCJyaWdodExlZ1wiKVxuICAgICAgPy5zZXRUZXh0dXJlKGAke3RoaXMuY2hhcmFjdGVyU2tpbn0tbGxlZy0ke3RoaXMuY3VycmVudERhbWFnZVN0YXRlfWApO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLmVuc3VyZUNoYXJhY3RlckJvdW5kcygpO1xuICB9XG5cbiAgcHJpdmF0ZSBlbnN1cmVDaGFyYWN0ZXJCb3VuZHMoKTogdm9pZCB7XG4gICAgY29uc3QgZ2FtZVdpZHRoID0gdGhpcy5zY2VuZS5nYW1lLmNvbmZpZy53aWR0aCBhcyBudW1iZXI7XG4gICAgY29uc3QgZ2FtZUhlaWdodCA9IHRoaXMuc2NlbmUuZ2FtZS5jb25maWcuaGVpZ2h0IGFzIG51bWJlcjtcbiAgICBjb25zdCBpbnNldCA9IDUwOyAvLyA1MCBwaXhlbCBpbnNldCBmcm9tIGJvdW5kc1xuXG4gICAgY29uc3QgaXNPdXRPZkJvdW5kcyA9IChcbiAgICAgIHBhcnQ6IFBoYXNlci5QaHlzaWNzLk1hdHRlci5JbWFnZSB8IG51bGxcbiAgICApOiBib29sZWFuID0+IHtcbiAgICAgIGlmICghcGFydCkgcmV0dXJuIGZhbHNlO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgcGFydC54ID4gZ2FtZVdpZHRoIC0gaW5zZXQgfHxcbiAgICAgICAgcGFydC54IDwgaW5zZXQgfHxcbiAgICAgICAgcGFydC55ID4gZ2FtZUhlaWdodCAtIGluc2V0IHx8XG4gICAgICAgIHBhcnQueSA8IGluc2V0XG4gICAgICApO1xuICAgIH07XG5cbiAgICAvLyBDaGVjayBpZiBhbnkgYm9keSBwYXJ0IGlzIG91dCBvZiBib3VuZHNcbiAgICBjb25zdCBvdXRPZkJvdW5kcyA9IEFycmF5LmZyb20odGhpcy5ib2R5UGFydHMudmFsdWVzKCkpLnNvbWUoaXNPdXRPZkJvdW5kcyk7XG5cbiAgICBpZiAob3V0T2ZCb3VuZHMpIHtcbiAgICAgIEV2ZW50QnVzLmVtaXQoXCJjaGFyYWN0ZXItb3V0LW9mLWJvdW5kc1wiKTtcbiAgICAgIHRoaXMuYm9keVBhcnRzLmZvckVhY2goKHBhcnQpID0+IHtcbiAgICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgZm9yY2UgZGlyZWN0aW9uIGJhc2VkIG9uIHBvc2l0aW9uXG4gICAgICAgICAgY29uc3QgZm9yY2VYID0gcGFydC54ID4gZ2FtZVdpZHRoID8gLTAuMDA1IDogcGFydC54IDwgMCA/IDAuMDA1IDogMDtcbiAgICAgICAgICBjb25zdCBmb3JjZVkgPSBwYXJ0LnkgPiBnYW1lSGVpZ2h0ID8gLTAuMDA1IDogcGFydC55IDwgMCA/IDAuMDA1IDogMDtcblxuICAgICAgICAgIC8vIEFwcGx5IGZvcmNlIGluIG9wcG9zaXRlIGRpcmVjdGlvbiBvZiBvdXQtb2YtYm91bmRzIG1vdmVtZW50XG4gICAgICAgICAgcGFydC5hcHBseUZvcmNlKG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGZvcmNlWCwgZm9yY2VZKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gdGhpcy5yZXNldFBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldFBvc2l0aW9uKCk6IHZvaWQge1xuICAgIGNvbnN0IGNlbnRlclggPSAodGhpcy5zY2VuZS5nYW1lLmNvbmZpZy53aWR0aCBhcyBudW1iZXIpIC8gMjtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbXG4gICAgICBbXCJoZWFkXCIsIGNlbnRlclgsIDIwMF0sXG4gICAgICBbXCJib2R5XCIsIGNlbnRlclgsIDM4NF0sXG4gICAgICBbXCJsZWZ0QXJtXCIsIGNlbnRlclggKyAyMzgsIDIwMF0sXG4gICAgICBbXCJyaWdodEFybVwiLCBjZW50ZXJYIC0gMTYyLCAyMDBdLFxuICAgICAgW1wibGVmdExlZ1wiLCBjZW50ZXJYIC0gMTYyLCA1MDBdLFxuICAgICAgW1wicmlnaHRMZWdcIiwgY2VudGVyWCArIDIzOCwgNTAwXSxcbiAgICBdO1xuICAgIHBvc2l0aW9ucy5mb3JFYWNoKChbcGFydCwgeCwgeV0pID0+IHtcbiAgICAgIHRoaXMuYm9keVBhcnRzLmdldChwYXJ0IGFzIHN0cmluZyk/LnNldFBvc2l0aW9uKHggYXMgbnVtYmVyLCB5IGFzIG51bWJlcik7XG4gICAgfSk7XG4gIH1cblxuICAvLyBEb24ndCBmb3JnZXQgdG8gY2xlYW4gdXAgaW4gdGhlIGRlc3Ryb3kgbWV0aG9kXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIC8vIEV2ZW50QnVzLm9mZihcInByb2plY3RpbGUtaGl0XCIsIHRoaXMub25Qcm9qZWN0aWxlSGl0LCB0aGlzKTtcblxuICAgIC8vIENsZWFuIHVwIGFsbCBib2R5IHBhcnRzXG4gICAgdGhpcy5ib2R5UGFydHMuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgaWYgKHBhcnQpIHtcbiAgICAgICAgcGFydC5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhciB0aGUgbWFwc1xuICAgIHRoaXMuYm9keVBhcnRzLmNsZWFyKCk7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbIkV2ZW50QnVzIiwiQ0hBUkFDVEVSX1dJRFRIIiwiQ0hBUkFDVEVSX0hFSUdIVCIsIklucHV0U3RhdGUiLCJEYW1hZ2VTdGF0ZSIsIkNoYXJhY3RlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZWZmZWN0cyIsImhlYWx0aCIsImJvZHlQYXJ0cyIsIk1hcCIsImN1cnJlbnREYW1hZ2VTdGF0ZSIsIkRBTUFHRV9USFJFU0hPTERTIiwiTElHSFQiLCJIRUFWWSIsIkRFQUQiLCJoZWFkQ2F0ZWdvcnkiLCJib2R5Q2F0ZWdvcnkiLCJhcm1DYXRlZ29yeSIsImxlZ0NhdGVnb3J5Iiwid29ybGRDYXRlZ29yeSIsImlzUmVzcGF3bmluZyIsIm9uSGVhbHRoQ2hhbmdlZCIsImRhbWFnZSIsImVtaXQiLCJ1cGRhdGVDaGFyYWN0ZXJBcHBlYXJhbmNlIiwiaW5pdGlhdGVEZWF0aFNlcXVlbmNlIiwicHJldmlvdXNTdGF0ZSIsInBsYXlSYW5kb21CdWRkeVNvdW5kIiwidXBkYXRlRGFtYWdlU3RhdGUiLCJjb25zb2xlIiwibG9nIiwic2NlbmUiLCJjaGFyYWN0ZXJTa2luIiwidGllciIsImNvbGxpc2lvbkdyb3VwIiwiaW5wdXRTdGF0ZSIsImdldEluc3RhbmNlIiwiY3JlYXRlQ2hhcmFjdGVyIiwieCIsInkiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwiY2hhcmFjdGVyU2hhcGVzIiwiY2FjaGUiLCJqc29uIiwiZ2V0IiwiYm9keVBhcnRDb25maWdzIiwiaGVhZCIsIndpZHRoIiwiaGVpZ2h0IiwiZGVwdGgiLCJ0ZXh0dXJlIiwic2hhcGUiLCJmcmljdGlvbiIsImRlbnNpdHkiLCJib2R5IiwibGVmdEFybSIsImxhcm0iLCJyaWdodEFybSIsInJhcm0iLCJsZWZ0TGVnIiwibGxlZyIsInJpZ2h0TGVnIiwicmxlZyIsInBhcnQiLCJPYmplY3QiLCJlbnRyaWVzIiwiYm9keVBhcnQiLCJjcmVhdGVCb2R5UGFydCIsImluZXJ0aWEiLCJpbnZlcnNlSW5lcnRpYSIsInNldCIsImNyZWF0ZUpvaW50cyIsIm1hdHRlciIsImFkZCIsImltYWdlIiwidW5kZWZpbmVkIiwic2V0RGlzcGxheVNpemUiLCJzZXRDb2xsaXNpb25DYXRlZ29yeSIsInNldERlcHRoIiwic2V0Q29sbGlzaW9uR3JvdXAiLCJqb2ludENvbmZpZ3MiLCJuZWNrIiwiYm9keUEiLCJib2R5QiIsImxlbmd0aCIsInN0aWZmbmVzcyIsIm9wdGlvbnMiLCJwb2ludEEiLCJwb2ludEIiLCJuZWNrTGVmdCIsIm5lY2tSaWdodCIsImxlZnRTaG91bGRlciIsImxlZnRFbGJvdyIsInJpZ2h0U2hvdWxkZXIiLCJyaWdodEVsYm93IiwibGVmdEtuZWUiLCJyaWdodEtuZWUiLCJsZWdDb25uZWN0b3IiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwiam9pbnQiLCJvbiIsImhlYWx0aFBlcmNlbnRhZ2UiLCJzcGF3bkNvaW4iLCJnZXRQb3NpdGlvbiIsInN0YXRlIiwicGFydE5hbWUiLCJiYXNlVGV4dHVyZSIsImdldFBhcnRCYXNlTmFtZSIsImRhbWFnZVRleHR1cmUiLCJzZXRUZXh0dXJlIiwibmFtZU1hcCIsImxvY2siLCJjb25zdHJhaW50cyIsIndvcmxkIiwiZ2V0QWxsQ29uc3RyYWludHMiLCJjb25zdHJhaW50IiwiaXNDaGFyYWN0ZXJCb2R5IiwicmVtb3ZlQ29uc3RyYWludCIsImNoYXJhY3RlclBvcyIsImkiLCJzb3VuZCIsInBsYXkiLCJyYW5kb21Gb3JjZSIsIlBoYXNlciIsIk1hdGgiLCJWZWN0b3IyIiwiQmV0d2VlbiIsInJhbmRvbVRvcnF1ZSIsImFwcGx5Rm9yY2UiLCJzZXRBbmd1bGFyVmVsb2NpdHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmYWRlUHJvbWlzZXMiLCJBcnJheSIsImZyb20iLCJtYXAiLCJjdXJyZW50VmVsIiwidmVsb2NpdHkiLCJzZXRWZWxvY2l0eSIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwiZWFzZSIsIm9uQ29tcGxldGUiLCJhbGwiLCJyZXNwYXduQ2hhcmFjdGVyIiwic291bmRzIiwicmFuZG9tU291bmQiLCJmbG9vciIsInJhbmRvbSIsInNvbWUiLCJkZXN0cm95IiwiY2xlYXIiLCJjZW50ZXJYIiwiZ2FtZSIsImNlbnRlclkiLCJzZXRBbHBoYSIsInVubG9jayIsImJvdW5kcyIsImdldEJvdW5kcyIsImNoYW5nZVNraW4iLCJuZXdUaWVyIiwidXBkYXRlIiwiZW5zdXJlQ2hhcmFjdGVyQm91bmRzIiwiZ2FtZVdpZHRoIiwiZ2FtZUhlaWdodCIsImluc2V0IiwiaXNPdXRPZkJvdW5kcyIsIm91dE9mQm91bmRzIiwiZm9yY2VYIiwiZm9yY2VZIiwicmVzZXRQb3NpdGlvbiIsInBvc2l0aW9ucyIsInNldFBvc2l0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/classes/Character.ts\n");

/***/ }),

/***/ "./src/game/classes/Effects.ts":
/*!*************************************!*\
  !*** ./src/game/classes/Effects.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Effects: () => (/* binding */ Effects)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n\nclass Effects {\n    static{\n        this.effectConfig = {\n            slash1: {\n                animKey: \"slash1\",\n                texture: \"slash1_00001\",\n                isPlaying: false,\n                timer: undefined\n            },\n            slash2: {\n                animKey: \"slash2\",\n                texture: \"slash2_00010\",\n                isPlaying: false,\n                timer: undefined\n            },\n            slash3: {\n                animKey: \"slash3\",\n                texture: \"slash3_00016\",\n                isPlaying: false,\n                timer: undefined\n            },\n            slash4: {\n                animKey: \"slash4\",\n                texture: \"slash4_00027\",\n                isPlaying: false,\n                timer: undefined\n            },\n            b1: {\n                animKey: \"b1\",\n                texture: \"blood1_00018\",\n                isPlaying: false,\n                timer: undefined\n            },\n            b2: {\n                animKey: \"b2\",\n                texture: \"bloodgush3_018\",\n                isPlaying: false,\n                timer: undefined\n            },\n            b3: {\n                animKey: \"b4\",\n                texture: \"darkerblood1_00018\",\n                isPlaying: false,\n                timer: undefined\n            },\n            explosion1: {\n                animKey: \"explosion\",\n                texture: \"firstexplosion_00001\",\n                isPlaying: false,\n                timer: undefined\n            },\n            explosion2: {\n                animKey: \"explosion2\",\n                texture: \"expl2fixed_00000\",\n                isPlaying: false,\n                timer: undefined\n            },\n            fire1: {\n                animKey: \"fire\",\n                texture: \"groundfire_00016\",\n                isPlaying: false,\n                timer: undefined\n            },\n            fire2: {\n                animKey: \"fire2\",\n                texture: \"fire2fixed_00012\",\n                isPlaying: false,\n                timer: undefined\n            },\n            coin: {\n                animKey: \"coin-spin\",\n                texture: \"SpinningMoney0041\",\n                isPlaying: false,\n                timer: undefined\n            }\n        };\n    }\n    constructor(scene){\n        this.scene = scene;\n        this.groundY = this.scene.cameras.main.height - 50;\n        this.finalX = this.scene.cameras.main.width - 200;\n        this.finalY = 30;\n    }\n    //   public playEffect(key: EffectType, x: number, y: number): void {\n    //     const config = Effects.effectConfig[key];\n    //     if (!config) return;\n    //     const sprite = this.scene.add\n    //       .sprite(x, y, config.texture)\n    //       .setDepth(4)\n    //       .setVisible(true); // Start visible\n    //     // Example of a tween to fade out and destroy the sprite\n    //     sprite.setAlpha(0); // Start invisible\n    //     this.scene.tweens.add({\n    //       targets: sprite,\n    //       alpha: 1, // Fade in\n    //       duration: 500,\n    //       onComplete: () => {\n    //         // this.playEffect(key, \"b1\");\n    //       },\n    //     });\n    //     // If effect is already playing, just reset its stop timer\n    //     if (config.isPlaying) {\n    //       if (config.timer) {\n    //         config.timer.reset({\n    //           delay: 500,\n    //           callback: () => {\n    //             config.isPlaying = false;\n    //             sprite.stop();\n    //             sprite.setVisible(false); // Hide the sprite\n    //             sprite.off(\"animationcomplete\");\n    //           },\n    //         });\n    //       }\n    //       return;\n    //     }\n    //     // Start playing the effect\n    //     config.isPlaying = true;\n    //     sprite.setVisible(true); // Show the sprite\n    //     sprite.play(config.animKey);\n    //     // Set up auto-repeat on animation complete\n    //     sprite.on(\"animationcomplete\", () => {\n    //       if (config.isPlaying) {\n    //         sprite.play(config.animKey);\n    //       }\n    //     });\n    //     // Create a timer to stop the effect if no more hits occur\n    //     config.timer = this.scene.time.delayedCall(500, () => {\n    //       config.isPlaying = false;\n    //       sprite.destroy();\n    //     });\n    //     return sprite;\n    //   }\n    playEffect(key, x, y, loops = 1) {\n        const config = Effects.effectConfig[key];\n        if (!config) return;\n        const sprite = this.scene.add.sprite(x, y, config.texture).setDepth(4).setAlpha(0);\n        let loopCount = 0;\n        sprite.on(\"animationcomplete\", ()=>{\n            loopCount++;\n            if (loopCount < loops) {\n                sprite.play(config.animKey);\n            } else {\n                // Start fade out when loops are complete\n                this.scene.tweens.add({\n                    targets: sprite,\n                    alpha: 0,\n                    duration: 200,\n                    onComplete: ()=>sprite.destroy()\n                });\n            }\n        });\n        // Fade in and start animation\n        this.scene.tweens.add({\n            targets: sprite,\n            alpha: 1,\n            duration: 50,\n            onComplete: ()=>sprite.play(config.animKey)\n        });\n    }\n    spawnCoin(x, y, dropAmount) {\n        const coin = this.scene.add.sprite(x, y, \"coin\").setDepth(4).setScale(0.2);\n        // Random initial direction with full 360 degree range\n        const randomAngle = Phaser.Math.FloatBetween(-Math.PI, Math.PI);\n        const force = Phaser.Math.FloatBetween(100, 200); // Randomize force\n        const dx = Math.cos(randomAngle) * force;\n        const dy = Math.sin(randomAngle) * force;\n        // Random initial height and distance\n        const initialHeight = Phaser.Math.FloatBetween(-150, -50);\n        const bounceHeight = Phaser.Math.FloatBetween(10, 30);\n        // Initial throw animation with physics-like motion\n        this.scene.tweens.add({\n            targets: coin,\n            x: x + dx,\n            y: y + initialHeight,\n            duration: Phaser.Math.FloatBetween(300, 500),\n            ease: \"Quad.easeOut\",\n            onComplete: ()=>{\n                // Get ground position (50px from bottom)\n                // Falling animation with natural gravity\n                this.scene.tweens.add({\n                    targets: coin,\n                    y: this.groundY - bounceHeight,\n                    duration: Phaser.Math.FloatBetween(600, 800),\n                    ease: \"Cubic.easeIn\",\n                    onComplete: ()=>{\n                        // Small settling bounces\n                        this.scene.tweens.add({\n                            targets: coin,\n                            y: this.groundY,\n                            duration: Phaser.Math.FloatBetween(150, 250),\n                            ease: \"Quad.easeOut\",\n                            onComplete: ()=>{\n                                // Random delay before flying to corner\n                                this.scene.time.delayedCall(Phaser.Math.FloatBetween(200, 400), ()=>{\n                                    // Final animation to top right corner\n                                    this.scene.tweens.add({\n                                        targets: coin,\n                                        x: this.finalX,\n                                        y: this.finalY,\n                                        scale: 0.1,\n                                        duration: Phaser.Math.FloatBetween(500, 700),\n                                        ease: \"Back.easeIn\",\n                                        onComplete: ()=>{\n                                            this.scene.sound.play(\"coin-pickup\", {\n                                                volume: 0.4\n                                            });\n                                            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"coins-changed\", dropAmount ?? 3);\n                                            coin.destroy();\n                                        }\n                                    });\n                                });\n                            }\n                        });\n                    }\n                });\n            }\n        });\n        // Spin animation while bouncing\n        coin.play(\"coin-spin\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxzQ0FBc0M7b0NBRXRDLElBQUksQ0FBQ2pDLEtBQUssQ0FBQ3FCLE1BQU0sQ0FBQ04sR0FBRyxDQUFDO3dDQUNwQk8sU0FBU3hCO3dDQUNUWSxHQUFHLElBQUksQ0FBQ0wsTUFBTTt3Q0FDZE0sR0FBRyxJQUFJLENBQUNKLE1BQU07d0NBQ2RzQyxPQUFPO3dDQUNQckIsVUFBVU8sT0FBT0MsSUFBSSxDQUFDQyxZQUFZLENBQUMsS0FBSzt3Q0FDeENTLE1BQU07d0NBQ05qQixZQUFZOzRDQUNWLElBQUksQ0FBQ3pCLEtBQUssQ0FBQzhDLEtBQUssQ0FBQzFCLElBQUksQ0FBQyxlQUFlO2dEQUNuQzJCLFFBQVE7NENBQ1Y7NENBQ0FwRSwrQ0FBUUEsQ0FBQ3FFLElBQUksQ0FBQyxpQkFBaUJwQixjQUFjOzRDQUM3QzlCLEtBQUs0QixPQUFPO3dDQUNkO29DQUNGO2dDQUNGOzRCQUVKO3dCQUNGO29CQUNGO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLGdDQUFnQztRQUNoQzVCLEtBQUtzQixJQUFJLENBQUM7SUFDWjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9jbGFzc2VzL0VmZmVjdHMudHM/YTE0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY2VuZSB9IGZyb20gXCJwaGFzZXJcIjtcbmltcG9ydCB7IENoYXJhY3RlciB9IGZyb20gXCIuL0NoYXJhY3RlclwiO1xuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vRXZlbnRCdXNcIjtcblxuZXhwb3J0IHR5cGUgRWZmZWN0VHlwZSA9XG4gIHwgXCJzbGFzaDFcIlxuICB8IFwic2xhc2gyXCJcbiAgfCBcInNsYXNoM1wiXG4gIHwgXCJzbGFzaDRcIlxuICB8IFwiYjFcIlxuICB8IFwiYjJcIlxuICB8IFwiYjNcIlxuICB8IFwiZXhwbG9zaW9uMVwiXG4gIHwgXCJleHBsb3Npb24yXCJcbiAgfCBcImZpcmUxXCJcbiAgfCBcImZpcmUyXCJcbiAgfCBcImNvaW5cIjtcblxuaW50ZXJmYWNlIEVmZmVjdENvbmZpZyB7XG4gIGFuaW1LZXk6IHN0cmluZztcbiAgdGV4dHVyZTogc3RyaW5nO1xuICBpc1BsYXlpbmc6IGJvb2xlYW47XG4gIHRpbWVyPzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbn1cblxuZXhwb3J0IGNsYXNzIEVmZmVjdHMge1xuICBwcml2YXRlIHNjZW5lOiBTY2VuZTtcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgZWZmZWN0Q29uZmlnOiBSZWNvcmQ8RWZmZWN0VHlwZSwgRWZmZWN0Q29uZmlnPiA9IHtcbiAgICBzbGFzaDE6IHtcbiAgICAgIGFuaW1LZXk6IFwic2xhc2gxXCIsXG4gICAgICB0ZXh0dXJlOiBcInNsYXNoMV8wMDAwMVwiLFxuICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBzbGFzaDI6IHtcbiAgICAgIGFuaW1LZXk6IFwic2xhc2gyXCIsXG4gICAgICB0ZXh0dXJlOiBcInNsYXNoMl8wMDAxMFwiLFxuICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBzbGFzaDM6IHtcbiAgICAgIGFuaW1LZXk6IFwic2xhc2gzXCIsXG4gICAgICB0ZXh0dXJlOiBcInNsYXNoM18wMDAxNlwiLFxuICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBzbGFzaDQ6IHtcbiAgICAgIGFuaW1LZXk6IFwic2xhc2g0XCIsXG4gICAgICB0ZXh0dXJlOiBcInNsYXNoNF8wMDAyN1wiLFxuICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBiMToge1xuICAgICAgYW5pbUtleTogXCJiMVwiLFxuICAgICAgdGV4dHVyZTogXCJibG9vZDFfMDAwMThcIixcbiAgICAgIGlzUGxheWluZzogZmFsc2UsXG4gICAgICB0aW1lcjogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgYjI6IHtcbiAgICAgIGFuaW1LZXk6IFwiYjJcIixcbiAgICAgIHRleHR1cmU6IFwiYmxvb2RndXNoM18wMThcIixcbiAgICAgIGlzUGxheWluZzogZmFsc2UsXG4gICAgICB0aW1lcjogdW5kZWZpbmVkLFxuICAgIH0sXG4gICAgYjM6IHtcbiAgICAgIGFuaW1LZXk6IFwiYjRcIixcbiAgICAgIHRleHR1cmU6IFwiZGFya2VyYmxvb2QxXzAwMDE4XCIsXG4gICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGV4cGxvc2lvbjE6IHtcbiAgICAgIGFuaW1LZXk6IFwiZXhwbG9zaW9uXCIsXG4gICAgICB0ZXh0dXJlOiBcImZpcnN0ZXhwbG9zaW9uXzAwMDAxXCIsXG4gICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGV4cGxvc2lvbjI6IHtcbiAgICAgIGFuaW1LZXk6IFwiZXhwbG9zaW9uMlwiLFxuICAgICAgdGV4dHVyZTogXCJleHBsMmZpeGVkXzAwMDAwXCIsXG4gICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGZpcmUxOiB7XG4gICAgICBhbmltS2V5OiBcImZpcmVcIixcbiAgICAgIHRleHR1cmU6IFwiZ3JvdW5kZmlyZV8wMDAxNlwiLFxuICAgICAgaXNQbGF5aW5nOiBmYWxzZSxcbiAgICAgIHRpbWVyOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgICBmaXJlMjoge1xuICAgICAgYW5pbUtleTogXCJmaXJlMlwiLFxuICAgICAgdGV4dHVyZTogXCJmaXJlMmZpeGVkXzAwMDEyXCIsXG4gICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB9LFxuICAgIGNvaW46IHtcbiAgICAgIGFuaW1LZXk6IFwiY29pbi1zcGluXCIsXG4gICAgICB0ZXh0dXJlOiBcIlNwaW5uaW5nTW9uZXkwMDQxXCIsXG4gICAgICBpc1BsYXlpbmc6IGZhbHNlLFxuICAgICAgdGltZXI6IHVuZGVmaW5lZCxcbiAgICB9LFxuICB9O1xuXG4gIHByaXZhdGUgZ3JvdW5kWTogbnVtYmVyO1xuICBwcml2YXRlIGZpbmFsWDogbnVtYmVyO1xuICBwcml2YXRlIGZpbmFsWTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBTY2VuZSkge1xuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLnNjZW5lLmNhbWVyYXMubWFpbi5oZWlnaHQgLSA1MDtcbiAgICB0aGlzLmZpbmFsWCA9IHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluLndpZHRoIC0gMjAwO1xuICAgIHRoaXMuZmluYWxZID0gMzA7XG4gIH1cblxuICAvLyAgIHB1YmxpYyBwbGF5RWZmZWN0KGtleTogRWZmZWN0VHlwZSwgeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkIHtcbiAgLy8gICAgIGNvbnN0IGNvbmZpZyA9IEVmZmVjdHMuZWZmZWN0Q29uZmlnW2tleV07XG5cbiAgLy8gICAgIGlmICghY29uZmlnKSByZXR1cm47XG5cbiAgLy8gICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMuc2NlbmUuYWRkXG4gIC8vICAgICAgIC5zcHJpdGUoeCwgeSwgY29uZmlnLnRleHR1cmUpXG4gIC8vICAgICAgIC5zZXREZXB0aCg0KVxuICAvLyAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTsgLy8gU3RhcnQgdmlzaWJsZVxuXG4gIC8vICAgICAvLyBFeGFtcGxlIG9mIGEgdHdlZW4gdG8gZmFkZSBvdXQgYW5kIGRlc3Ryb3kgdGhlIHNwcml0ZVxuICAvLyAgICAgc3ByaXRlLnNldEFscGhhKDApOyAvLyBTdGFydCBpbnZpc2libGVcbiAgLy8gICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gIC8vICAgICAgIHRhcmdldHM6IHNwcml0ZSxcbiAgLy8gICAgICAgYWxwaGE6IDEsIC8vIEZhZGUgaW5cbiAgLy8gICAgICAgZHVyYXRpb246IDUwMCxcbiAgLy8gICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAvLyAgICAgICAgIC8vIHRoaXMucGxheUVmZmVjdChrZXksIFwiYjFcIik7XG4gIC8vICAgICAgIH0sXG4gIC8vICAgICB9KTtcblxuICAvLyAgICAgLy8gSWYgZWZmZWN0IGlzIGFscmVhZHkgcGxheWluZywganVzdCByZXNldCBpdHMgc3RvcCB0aW1lclxuICAvLyAgICAgaWYgKGNvbmZpZy5pc1BsYXlpbmcpIHtcbiAgLy8gICAgICAgaWYgKGNvbmZpZy50aW1lcikge1xuICAvLyAgICAgICAgIGNvbmZpZy50aW1lci5yZXNldCh7XG4gIC8vICAgICAgICAgICBkZWxheTogNTAwLFxuICAvLyAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgLy8gICAgICAgICAgICAgY29uZmlnLmlzUGxheWluZyA9IGZhbHNlO1xuICAvLyAgICAgICAgICAgICBzcHJpdGUuc3RvcCgpO1xuICAvLyAgICAgICAgICAgICBzcHJpdGUuc2V0VmlzaWJsZShmYWxzZSk7IC8vIEhpZGUgdGhlIHNwcml0ZVxuICAvLyAgICAgICAgICAgICBzcHJpdGUub2ZmKFwiYW5pbWF0aW9uY29tcGxldGVcIik7XG4gIC8vICAgICAgICAgICB9LFxuICAvLyAgICAgICAgIH0pO1xuICAvLyAgICAgICB9XG4gIC8vICAgICAgIHJldHVybjtcbiAgLy8gICAgIH1cblxuICAvLyAgICAgLy8gU3RhcnQgcGxheWluZyB0aGUgZWZmZWN0XG4gIC8vICAgICBjb25maWcuaXNQbGF5aW5nID0gdHJ1ZTtcbiAgLy8gICAgIHNwcml0ZS5zZXRWaXNpYmxlKHRydWUpOyAvLyBTaG93IHRoZSBzcHJpdGVcbiAgLy8gICAgIHNwcml0ZS5wbGF5KGNvbmZpZy5hbmltS2V5KTtcblxuICAvLyAgICAgLy8gU2V0IHVwIGF1dG8tcmVwZWF0IG9uIGFuaW1hdGlvbiBjb21wbGV0ZVxuICAvLyAgICAgc3ByaXRlLm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKCkgPT4ge1xuICAvLyAgICAgICBpZiAoY29uZmlnLmlzUGxheWluZykge1xuICAvLyAgICAgICAgIHNwcml0ZS5wbGF5KGNvbmZpZy5hbmltS2V5KTtcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfSk7XG5cbiAgLy8gICAgIC8vIENyZWF0ZSBhIHRpbWVyIHRvIHN0b3AgdGhlIGVmZmVjdCBpZiBubyBtb3JlIGhpdHMgb2NjdXJcbiAgLy8gICAgIGNvbmZpZy50aW1lciA9IHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcbiAgLy8gICAgICAgY29uZmlnLmlzUGxheWluZyA9IGZhbHNlO1xuICAvLyAgICAgICBzcHJpdGUuZGVzdHJveSgpO1xuICAvLyAgICAgfSk7XG5cbiAgLy8gICAgIHJldHVybiBzcHJpdGU7XG4gIC8vICAgfVxuXG4gIHB1YmxpYyBwbGF5RWZmZWN0KFxuICAgIGtleTogRWZmZWN0VHlwZSxcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIGxvb3BzOiBudW1iZXIgPSAxXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmZpZyA9IEVmZmVjdHMuZWZmZWN0Q29uZmlnW2tleV07XG4gICAgaWYgKCFjb25maWcpIHJldHVybjtcblxuICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuc3ByaXRlKHgsIHksIGNvbmZpZy50ZXh0dXJlKVxuICAgICAgLnNldERlcHRoKDQpXG4gICAgICAuc2V0QWxwaGEoMCk7XG5cbiAgICBsZXQgbG9vcENvdW50ID0gMDtcblxuICAgIHNwcml0ZS5vbihcImFuaW1hdGlvbmNvbXBsZXRlXCIsICgpID0+IHtcbiAgICAgIGxvb3BDb3VudCsrO1xuICAgICAgaWYgKGxvb3BDb3VudCA8IGxvb3BzKSB7XG4gICAgICAgIHNwcml0ZS5wbGF5KGNvbmZpZy5hbmltS2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFN0YXJ0IGZhZGUgb3V0IHdoZW4gbG9vcHMgYXJlIGNvbXBsZXRlXG4gICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgdGFyZ2V0czogc3ByaXRlLFxuICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4gc3ByaXRlLmRlc3Ryb3koKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBGYWRlIGluIGFuZCBzdGFydCBhbmltYXRpb25cbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogc3ByaXRlLFxuICAgICAgYWxwaGE6IDEsXG4gICAgICBkdXJhdGlvbjogNTAsXG4gICAgICBvbkNvbXBsZXRlOiAoKSA9PiBzcHJpdGUucGxheShjb25maWcuYW5pbUtleSksXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgc3Bhd25Db2luKHg6IG51bWJlciwgeTogbnVtYmVyLCBkcm9wQW1vdW50PzogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgY29pbiA9IHRoaXMuc2NlbmUuYWRkLnNwcml0ZSh4LCB5LCBcImNvaW5cIikuc2V0RGVwdGgoNCkuc2V0U2NhbGUoMC4yKTtcblxuICAgIC8vIFJhbmRvbSBpbml0aWFsIGRpcmVjdGlvbiB3aXRoIGZ1bGwgMzYwIGRlZ3JlZSByYW5nZVxuICAgIGNvbnN0IHJhbmRvbUFuZ2xlID0gUGhhc2VyLk1hdGguRmxvYXRCZXR3ZWVuKC1NYXRoLlBJLCBNYXRoLlBJKTtcbiAgICBjb25zdCBmb3JjZSA9IFBoYXNlci5NYXRoLkZsb2F0QmV0d2VlbigxMDAsIDIwMCk7IC8vIFJhbmRvbWl6ZSBmb3JjZVxuICAgIGNvbnN0IGR4ID0gTWF0aC5jb3MocmFuZG9tQW5nbGUpICogZm9yY2U7XG4gICAgY29uc3QgZHkgPSBNYXRoLnNpbihyYW5kb21BbmdsZSkgKiBmb3JjZTtcblxuICAgIC8vIFJhbmRvbSBpbml0aWFsIGhlaWdodCBhbmQgZGlzdGFuY2VcbiAgICBjb25zdCBpbml0aWFsSGVpZ2h0ID0gUGhhc2VyLk1hdGguRmxvYXRCZXR3ZWVuKC0xNTAsIC01MCk7XG4gICAgY29uc3QgYm91bmNlSGVpZ2h0ID0gUGhhc2VyLk1hdGguRmxvYXRCZXR3ZWVuKDEwLCAzMCk7XG4gICAgLy8gSW5pdGlhbCB0aHJvdyBhbmltYXRpb24gd2l0aCBwaHlzaWNzLWxpa2UgbW90aW9uXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IGNvaW4sXG4gICAgICB4OiB4ICsgZHgsXG4gICAgICB5OiB5ICsgaW5pdGlhbEhlaWdodCwgLy8gUmFuZG9tIHVwd2FyZCBhcmNcbiAgICAgIGR1cmF0aW9uOiBQaGFzZXIuTWF0aC5GbG9hdEJldHdlZW4oMzAwLCA1MDApLFxuICAgICAgZWFzZTogXCJRdWFkLmVhc2VPdXRcIixcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gR2V0IGdyb3VuZCBwb3NpdGlvbiAoNTBweCBmcm9tIGJvdHRvbSlcblxuICAgICAgICAvLyBGYWxsaW5nIGFuaW1hdGlvbiB3aXRoIG5hdHVyYWwgZ3Jhdml0eVxuICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgIHRhcmdldHM6IGNvaW4sXG4gICAgICAgICAgeTogdGhpcy5ncm91bmRZIC0gYm91bmNlSGVpZ2h0LCAvLyBCb3VuY2UgcmVsYXRpdmUgdG8gZ3JvdW5kXG4gICAgICAgICAgZHVyYXRpb246IFBoYXNlci5NYXRoLkZsb2F0QmV0d2Vlbig2MDAsIDgwMCksIC8vIFNsb3dlciBmYWxsXG4gICAgICAgICAgZWFzZTogXCJDdWJpYy5lYXNlSW5cIiwgLy8gTW9yZSBuYXR1cmFsIGdyYXZpdHkgY3VydmVcbiAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBTbWFsbCBzZXR0bGluZyBib3VuY2VzXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICB0YXJnZXRzOiBjb2luLFxuICAgICAgICAgICAgICB5OiB0aGlzLmdyb3VuZFksIC8vIFJlc3QgYWJvdmUgZ3JvdW5kXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiBQaGFzZXIuTWF0aC5GbG9hdEJldHdlZW4oMTUwLCAyNTApLFxuICAgICAgICAgICAgICBlYXNlOiBcIlF1YWQuZWFzZU91dFwiLFxuICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gUmFuZG9tIGRlbGF5IGJlZm9yZSBmbHlpbmcgdG8gY29ybmVyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS50aW1lLmRlbGF5ZWRDYWxsKFxuICAgICAgICAgICAgICAgICAgUGhhc2VyLk1hdGguRmxvYXRCZXR3ZWVuKDIwMCwgNDAwKSxcbiAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluYWwgYW5pbWF0aW9uIHRvIHRvcCByaWdodCBjb3JuZXJcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICAgICAgICAgIHRhcmdldHM6IGNvaW4sXG4gICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5maW5hbFgsXG4gICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5maW5hbFksXG4gICAgICAgICAgICAgICAgICAgICAgc2NhbGU6IDAuMSxcbiAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogUGhhc2VyLk1hdGguRmxvYXRCZXR3ZWVuKDUwMCwgNzAwKSxcbiAgICAgICAgICAgICAgICAgICAgICBlYXNlOiBcIkJhY2suZWFzZUluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY29pbi1waWNrdXBcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2b2x1bWU6IDAuNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRCdXMuZW1pdChcImNvaW5zLWNoYW5nZWRcIiwgZHJvcEFtb3VudCA/PyAzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvaW4uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBTcGluIGFuaW1hdGlvbiB3aGlsZSBib3VuY2luZ1xuICAgIGNvaW4ucGxheShcImNvaW4tc3BpblwiKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJFZmZlY3RzIiwiZWZmZWN0Q29uZmlnIiwic2xhc2gxIiwiYW5pbUtleSIsInRleHR1cmUiLCJpc1BsYXlpbmciLCJ0aW1lciIsInVuZGVmaW5lZCIsInNsYXNoMiIsInNsYXNoMyIsInNsYXNoNCIsImIxIiwiYjIiLCJiMyIsImV4cGxvc2lvbjEiLCJleHBsb3Npb24yIiwiZmlyZTEiLCJmaXJlMiIsImNvaW4iLCJjb25zdHJ1Y3RvciIsInNjZW5lIiwiZ3JvdW5kWSIsImNhbWVyYXMiLCJtYWluIiwiaGVpZ2h0IiwiZmluYWxYIiwid2lkdGgiLCJmaW5hbFkiLCJwbGF5RWZmZWN0Iiwia2V5IiwieCIsInkiLCJsb29wcyIsImNvbmZpZyIsInNwcml0ZSIsImFkZCIsInNldERlcHRoIiwic2V0QWxwaGEiLCJsb29wQ291bnQiLCJvbiIsInBsYXkiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsIm9uQ29tcGxldGUiLCJkZXN0cm95Iiwic3Bhd25Db2luIiwiZHJvcEFtb3VudCIsInNldFNjYWxlIiwicmFuZG9tQW5nbGUiLCJQaGFzZXIiLCJNYXRoIiwiRmxvYXRCZXR3ZWVuIiwiUEkiLCJmb3JjZSIsImR4IiwiY29zIiwiZHkiLCJzaW4iLCJpbml0aWFsSGVpZ2h0IiwiYm91bmNlSGVpZ2h0IiwiZWFzZSIsInRpbWUiLCJkZWxheWVkQ2FsbCIsInNjYWxlIiwic291bmQiLCJ2b2x1bWUiLCJlbWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/classes/Effects.ts\n");

/***/ }),

/***/ "./src/game/classes/GameButtons.ts":
/*!*****************************************!*\
  !*** ./src/game/classes/GameButtons.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameButtons: () => (/* binding */ GameButtons)\n/* harmony export */ });\n/* harmony import */ var _lib_sets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/sets */ \"./src/lib/sets.ts\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _InputState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InputState */ \"./src/game/classes/InputState.ts\");\n\n\n\nclass GameButtons extends Phaser.GameObjects.Container {\n    constructor(config){\n        super(config.scene, config.x, config.y);\n        this.buttons = new Map();\n        this.buttonStates = new Map();\n        this.muteButtonState = \"unmuted\";\n        this.infoButtonState = \"closed\";\n        this.socialsButtonState = \"closed\";\n        this.socialButtons = new Map();\n        this.SMALL_BUTTON_SIZE = 50;\n        this.SOCIAL_BUTTON_SPACING = 70;\n        this.scene = config.scene;\n        this.spacing = config.spacing || 60;\n        this.scene.add.existing(this);\n        this.inputState = _InputState__WEBPACK_IMPORTED_MODULE_2__.InputState.getInstance();\n        this.createUtilityButtons();\n        this.createMainButtons();\n        this.setupEventListeners();\n    }\n    createUtilityButtons() {\n        // Create mute button\n        this.muteButton = this.scene.add.image(-25, -150, \"unmuted\").setDisplaySize(this.SMALL_BUTTON_SIZE, this.SMALL_BUTTON_SIZE).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>this.onExtraButtonHover()).on(\"pointerout\", ()=>this.onExtraButtonOut()).on(\"pointerdown\", ()=>this.onMuteButtonClick());\n        // Create socials toggle button\n        this.socialsButton = this.scene.add.image(35, -150, \"logo-select\").setDisplaySize(this.SMALL_BUTTON_SIZE, this.SMALL_BUTTON_SIZE).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>this.onExtraButtonHover()).on(\"pointerout\", ()=>this.onExtraButtonOut()).on(\"pointerdown\", ()=>this.onSocialsButtonClick());\n        this.infoButton = this.scene.add.image(1120, 450, \"info-button-active\").setDisplaySize(this.SMALL_BUTTON_SIZE, this.SMALL_BUTTON_SIZE).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerdown\", ()=>this.onInfoButtonClick());\n        // Create social media buttons (initially hidden)\n        const socialTypes = [\n            \"twitter\",\n            \"telegram\",\n            \"dex\"\n        ];\n        socialTypes.forEach((type, index)=>{\n            const button = this.scene.add.image(this.socialsButton.x + (index + 1) * this.SOCIAL_BUTTON_SPACING, -150, `${type}-button`).setDisplaySize(this.SMALL_BUTTON_SIZE, this.SMALL_BUTTON_SIZE).setInteractive({\n                useHandCursor: true\n            }).on(\"pointerover\", ()=>{\n                // this.onExtraButtonHover();\n                button.setTexture(`${type}-button-active`);\n            }).on(\"pointerout\", ()=>{\n                this.onExtraButtonOut();\n                button.setTexture(`${type}-button`);\n            }).on(\"pointerdown\", ()=>this.onSocialClick(type)).setVisible(false);\n            this.socialButtons.set(type, button);\n            this.add(button);\n        });\n        this.add([\n            this.muteButton,\n            this.socialsButton,\n            this.infoButton\n        ]);\n    }\n    onInfoButtonClick() {\n        this.scene.sound.play(\"click\");\n        this.infoButtonState = this.infoButtonState === \"open\" ? \"closed\" : \"open\";\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"show-info\", this.infoButtonState === \"open\");\n        // Update info button texture based on state\n        this.infoButton.setTexture(this.infoButtonState === \"open\" ? \"info-button\" : \"info-button-active\");\n    }\n    createMainButtons() {\n        const buttonKeys = [\n            \"levels\",\n            \"shop\",\n            \"boxes\",\n            \"skins\"\n        ];\n        buttonKeys.forEach((key, index)=>{\n            const button = this.scene.add.image(0, index * this.spacing - 50, key).setDisplaySize(100, 100).setInteractive({\n                useHandCursor: true\n            }).on(\"pointerover\", ()=>this.onButtonHover(key)).on(\"pointerout\", ()=>this.onButtonOut(key)).on(\"pointerdown\", ()=>this.onButtonClick(key));\n            this.add(button);\n            this.buttons.set(key, button);\n            this.buttonStates.set(key, \"default\");\n        });\n    }\n    setupEventListeners() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"journal-closed\", this.resetButtonStates, this);\n    }\n    onExtraButtonHover() {\n        this.inputState.lock(\"extra\");\n    }\n    onExtraButtonOut() {\n        this.inputState.unlock(\"extra\");\n    }\n    onMuteButtonClick() {\n        this.toggleMute();\n    }\n    onSocialsButtonClick() {\n        this.scene.sound.play(\"click\");\n        this.socialsButtonState = this.socialsButtonState === \"open\" ? \"closed\" : \"open\";\n        // Show/hide social buttons based on state\n        this.socialButtons.forEach((button)=>{\n            button.setVisible(this.socialsButtonState === \"open\");\n        });\n    }\n    onButtonHover(key) {\n        const button = this.buttons.get(key);\n        if (!button || this.buttonStates.get(key) === \"selected\") return;\n        button.setTexture(`${key}-selected`);\n        this.buttonStates.set(key, \"hover\");\n        // Emit event to hide weapon\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"hide-weapon\", true);\n    // Play hover sound\n    // this.scene.sound.play(\"hover\");\n    }\n    onButtonOut(key) {\n        const button = this.buttons.get(key);\n        if (!button || this.buttonStates.get(key) === \"selected\") return;\n        button.setTexture(key);\n        this.buttonStates.set(key, \"default\");\n        // Check if pointer is outside container bounds\n        if (!this.isPointerOver()) {\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"hide-weapon\", false);\n        }\n    }\n    onButtonClick(key) {\n        const button = this.buttons.get(key);\n        if (!button) return;\n        // Handle mute button separately\n        if (key === \"mute\") {\n            this.toggleMute();\n            return;\n        }\n        // Reset all buttons except clicked one\n        this.buttons.forEach((btn, btnKey)=>{\n            if (btnKey !== key) {\n                btn.setTexture(btnKey);\n                this.buttonStates.set(btnKey, \"default\");\n            }\n        });\n        // Set clicked button to selected state\n        button.setTexture(`${key}-selected`);\n        this.buttonStates.set(key, \"selected\");\n        // Emit event for journal opening\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"open-journal\", key);\n        // Play click sound\n        this.scene.sound.play(\"click\");\n    }\n    toggleMute() {\n        this.scene.sound.play(\"click\");\n        const isMuted = this.muteButtonState === \"muted\";\n        this.muteButton.setTexture(isMuted ? \"unmuted\" : \"mute\");\n        this.muteButtonState = isMuted ? \"unmuted\" : \"muted\";\n        if (this.muteButtonState === \"muted\") {\n            this.scene.game.sound.stopByKey(\"bgMusic\");\n        } else if (!this.scene.game.sound.isPlaying(\"bgMusic\") && this.muteButtonState === \"unmuted\") {\n            this.scene.game.sound.play(\"bgMusic\");\n        }\n        // Emit mute event\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"toggle-mute\", !isMuted);\n    }\n    isPointerOver() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"hide-weapon\", true);\n        const bounds = this.getBounds();\n        return bounds.contains(this.scene.input.activePointer.x, this.scene.input.activePointer.y);\n    }\n    resetButtonStates() {\n        this.buttons.forEach((button, key)=>{\n            if (key !== \"mute\") {\n                // Preserve mute state\n                button.setTexture(key);\n                this.buttonStates.set(key, \"default\");\n            }\n        });\n    }\n    onSocialClick(type) {\n        this.scene.sound.play(\"click\");\n        // Open appropriate link based on type\n        let url = \"\";\n        switch(type){\n            case \"twitter\":\n                url = _lib_sets__WEBPACK_IMPORTED_MODULE_0__.X_LINK;\n                break;\n            case \"telegram\":\n                url = _lib_sets__WEBPACK_IMPORTED_MODULE_0__.TELEGRAM_LINK;\n                break;\n            case \"DexLogo\":\n                url = _lib_sets__WEBPACK_IMPORTED_MODULE_0__.DEX_LINK;\n                break;\n        }\n        if (url) {\n            window.open(url, \"_blank\");\n        }\n    }\n    destroy() {\n        // Clean up event listeners\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.off(\"journal-closed\", this.resetButtonStates, this);\n        // Clean up social buttons\n        this.socialButtons.forEach((button)=>button.destroy());\n        this.socialButtons.clear();\n        // Container's destroy method will handle destroying all child objects\n        super.destroy();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvY2xhc3Nlcy9HYW1lQnV0dG9ucy50cz83YjZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERFWF9MSU5LLCBURUxFR1JBTV9MSU5LLCBYX0xJTksgfSBmcm9tIFwiQC9saWIvc2V0c1wiO1xuaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vRXZlbnRCdXNcIjtcbmltcG9ydCB7IElucHV0U3RhdGUgfSBmcm9tIFwiLi9JbnB1dFN0YXRlXCI7XG5cbmludGVyZmFjZSBCdXR0b25Db25maWcge1xuICBzY2VuZTogUGhhc2VyLlNjZW5lO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbiAgc3BhY2luZz86IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIEdhbWVCdXR0b25zIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB7XG4gIHByaXZhdGUgaW5wdXRTdGF0ZTogSW5wdXRTdGF0ZTtcbiAgcHJpdmF0ZSBidXR0b25zOiBNYXA8c3RyaW5nLCBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U+ID0gbmV3IE1hcCgpO1xuICBwcml2YXRlIGJ1dHRvblN0YXRlczogTWFwPHN0cmluZywgXCJkZWZhdWx0XCIgfCBcImhvdmVyXCIgfCBcInNlbGVjdGVkXCI+ID1cbiAgICBuZXcgTWFwKCk7XG4gIHByaXZhdGUgc3BhY2luZzogbnVtYmVyO1xuICBwcml2YXRlIG11dGVCdXR0b246IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgcHJpdmF0ZSBtdXRlQnV0dG9uU3RhdGU6IFwibXV0ZWRcIiB8IFwidW5tdXRlZFwiID0gXCJ1bm11dGVkXCI7XG4gIHByaXZhdGUgaW5mb0J1dHRvbjogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICBwcml2YXRlIGluZm9CdXR0b25TdGF0ZTogXCJvcGVuXCIgfCBcImNsb3NlZFwiID0gXCJjbG9zZWRcIjtcbiAgcHJpdmF0ZSBzb2NpYWxzQnV0dG9uOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gIHByaXZhdGUgc29jaWFsc0J1dHRvblN0YXRlOiBcIm9wZW5cIiB8IFwiY2xvc2VkXCIgPSBcImNsb3NlZFwiO1xuICBwcml2YXRlIHNvY2lhbEJ1dHRvbnM6IE1hcDxzdHJpbmcsIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgU01BTExfQlVUVE9OX1NJWkUgPSA1MDtcbiAgcHJpdmF0ZSByZWFkb25seSBTT0NJQUxfQlVUVE9OX1NQQUNJTkcgPSA3MDtcblxuICBjb25zdHJ1Y3Rvcihjb25maWc6IEJ1dHRvbkNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZy5zY2VuZSwgY29uZmlnLngsIGNvbmZpZy55KTtcbiAgICB0aGlzLnNjZW5lID0gY29uZmlnLnNjZW5lO1xuICAgIHRoaXMuc3BhY2luZyA9IGNvbmZpZy5zcGFjaW5nIHx8IDYwO1xuICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xuICAgIHRoaXMuaW5wdXRTdGF0ZSA9IElucHV0U3RhdGUuZ2V0SW5zdGFuY2UoKTtcbiAgICB0aGlzLmNyZWF0ZVV0aWxpdHlCdXR0b25zKCk7XG4gICAgdGhpcy5jcmVhdGVNYWluQnV0dG9ucygpO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVVdGlsaXR5QnV0dG9ucygpOiB2b2lkIHtcbiAgICAvLyBDcmVhdGUgbXV0ZSBidXR0b25cbiAgICB0aGlzLm11dGVCdXR0b24gPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLmltYWdlKC0yNSwgLTE1MCwgXCJ1bm11dGVkXCIpXG4gICAgICAuc2V0RGlzcGxheVNpemUodGhpcy5TTUFMTF9CVVRUT05fU0laRSwgdGhpcy5TTUFMTF9CVVRUT05fU0laRSlcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHRoaXMub25FeHRyYUJ1dHRvbkhvdmVyKCkpXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHRoaXMub25FeHRyYUJ1dHRvbk91dCgpKVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4gdGhpcy5vbk11dGVCdXR0b25DbGljaygpKTtcblxuICAgIC8vIENyZWF0ZSBzb2NpYWxzIHRvZ2dsZSBidXR0b25cbiAgICB0aGlzLnNvY2lhbHNCdXR0b24gPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLmltYWdlKDM1LCAtMTUwLCBcImxvZ28tc2VsZWN0XCIpXG4gICAgICAuc2V0RGlzcGxheVNpemUodGhpcy5TTUFMTF9CVVRUT05fU0laRSwgdGhpcy5TTUFMTF9CVVRUT05fU0laRSlcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHRoaXMub25FeHRyYUJ1dHRvbkhvdmVyKCkpXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHRoaXMub25FeHRyYUJ1dHRvbk91dCgpKVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4gdGhpcy5vblNvY2lhbHNCdXR0b25DbGljaygpKTtcblxuICAgIHRoaXMuaW5mb0J1dHRvbiA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMTEyMCwgNDUwLCBcImluZm8tYnV0dG9uLWFjdGl2ZVwiKVxuICAgICAgLnNldERpc3BsYXlTaXplKHRoaXMuU01BTExfQlVUVE9OX1NJWkUsIHRoaXMuU01BTExfQlVUVE9OX1NJWkUpXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB0aGlzLm9uSW5mb0J1dHRvbkNsaWNrKCkpO1xuXG4gICAgLy8gQ3JlYXRlIHNvY2lhbCBtZWRpYSBidXR0b25zIChpbml0aWFsbHkgaGlkZGVuKVxuICAgIGNvbnN0IHNvY2lhbFR5cGVzID0gW1widHdpdHRlclwiLCBcInRlbGVncmFtXCIsIFwiZGV4XCJdO1xuICAgIHNvY2lhbFR5cGVzLmZvckVhY2goKHR5cGUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgICAuaW1hZ2UoXG4gICAgICAgICAgdGhpcy5zb2NpYWxzQnV0dG9uLnggKyAoaW5kZXggKyAxKSAqIHRoaXMuU09DSUFMX0JVVFRPTl9TUEFDSU5HLFxuICAgICAgICAgIC0xNTAsXG4gICAgICAgICAgYCR7dHlwZX0tYnV0dG9uYFxuICAgICAgICApXG4gICAgICAgIC5zZXREaXNwbGF5U2l6ZSh0aGlzLlNNQUxMX0JVVFRPTl9TSVpFLCB0aGlzLlNNQUxMX0JVVFRPTl9TSVpFKVxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcbiAgICAgICAgICAvLyB0aGlzLm9uRXh0cmFCdXR0b25Ib3ZlcigpO1xuICAgICAgICAgIGJ1dHRvbi5zZXRUZXh0dXJlKGAke3R5cGV9LWJ1dHRvbi1hY3RpdmVgKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5vbkV4dHJhQnV0dG9uT3V0KCk7XG4gICAgICAgICAgYnV0dG9uLnNldFRleHR1cmUoYCR7dHlwZX0tYnV0dG9uYCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHRoaXMub25Tb2NpYWxDbGljayh0eXBlKSlcbiAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICB0aGlzLnNvY2lhbEJ1dHRvbnMuc2V0KHR5cGUsIGJ1dHRvbik7XG4gICAgICB0aGlzLmFkZChidXR0b24pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGQoW3RoaXMubXV0ZUJ1dHRvbiwgdGhpcy5zb2NpYWxzQnV0dG9uLCB0aGlzLmluZm9CdXR0b25dKTtcbiAgfVxuXG4gIHByaXZhdGUgb25JbmZvQnV0dG9uQ2xpY2soKTogdm9pZCB7XG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY2xpY2tcIik7XG4gICAgdGhpcy5pbmZvQnV0dG9uU3RhdGUgPSB0aGlzLmluZm9CdXR0b25TdGF0ZSA9PT0gXCJvcGVuXCIgPyBcImNsb3NlZFwiIDogXCJvcGVuXCI7XG4gICAgRXZlbnRCdXMuZW1pdChcInNob3ctaW5mb1wiLCB0aGlzLmluZm9CdXR0b25TdGF0ZSA9PT0gXCJvcGVuXCIpO1xuICAgIC8vIFVwZGF0ZSBpbmZvIGJ1dHRvbiB0ZXh0dXJlIGJhc2VkIG9uIHN0YXRlXG4gICAgdGhpcy5pbmZvQnV0dG9uLnNldFRleHR1cmUoXG4gICAgICB0aGlzLmluZm9CdXR0b25TdGF0ZSA9PT0gXCJvcGVuXCIgPyBcImluZm8tYnV0dG9uXCIgOiBcImluZm8tYnV0dG9uLWFjdGl2ZVwiXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTWFpbkJ1dHRvbnMoKTogdm9pZCB7XG4gICAgY29uc3QgYnV0dG9uS2V5cyA9IFtcImxldmVsc1wiLCBcInNob3BcIiwgXCJib3hlc1wiLCBcInNraW5zXCJdO1xuXG4gICAgYnV0dG9uS2V5cy5mb3JFYWNoKChrZXksIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBidXR0b24gPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgICAuaW1hZ2UoXG4gICAgICAgICAgMCxcbiAgICAgICAgICBpbmRleCAqIHRoaXMuc3BhY2luZyAtIDUwLCAvLyBTdGFydCBiZWxvdyB1dGlsaXR5IGJ1dHRvbnNcbiAgICAgICAgICBrZXlcbiAgICAgICAgKVxuICAgICAgICAuc2V0RGlzcGxheVNpemUoMTAwLCAxMDApXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4gdGhpcy5vbkJ1dHRvbkhvdmVyKGtleSkpXG4gICAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4gdGhpcy5vbkJ1dHRvbk91dChrZXkpKVxuICAgICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB0aGlzLm9uQnV0dG9uQ2xpY2soa2V5KSk7XG5cbiAgICAgIHRoaXMuYWRkKGJ1dHRvbik7XG4gICAgICB0aGlzLmJ1dHRvbnMuc2V0KGtleSwgYnV0dG9uKTtcbiAgICAgIHRoaXMuYnV0dG9uU3RhdGVzLnNldChrZXksIFwiZGVmYXVsdFwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICBFdmVudEJ1cy5vbihcImpvdXJuYWwtY2xvc2VkXCIsIHRoaXMucmVzZXRCdXR0b25TdGF0ZXMsIHRoaXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkV4dHJhQnV0dG9uSG92ZXIoKTogdm9pZCB7XG4gICAgdGhpcy5pbnB1dFN0YXRlLmxvY2soXCJleHRyYVwiKTtcbiAgfVxuXG4gIHByaXZhdGUgb25FeHRyYUJ1dHRvbk91dCgpOiB2b2lkIHtcbiAgICB0aGlzLmlucHV0U3RhdGUudW5sb2NrKFwiZXh0cmFcIik7XG4gIH1cblxuICBwcml2YXRlIG9uTXV0ZUJ1dHRvbkNsaWNrKCk6IHZvaWQge1xuICAgIHRoaXMudG9nZ2xlTXV0ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBvblNvY2lhbHNCdXR0b25DbGljaygpOiB2b2lkIHtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcbiAgICB0aGlzLnNvY2lhbHNCdXR0b25TdGF0ZSA9XG4gICAgICB0aGlzLnNvY2lhbHNCdXR0b25TdGF0ZSA9PT0gXCJvcGVuXCIgPyBcImNsb3NlZFwiIDogXCJvcGVuXCI7XG5cbiAgICAvLyBTaG93L2hpZGUgc29jaWFsIGJ1dHRvbnMgYmFzZWQgb24gc3RhdGVcbiAgICB0aGlzLnNvY2lhbEJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICBidXR0b24uc2V0VmlzaWJsZSh0aGlzLnNvY2lhbHNCdXR0b25TdGF0ZSA9PT0gXCJvcGVuXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1dHRvbkhvdmVyKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b25zLmdldChrZXkpO1xuICAgIGlmICghYnV0dG9uIHx8IHRoaXMuYnV0dG9uU3RhdGVzLmdldChrZXkpID09PSBcInNlbGVjdGVkXCIpIHJldHVybjtcblxuICAgIGJ1dHRvbi5zZXRUZXh0dXJlKGAke2tleX0tc2VsZWN0ZWRgKTtcbiAgICB0aGlzLmJ1dHRvblN0YXRlcy5zZXQoa2V5LCBcImhvdmVyXCIpO1xuXG4gICAgLy8gRW1pdCBldmVudCB0byBoaWRlIHdlYXBvblxuICAgIEV2ZW50QnVzLmVtaXQoXCJoaWRlLXdlYXBvblwiLCB0cnVlKTtcblxuICAgIC8vIFBsYXkgaG92ZXIgc291bmRcbiAgICAvLyB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJob3ZlclwiKTtcbiAgfVxuXG4gIHByaXZhdGUgb25CdXR0b25PdXQoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBidXR0b24gPSB0aGlzLmJ1dHRvbnMuZ2V0KGtleSk7XG4gICAgaWYgKCFidXR0b24gfHwgdGhpcy5idXR0b25TdGF0ZXMuZ2V0KGtleSkgPT09IFwic2VsZWN0ZWRcIikgcmV0dXJuO1xuXG4gICAgYnV0dG9uLnNldFRleHR1cmUoa2V5KTtcbiAgICB0aGlzLmJ1dHRvblN0YXRlcy5zZXQoa2V5LCBcImRlZmF1bHRcIik7XG5cbiAgICAvLyBDaGVjayBpZiBwb2ludGVyIGlzIG91dHNpZGUgY29udGFpbmVyIGJvdW5kc1xuICAgIGlmICghdGhpcy5pc1BvaW50ZXJPdmVyKCkpIHtcbiAgICAgIEV2ZW50QnVzLmVtaXQoXCJoaWRlLXdlYXBvblwiLCBmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBvbkJ1dHRvbkNsaWNrKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5idXR0b25zLmdldChrZXkpO1xuICAgIGlmICghYnV0dG9uKSByZXR1cm47XG5cbiAgICAvLyBIYW5kbGUgbXV0ZSBidXR0b24gc2VwYXJhdGVseVxuICAgIGlmIChrZXkgPT09IFwibXV0ZVwiKSB7XG4gICAgICB0aGlzLnRvZ2dsZU11dGUoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBhbGwgYnV0dG9ucyBleGNlcHQgY2xpY2tlZCBvbmVcbiAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaCgoYnRuLCBidG5LZXkpID0+IHtcbiAgICAgIGlmIChidG5LZXkgIT09IGtleSkge1xuICAgICAgICBidG4uc2V0VGV4dHVyZShidG5LZXkpO1xuICAgICAgICB0aGlzLmJ1dHRvblN0YXRlcy5zZXQoYnRuS2V5LCBcImRlZmF1bHRcIik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTZXQgY2xpY2tlZCBidXR0b24gdG8gc2VsZWN0ZWQgc3RhdGVcbiAgICBidXR0b24uc2V0VGV4dHVyZShgJHtrZXl9LXNlbGVjdGVkYCk7XG4gICAgdGhpcy5idXR0b25TdGF0ZXMuc2V0KGtleSwgXCJzZWxlY3RlZFwiKTtcblxuICAgIC8vIEVtaXQgZXZlbnQgZm9yIGpvdXJuYWwgb3BlbmluZ1xuICAgIEV2ZW50QnVzLmVtaXQoXCJvcGVuLWpvdXJuYWxcIiwga2V5KTtcblxuICAgIC8vIFBsYXkgY2xpY2sgc291bmRcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcbiAgfVxuXG4gIHByaXZhdGUgdG9nZ2xlTXV0ZSgpOiB2b2lkIHtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcbiAgICBjb25zdCBpc011dGVkID0gdGhpcy5tdXRlQnV0dG9uU3RhdGUgPT09IFwibXV0ZWRcIjtcblxuICAgIHRoaXMubXV0ZUJ1dHRvbi5zZXRUZXh0dXJlKGlzTXV0ZWQgPyBcInVubXV0ZWRcIiA6IFwibXV0ZVwiKTtcbiAgICB0aGlzLm11dGVCdXR0b25TdGF0ZSA9IGlzTXV0ZWQgPyBcInVubXV0ZWRcIiA6IFwibXV0ZWRcIjtcblxuICAgIGlmICh0aGlzLm11dGVCdXR0b25TdGF0ZSA9PT0gXCJtdXRlZFwiKSB7XG4gICAgICB0aGlzLnNjZW5lLmdhbWUuc291bmQuc3RvcEJ5S2V5KFwiYmdNdXNpY1wiKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgIXRoaXMuc2NlbmUuZ2FtZS5zb3VuZC5pc1BsYXlpbmcoXCJiZ011c2ljXCIpICYmXG4gICAgICB0aGlzLm11dGVCdXR0b25TdGF0ZSA9PT0gXCJ1bm11dGVkXCJcbiAgICApIHtcbiAgICAgIHRoaXMuc2NlbmUuZ2FtZS5zb3VuZC5wbGF5KFwiYmdNdXNpY1wiKTtcbiAgICB9XG4gICAgLy8gRW1pdCBtdXRlIGV2ZW50XG4gICAgRXZlbnRCdXMuZW1pdChcInRvZ2dsZS1tdXRlXCIsICFpc011dGVkKTtcbiAgfVxuXG4gIHB1YmxpYyBpc1BvaW50ZXJPdmVyKCk6IGJvb2xlYW4ge1xuICAgIEV2ZW50QnVzLmVtaXQoXCJoaWRlLXdlYXBvblwiLCB0cnVlKTtcbiAgICBjb25zdCBib3VuZHMgPSB0aGlzLmdldEJvdW5kcygpO1xuICAgIHJldHVybiBib3VuZHMuY29udGFpbnMoXG4gICAgICB0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIueCxcbiAgICAgIHRoaXMuc2NlbmUuaW5wdXQuYWN0aXZlUG9pbnRlci55XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRCdXR0b25TdGF0ZXMoKTogdm9pZCB7XG4gICAgdGhpcy5idXR0b25zLmZvckVhY2goKGJ1dHRvbiwga2V5KSA9PiB7XG4gICAgICBpZiAoa2V5ICE9PSBcIm11dGVcIikge1xuICAgICAgICAvLyBQcmVzZXJ2ZSBtdXRlIHN0YXRlXG4gICAgICAgIGJ1dHRvbi5zZXRUZXh0dXJlKGtleSk7XG4gICAgICAgIHRoaXMuYnV0dG9uU3RhdGVzLnNldChrZXksIFwiZGVmYXVsdFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgb25Tb2NpYWxDbGljayh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcblxuICAgIC8vIE9wZW4gYXBwcm9wcmlhdGUgbGluayBiYXNlZCBvbiB0eXBlXG4gICAgbGV0IHVybCA9IFwiXCI7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidHdpdHRlclwiOlxuICAgICAgICB1cmwgPSBYX0xJTks7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRlbGVncmFtXCI6XG4gICAgICAgIHVybCA9IFRFTEVHUkFNX0xJTks7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIkRleExvZ29cIjpcbiAgICAgICAgdXJsID0gREVYX0xJTks7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmICh1cmwpIHtcbiAgICAgIHdpbmRvdy5vcGVuKHVybCwgXCJfYmxhbmtcIik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gQ2xlYW4gdXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgRXZlbnRCdXMub2ZmKFwiam91cm5hbC1jbG9zZWRcIiwgdGhpcy5yZXNldEJ1dHRvblN0YXRlcywgdGhpcyk7XG5cbiAgICAvLyBDbGVhbiB1cCBzb2NpYWwgYnV0dG9uc1xuICAgIHRoaXMuc29jaWFsQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IGJ1dHRvbi5kZXN0cm95KCkpO1xuICAgIHRoaXMuc29jaWFsQnV0dG9ucy5jbGVhcigpO1xuXG4gICAgLy8gQ29udGFpbmVyJ3MgZGVzdHJveSBtZXRob2Qgd2lsbCBoYW5kbGUgZGVzdHJveWluZyBhbGwgY2hpbGQgb2JqZWN0c1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiREVYX0xJTksiLCJURUxFR1JBTV9MSU5LIiwiWF9MSU5LIiwiRXZlbnRCdXMiLCJJbnB1dFN0YXRlIiwiR2FtZUJ1dHRvbnMiLCJQaGFzZXIiLCJHYW1lT2JqZWN0cyIsIkNvbnRhaW5lciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwic2NlbmUiLCJ4IiwieSIsImJ1dHRvbnMiLCJNYXAiLCJidXR0b25TdGF0ZXMiLCJtdXRlQnV0dG9uU3RhdGUiLCJpbmZvQnV0dG9uU3RhdGUiLCJzb2NpYWxzQnV0dG9uU3RhdGUiLCJzb2NpYWxCdXR0b25zIiwiU01BTExfQlVUVE9OX1NJWkUiLCJTT0NJQUxfQlVUVE9OX1NQQUNJTkciLCJzcGFjaW5nIiwiYWRkIiwiZXhpc3RpbmciLCJpbnB1dFN0YXRlIiwiZ2V0SW5zdGFuY2UiLCJjcmVhdGVVdGlsaXR5QnV0dG9ucyIsImNyZWF0ZU1haW5CdXR0b25zIiwic2V0dXBFdmVudExpc3RlbmVycyIsIm11dGVCdXR0b24iLCJpbWFnZSIsInNldERpc3BsYXlTaXplIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJvbkV4dHJhQnV0dG9uSG92ZXIiLCJvbkV4dHJhQnV0dG9uT3V0Iiwib25NdXRlQnV0dG9uQ2xpY2siLCJzb2NpYWxzQnV0dG9uIiwib25Tb2NpYWxzQnV0dG9uQ2xpY2siLCJpbmZvQnV0dG9uIiwib25JbmZvQnV0dG9uQ2xpY2siLCJzb2NpYWxUeXBlcyIsImZvckVhY2giLCJ0eXBlIiwiaW5kZXgiLCJidXR0b24iLCJzZXRUZXh0dXJlIiwib25Tb2NpYWxDbGljayIsInNldFZpc2libGUiLCJzZXQiLCJzb3VuZCIsInBsYXkiLCJlbWl0IiwiYnV0dG9uS2V5cyIsImtleSIsIm9uQnV0dG9uSG92ZXIiLCJvbkJ1dHRvbk91dCIsIm9uQnV0dG9uQ2xpY2siLCJyZXNldEJ1dHRvblN0YXRlcyIsImxvY2siLCJ1bmxvY2siLCJ0b2dnbGVNdXRlIiwiZ2V0IiwiaXNQb2ludGVyT3ZlciIsImJ0biIsImJ0bktleSIsImlzTXV0ZWQiLCJnYW1lIiwic3RvcEJ5S2V5IiwiaXNQbGF5aW5nIiwiYm91bmRzIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJpbnB1dCIsImFjdGl2ZVBvaW50ZXIiLCJ1cmwiLCJ3aW5kb3ciLCJvcGVuIiwiZGVzdHJveSIsIm9mZiIsImNsZWFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/classes/GameButtons.ts\n");

/***/ }),

/***/ "./src/game/classes/InputState.ts":
/*!****************************************!*\
  !*** ./src/game/classes/InputState.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InputState: () => (/* binding */ InputState)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n\n// First, let's create an InputState manager\nclass InputState {\n    constructor(){\n        this._isLocked = false;\n        this._lockSources = new Set();\n    }\n    static getInstance() {\n        if (!InputState.instance) {\n            InputState.instance = new InputState();\n        }\n        return InputState.instance;\n    }\n    lock(source) {\n        const wasLocked = this._isLocked;\n        this._lockSources.add(source);\n        this._isLocked = true;\n        if (!wasLocked) {\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"input-locked\", {\n                source\n            });\n        }\n    }\n    unlock(source) {\n        this._lockSources.delete(source);\n        const wasLocked = this._isLocked;\n        this._isLocked = this._lockSources.size > 0;\n        if (wasLocked && !this._isLocked) {\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"input-unlocked\", {\n                source\n            });\n        }\n    }\n    get isLocked() {\n        return this._isLocked;\n    }\n    get lockSources() {\n        return Array.from(this._lockSources);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9jbGFzc2VzL0lucHV0U3RhdGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBdUM7QUFFdkMsNENBQTRDO0FBQ3JDLE1BQU1DO0lBS1gsYUFBc0I7YUFIZEMsWUFBcUI7YUFDckJDLGVBQTRCLElBQUlDO0lBRWpCO0lBRXZCLE9BQU9DLGNBQTBCO1FBQy9CLElBQUksQ0FBQ0osV0FBV0ssUUFBUSxFQUFFO1lBQ3hCTCxXQUFXSyxRQUFRLEdBQUcsSUFBSUw7UUFDNUI7UUFDQSxPQUFPQSxXQUFXSyxRQUFRO0lBQzVCO0lBRU9DLEtBQUtDLE1BQWMsRUFBUTtRQUNoQyxNQUFNQyxZQUFZLElBQUksQ0FBQ1AsU0FBUztRQUNoQyxJQUFJLENBQUNDLFlBQVksQ0FBQ08sR0FBRyxDQUFDRjtRQUN0QixJQUFJLENBQUNOLFNBQVMsR0FBRztRQUVqQixJQUFJLENBQUNPLFdBQVc7WUFDZFQsK0NBQVFBLENBQUNXLElBQUksQ0FBQyxnQkFBZ0I7Z0JBQUVIO1lBQU87UUFDekM7SUFDRjtJQUVPSSxPQUFPSixNQUFjLEVBQVE7UUFDbEMsSUFBSSxDQUFDTCxZQUFZLENBQUNVLE1BQU0sQ0FBQ0w7UUFDekIsTUFBTUMsWUFBWSxJQUFJLENBQUNQLFNBQVM7UUFDaEMsSUFBSSxDQUFDQSxTQUFTLEdBQUcsSUFBSSxDQUFDQyxZQUFZLENBQUNXLElBQUksR0FBRztRQUUxQyxJQUFJTCxhQUFhLENBQUMsSUFBSSxDQUFDUCxTQUFTLEVBQUU7WUFDaENGLCtDQUFRQSxDQUFDVyxJQUFJLENBQUMsa0JBQWtCO2dCQUFFSDtZQUFPO1FBQzNDO0lBQ0Y7SUFFQSxJQUFXTyxXQUFvQjtRQUM3QixPQUFPLElBQUksQ0FBQ2IsU0FBUztJQUN2QjtJQUVBLElBQVdjLGNBQXdCO1FBQ2pDLE9BQU9DLE1BQU1DLElBQUksQ0FBQyxJQUFJLENBQUNmLFlBQVk7SUFDckM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvY2xhc3Nlcy9JbnB1dFN0YXRlLnRzP2UyNjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vRXZlbnRCdXNcIjtcblxuLy8gRmlyc3QsIGxldCdzIGNyZWF0ZSBhbiBJbnB1dFN0YXRlIG1hbmFnZXJcbmV4cG9ydCBjbGFzcyBJbnB1dFN0YXRlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IElucHV0U3RhdGU7XG4gIHByaXZhdGUgX2lzTG9ja2VkOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgX2xvY2tTb3VyY2VzOiBTZXQ8c3RyaW5nPiA9IG5ldyBTZXQoKTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogSW5wdXRTdGF0ZSB7XG4gICAgaWYgKCFJbnB1dFN0YXRlLmluc3RhbmNlKSB7XG4gICAgICBJbnB1dFN0YXRlLmluc3RhbmNlID0gbmV3IElucHV0U3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIElucHV0U3RhdGUuaW5zdGFuY2U7XG4gIH1cblxuICBwdWJsaWMgbG9jayhzb3VyY2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHdhc0xvY2tlZCA9IHRoaXMuX2lzTG9ja2VkO1xuICAgIHRoaXMuX2xvY2tTb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgIHRoaXMuX2lzTG9ja2VkID0gdHJ1ZTtcblxuICAgIGlmICghd2FzTG9ja2VkKSB7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiaW5wdXQtbG9ja2VkXCIsIHsgc291cmNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1bmxvY2soc291cmNlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLl9sb2NrU291cmNlcy5kZWxldGUoc291cmNlKTtcbiAgICBjb25zdCB3YXNMb2NrZWQgPSB0aGlzLl9pc0xvY2tlZDtcbiAgICB0aGlzLl9pc0xvY2tlZCA9IHRoaXMuX2xvY2tTb3VyY2VzLnNpemUgPiAwO1xuXG4gICAgaWYgKHdhc0xvY2tlZCAmJiAhdGhpcy5faXNMb2NrZWQpIHtcbiAgICAgIEV2ZW50QnVzLmVtaXQoXCJpbnB1dC11bmxvY2tlZFwiLCB7IHNvdXJjZSB9KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0IGlzTG9ja2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLl9pc0xvY2tlZDtcbiAgfVxuXG4gIHB1YmxpYyBnZXQgbG9ja1NvdXJjZXMoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2xvY2tTb3VyY2VzKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiRXZlbnRCdXMiLCJJbnB1dFN0YXRlIiwiX2lzTG9ja2VkIiwiX2xvY2tTb3VyY2VzIiwiU2V0IiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsImxvY2siLCJzb3VyY2UiLCJ3YXNMb2NrZWQiLCJhZGQiLCJlbWl0IiwidW5sb2NrIiwiZGVsZXRlIiwic2l6ZSIsImlzTG9ja2VkIiwibG9ja1NvdXJjZXMiLCJBcnJheSIsImZyb20iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/classes/InputState.ts\n");

/***/ }),

/***/ "./src/game/classes/Journal.ts":
/*!*************************************!*\
  !*** ./src/game/classes/Journal.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JournalManager: () => (/* binding */ JournalManager)\n/* harmony export */ });\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/utils */ \"./src/lib/utils.ts\");\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _InputState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./InputState */ \"./src/game/classes/InputState.ts\");\n\n\n\nconst JOURNAL_SCALE = 0.6;\nconst HITAREA_ALPHA = 0;\nclass JournalManager extends Phaser.GameObjects.Container {\n    // three states: locked by mc, unlocked by mc, purchased by user\n    // ex. musk-skin-locked, musk-skin-unlocked, musk-skin-purchased\n    constructor(config){\n        super(config.scene, config.x, config.y);\n        this.currentJournal = null;\n        this.currentState = \"closed\";\n        this.currentTier = 1;\n        this.currentBox = 1;\n        this.currentSkin = 1;\n        this.currentShop = 1;\n        this.isAnimating = false;\n        this.isAdvancing = false;\n        // Position constants\n        this.HIDDEN_X = 1480;\n        this.VISIBLE_X = 1000;\n        this.pointerOver = false;\n        this.handleJournalOpen = (journalType)=>{\n            this.inputState.lock(\"journal\");\n            if (this.isAnimating) return;\n            if (this.currentJournal === journalType && (this.currentState === \"main\" || this.currentState === \"tier\" || this.currentState === \"shop\")) {\n                this.closeJournal();\n                return;\n            }\n            if (!this.currentJournal) {\n                this.openJournal(journalType);\n            } else {\n                this.switchJournal(journalType);\n            }\n        };\n        this.inputState = _InputState__WEBPACK_IMPORTED_MODULE_2__.InputState.getInstance();\n        this.setDepth(100);\n        this.scene.add.existing(this);\n        this.journalContents = new Map();\n        this.tierContents = new Map();\n        this.shopContents = new Map();\n        this.TIER_INFO = this.scene.registry.get(\"tier-buttons\");\n        this.SHOP_INFO = this.scene.registry.get(\"shop-buttons\");\n        this.WEAPON_INFO = this.scene.registry.get(\"weapon-buttons\");\n        this.SKIN_INFO = this.scene.registry.get(\"skin-buttons\");\n        this.BOX_INFO = this.scene.registry.get(\"box-buttons\");\n        this.createBase();\n        this.createNavigationButtons();\n        this.createLevelsJournal();\n        this.createShopJournal();\n        this.createSkinsJournal();\n        this.createBoxesJournal();\n        this.setupEventListeners();\n        this.setX(this.HIDDEN_X);\n        this.setVisible(false);\n    }\n    createBase() {\n        this.basePaper = this.scene.add.image(0, 0, \"Page\").setOrigin(0.5).setScale(JOURNAL_SCALE);\n        this.add(this.basePaper);\n    }\n    createNavigationButtons() {\n        // Close button (always visible)\n        this.closeButton = this.scene.add.image(-250, -260, \"close\").setScale(0.15, 0.15).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>this.closeButton.setTint(0xff9999)).on(\"pointerout\", ()=>this.closeButton.clearTint()).on(\"pointerdown\", ()=>{\n            this.scene.sound.play(\"click\");\n            this.closeJournal();\n        });\n        //drop weapon button\n        this.dropButton = this.scene.add.image(-260, -170, \"drop-button\").setOrigin(0.5).setScale(0.15).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>this.dropButton.setTexture(\"drop-button-active\")).on(\"pointerout\", ()=>this.dropButton.setTexture(\"drop-button\")).on(\"pointerdown\", ()=>{\n            this.scene.sound.play(\"click\");\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"set-weapon\", undefined);\n            this.closeJournal();\n        });\n        // Back button (only visible in tier view)\n        const backButtonUI = this.scene.add.image(0, 0, \"backarrow3\").setOrigin(0.5).setScale(JOURNAL_SCALE);\n        // Create invisible hit area for the button\n        const backHitArea = this.scene.add.rectangle(185, 245, 70, 70, 0xff0000, HITAREA_ALPHA // Alpha (completely transparent)\n        ).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            backButtonUI.setTexture(\"backarrow1\");\n        }).on(\"pointerout\", ()=>{\n            backButtonUI.setTexture(\"backarrow3\");\n        }).on(\"pointerdown\", ()=>{\n            this.goBack();\n        });\n        this.backButton = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        this.backButton.setVisible(false);\n        this.backButton.add([\n            backButtonUI,\n            backHitArea\n        ]);\n        // Advance button (only visible in levels main view)\n        const advanceButtonUI = this.scene.add.image(0, 0, \"backarrow\").setOrigin(0.5).setScale(JOURNAL_SCALE);\n        // Create invisible hit area for the button\n        const hitArea = this.scene.add.rectangle(185, 245, 70, 70, 0xff0000, HITAREA_ALPHA // Alpha (completely transparent)\n        ).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            advanceButtonUI.setScale(JOURNAL_SCALE + 0.005);\n        }).on(\"pointerout\", ()=>{\n            advanceButtonUI.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>{\n            switch(this.currentJournal){\n                case \"levels\":\n                    this.advanceTier();\n                    break;\n                case \"boxes\":\n                    this.advanceBox();\n                    break;\n                case \"skins\":\n                    this.advanceSkin();\n                    break;\n                case \"shop\":\n                    this.advanceShop();\n                    break;\n                default:\n                    break;\n            }\n        });\n        this.advanceButton = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        this.advanceButton.setVisible(false);\n        this.advanceButton.add([\n            advanceButtonUI,\n            hitArea\n        ]);\n        this.add([\n            this.closeButton,\n            this.advanceButton,\n            this.backButton,\n            this.dropButton\n        ]);\n    }\n    setupEventListeners() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"open-journal\", this.handleJournalOpen, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"marketcap-changed\", this.onMarketcapChange, this);\n    }\n    // LEVELS FUNCTIONALITY\n    createLevelsJournal() {\n        const container = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        const texture = this.TIER_INFO[this.currentTier].unlocked ? `tier${this.currentTier}-button` : `tier${this.currentTier}-button-locked`;\n        // Create the tier page that will change textures\n        this.tierPage = this.scene.add.image(0, 0, texture).setOrigin(0.5).setScale(JOURNAL_SCALE);\n        const tierHitArea = this.scene.add.rectangle(-25, 0, 350, 400, 0xff0000, HITAREA_ALPHA // Alpha (completely transparent)\n        ).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            this.tierPage.setScale(JOURNAL_SCALE + 0.01);\n        }).on(\"pointerout\", ()=>{\n            this.tierPage.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>{\n            this.openTier(this.currentTier);\n        });\n        // Add everything to the container\n        container.add([\n            this.tierPage,\n            tierHitArea\n        ]);\n        this.journalContents.set(\"levels\", container);\n        this.add(container);\n        container.setVisible(false);\n        // Create containers for each tier\n        for(let tier = 1; tier <= 4; tier++){\n            const container = new Phaser.GameObjects.Container(this.scene, 0, 0).setName(`tier${tier}-container`);\n            // Add weapon buttons for this tier\n            const weapons = this.WEAPON_INFO.filter((weapon)=>weapon.tier === tier);\n            weapons.forEach((weapon, index)=>{\n                const weaponButton = this.createWeaponButton(weapon, index);\n                container.add(weaponButton);\n            });\n            this.tierContents.set(tier, container);\n            this.add(container);\n            container.setVisible(false);\n        }\n    }\n    advanceTier() {\n        // Increment tier or loop back to 1\n        this.currentTier = this.currentTier % 4 + 1;\n        const texture = this.TIER_INFO[this.currentTier].unlocked ? `tier${this.currentTier}-button` : `tier${this.currentTier}-button-locked`;\n        // Create a fade transition\n        this.scene.tweens.add({\n            targets: [\n                this.tierPage\n            ],\n            alpha: 0,\n            duration: 200,\n            onComplete: ()=>{\n                // Update the texture and text\n                this.tierPage.setTexture(texture);\n                // Fade back in\n                this.scene.tweens.add({\n                    targets: [\n                        this.tierPage\n                    ],\n                    alpha: 1,\n                    duration: 200\n                });\n            }\n        });\n        // Play page turn sound\n        this.scene.sound.play(\"page-turn\");\n    }\n    createWeaponButton(weaponData, index) {\n        const button = new Phaser.GameObjects.Container(this.scene, 0, 0).setName(`${weaponData.name}-button-container`);\n        const weaponTexture = weaponData.purchased ? `${weaponData.name}-button` : `${weaponData.name}-button-locked`;\n        // Create weapon display\n        const weaponButton = this.scene.add.image(0, 0, weaponTexture).setOrigin(0.5).setScale(JOURNAL_SCALE).setName(`${weaponData.name}-button-texture`);\n        // Create hit area\n        const hitArea = this.scene.add.rectangle(weaponData.hitbox.x, weaponData.hitbox.y, weaponData.hitbox.width, weaponData.hitbox.height, 0xff0000, HITAREA_ALPHA).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            weaponButton.setScale(JOURNAL_SCALE + 0.01);\n        }).on(\"pointerout\", ()=>{\n            weaponButton.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>this.handleWeaponSelection(weaponData));\n        button.add([\n            hitArea,\n            weaponButton\n        ]);\n        return button;\n    }\n    handleWeaponSelection(weaponData) {\n        this.scene.sound.play(\"click\");\n        if (!weaponData.purchased) {\n            if (!this.canAfford(weaponData.price)) {\n                this.scene.sound.play(\"click-deny\");\n                return;\n            }\n            // deduct coins, update config/ localstore, update texture\n            this.scene.sound.play(\"coin-pickup\");\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"coins-changed\", -weaponData.price);\n            const page = this.tierContents.get(this.currentTier);\n            const buttonContainer = page?.getByName(`${weaponData.name}-button-container`);\n            const texture = buttonContainer?.getByName(`${weaponData.name}-button-texture`);\n            const foundWeapon = this.WEAPON_INFO.find((weapon)=>weapon.name === weaponData.name);\n            if (foundWeapon) {\n                foundWeapon.purchased = true;\n            }\n            texture.setTexture(`${weaponData.name}-button`);\n            // set purchased state in local storage\n            this.updatePurchaseState(\"weapon\", weaponData.name);\n        }\n        this.scene.registry.set(\"equiped-item\", weaponData.name);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"set-weapon\", weaponData.name);\n        this.closeJournal();\n        return;\n    }\n    openTier(tier) {\n        if (!this.TIER_INFO[tier].unlocked) {\n            this.scene.sound.play(\"click-deny\");\n            return;\n        }\n        this.scene.sound.play(\"page-turn\");\n        this.currentTier = tier;\n        this.currentState = \"tier\";\n        // Change tier page texture\n        this.basePaper.setTexture(this.TIER_INFO[this.currentTier].bg);\n        // Hide main content\n        this.journalContents.get(this.currentJournal)?.setVisible(false);\n        // Show tier content\n        this.tierContents.get(this.currentTier)?.setVisible(true);\n        // Show back button, hide advance button\n        this.backButton.setVisible(true);\n        this.advanceButton.setVisible(false);\n    }\n    goBack() {\n        this.scene.sound.play(\"page-turn\");\n        if (this.currentState === \"tier\") {\n            // Return to main level select\n            this.basePaper.setTexture(\"levels-page\");\n            this.tierContents.get(this.currentTier)?.setVisible(false);\n            this.journalContents.get(\"levels\")?.setVisible(true);\n            this.currentState = \"main\";\n            // Update buttons\n            this.backButton.setVisible(false);\n            this.advanceButton.setVisible(true);\n        }\n    }\n    // SHOP FUNCTIONALITY\n    createShopJournal() {\n        const container = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        this.journalContents.set(\"shop\", container);\n        this.add(container);\n        container.setVisible(false);\n        for(let i = 1; i < 4; i++){\n            const container = new Phaser.GameObjects.Container(this.scene, 0, 0);\n            const items = this.SHOP_INFO.filter((item)=>item.tier === i);\n            items.forEach((item, index)=>{\n                const itemButton = this.createItemButton(item, index);\n                container.add(itemButton);\n            });\n            this.shopContents.set(i, container);\n            this.add(container);\n            container.setVisible(false);\n        }\n    }\n    advanceShop() {\n        // Prevent multiple advances while animation is playing\n        if (this.isAdvancing) return;\n        this.isAdvancing = true;\n        const currentContent = this.shopContents.get(this.currentShop);\n        if (!currentContent) {\n            this.isAdvancing = false;\n            return;\n        }\n        // Ensure current content is visible and at full alpha before starting fade\n        currentContent.setVisible(true);\n        currentContent.setAlpha(1);\n        // Calculate next shop number\n        const nextShop = this.currentShop === 3 ? 1 : this.currentShop + 1;\n        const nextContent = this.shopContents.get(nextShop);\n        if (!nextContent) {\n            this.isAdvancing = false;\n            return;\n        }\n        // Fade out current content\n        this.scene.tweens.add({\n            targets: currentContent,\n            alpha: 0,\n            duration: 200,\n            onComplete: ()=>{\n                // Hide current content\n                currentContent.setVisible(false);\n                currentContent.setAlpha(1);\n                // Update shop number and prepare next content\n                this.currentShop = nextShop;\n                nextContent.setAlpha(0);\n                nextContent.setVisible(true);\n                // Fade in new content\n                this.scene.tweens.add({\n                    targets: nextContent,\n                    alpha: 1,\n                    duration: 200,\n                    onComplete: ()=>{\n                        this.isAdvancing = false;\n                    }\n                });\n            }\n        });\n        // Play page turn sound\n        this.scene.sound.play(\"page-turn\");\n    }\n    createItemButton(item, index) {\n        const button = new Phaser.GameObjects.Container(this.scene, 0, 0).setName(item.name);\n        let texture = item.purchased ? `${item.name}-item` : `${item.name}-item-locked`;\n        if (item.name === \"flamethrower\") {\n            texture = item.unlocked ? \"flamethrower-unreleased\" : texture;\n        }\n        // const itemTexture = item.unlocked ? item.texture : item.texture + \"-locked\";\n        // Create weapon display\n        const itemSprite = this.scene.add.image(0, 0, texture).setOrigin(0.5).setScale(JOURNAL_SCALE).setName(`${item.name}-texture`);\n        // Create hit area\n        const hitArea = this.scene.add.rectangle(item.hitbox.x, item.hitbox.y, item.hitbox.width, item.hitbox.height, 0xff0000, HITAREA_ALPHA).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            itemSprite.setScale(JOURNAL_SCALE + 0.01);\n        }).on(\"pointerout\", ()=>{\n            itemSprite.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>this.handleItemSelection(item));\n        button.add([\n            hitArea,\n            itemSprite\n        ]);\n        return button;\n    }\n    handleItemSelection(item) {\n        this.scene.sound.play(\"click\");\n        if (!item.unlocked) {\n            // un released item, deny and return\n            this.scene.sound.play(\"click-deny\");\n            return;\n        }\n        if (!item.purchased) {\n            if (!this.canAfford(item.price)) {\n                this.scene.sound.play(\"click-deny\");\n                return;\n            }\n            // deduct coins, update config/ localstore, update texture\n            this.scene.sound.play(\"coin-pickup\");\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"coins-changed\", -item.price);\n            const page = this.shopContents.get(this.currentShop)?.getByName(item.name);\n            const texture = page.getByName(`${item.name}-texture`);\n            const foundItem = this.SHOP_INFO.find((itemOut)=>itemOut.name === item.name);\n            if (foundItem) {\n                foundItem.purchased = true;\n            }\n            texture.setTexture(`${item.name}-item`);\n            // set purchased state in local storage\n            this.updatePurchaseState(\"item\", item.name);\n        }\n        this.scene.registry.set(\"equiped-item\", item.name);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"set-weapon\", item.name);\n        this.closeJournal();\n        return;\n    }\n    // SKINS FUNCTIONALITY\n    createSkinsJournal() {\n        const container = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        const config = this.SKIN_INFO[this.currentSkin];\n        const texture = config.unlocked ? config.purchased ? `${config.name}-skin-purchased` : `${config.name}-skin-unlocked` : `${config.name}-skin-locked`;\n        this.skinPage = this.scene.add.image(0, 0, texture).setOrigin(0.5).setScale(JOURNAL_SCALE);\n        const skinHitArea = this.scene.add.rectangle(-25, 25, 350, 400, 0xff0000, HITAREA_ALPHA // Alpha (completely transparent)\n        ).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            this.skinPage.setScale(JOURNAL_SCALE + 0.01);\n        }).on(\"pointerout\", ()=>{\n            this.skinPage.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>{\n            this.handleSelectSkin(this.SKIN_INFO[this.currentSkin]);\n        });\n        container.add([\n            this.skinPage,\n            skinHitArea\n        ]);\n        this.journalContents.set(\"skins\", container);\n        this.add(container);\n        container.setVisible(false);\n    }\n    advanceSkin() {\n        if (this.isAnimating || this.isAdvancing) return;\n        this.isAdvancing = true;\n        this.isAnimating = true;\n        this.currentSkin = this.currentSkin % 7 + 1;\n        const config = this.SKIN_INFO[this.currentSkin];\n        const texture = config.unlocked ? config.purchased ? `${config.name}-skin-purchased` : `${config.name}-skin-unlocked` : `${config.name}-skin-locked`;\n        this.scene.tweens.add({\n            targets: [\n                this.skinPage\n            ],\n            alpha: 0,\n            duration: 200,\n            onComplete: ()=>{\n                this.skinPage.setTexture(texture);\n                this.scene.tweens.add({\n                    targets: [\n                        this.skinPage\n                    ],\n                    alpha: 1,\n                    duration: 200,\n                    onComplete: ()=>{\n                        this.isAnimating = false;\n                        this.isAdvancing = false;\n                    }\n                });\n            }\n        });\n        this.scene.sound.play(\"page-turn\");\n    }\n    handleSelectSkin(skin) {\n        this.scene.sound.play(\"click\");\n        // If the skin isnt unlocked by MC\n        if (!skin.unlocked) {\n            this.scene.sound.play(\"click-deny\");\n            return;\n        }\n        // If the skin isn't purchased\n        if (!skin.purchased) {\n            if (!this.canAfford(skin.price)) {\n                this.scene.sound.play(\"click-deny\");\n                return;\n            }\n            // deduct coins, update config/ localstore, update texture\n            this.scene.sound.play(\"coin-pickup\");\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"coins-changed\", -skin.price);\n            this.SKIN_INFO[this.currentSkin].purchased = true;\n            this.skinPage.setTexture(`${skin.name}-skin-purchased`);\n            // set purchased state in local storage\n            this.updatePurchaseState(\"skin\", skin.name);\n        }\n        // Equip Skin\n        this.scene.registry.set(\"equipped-skin\", skin.name);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"skin-equipped\", skin.name);\n        this.closeJournal();\n        return;\n    }\n    // BOXES FUNCTIONALITY\n    createBoxesJournal() {\n        const container = new Phaser.GameObjects.Container(this.scene, 0, 0);\n        const config = this.BOX_INFO[this.currentBox];\n        const texture = config.purchased ? `${config.name}-box` : `${config.name}-box-locked`;\n        this.boxPage = this.scene.add.image(0, 0, texture).setOrigin(0.5).setScale(JOURNAL_SCALE);\n        const boxHitArea = this.scene.add.rectangle(-25, 0, 350, 350, 0xff0000, HITAREA_ALPHA // Alpha (completely transparent)\n        ).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            this.boxPage.setScale(JOURNAL_SCALE + 0.01);\n        }).on(\"pointerout\", ()=>{\n            this.boxPage.setScale(JOURNAL_SCALE);\n        }).on(\"pointerdown\", ()=>{\n            this.handleSelectBox(this.BOX_INFO[this.currentBox]);\n        });\n        // Add everything to the container\n        container.add([\n            this.boxPage,\n            boxHitArea\n        ]);\n        this.journalContents.set(\"boxes\", container);\n        this.add(container);\n        container.setVisible(false);\n    }\n    advanceBox() {\n        if (this.isAnimating || this.isAdvancing) return;\n        this.isAdvancing = true;\n        this.isAnimating = true;\n        this.currentBox = this.currentBox % 6 + 1;\n        const config = this.BOX_INFO[this.currentBox];\n        const texture = config.purchased ? `${config.name}-box` : `${config.name}-box-locked`;\n        this.scene.tweens.add({\n            targets: [\n                this.boxPage\n            ],\n            alpha: 0,\n            duration: 200,\n            onComplete: ()=>{\n                this.boxPage.setTexture(texture);\n                // Fade back in\n                this.scene.tweens.add({\n                    targets: [\n                        this.boxPage\n                    ],\n                    alpha: 1,\n                    duration: 200,\n                    onComplete: ()=>{\n                        this.isAnimating = false;\n                        this.isAdvancing = false;\n                    }\n                });\n            }\n        });\n        this.scene.sound.play(\"page-turn\");\n    }\n    handleSelectBox(box) {\n        this.scene.sound.play(\"click\");\n        if (box.name === \"coming-soon\") {\n            this.scene.sound.play(\"click-deny\");\n            return;\n        }\n        if (!box.purchased) {\n            if (!this.canAfford(box.price)) {\n                this.scene.sound.play(\"click-deny\");\n                return;\n            }\n            // deduct coins, update config/ localstore, update texture\n            this.scene.sound.play(\"coin-pickup\");\n            _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"coins-changed\", -box.price);\n            this.BOX_INFO[this.currentBox].purchased = true;\n            this.boxPage.setTexture(`${box.name}-box`);\n            // set purchased state in local storage\n            this.updatePurchaseState(\"box\", box.name);\n        }\n        this.scene.registry.set(`equipped-bg`, box.name);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"bg-change\", box.bg);\n        this.closeJournal();\n        return;\n    }\n    // JOURNAL FUNCTIONALITY\n    openJournal(type) {\n        this.isAnimating = true;\n        this.currentJournal = type;\n        this.currentState = \"main\";\n        this.setVisible(true);\n        switch(type){\n            case \"levels\":\n                this.basePaper.setTexture(\"levels-page\");\n                break;\n            case \"boxes\":\n                this.basePaper.setTexture(\"boxes-page\");\n                break;\n            case \"skins\":\n                this.basePaper.setTexture(\"skins-page\");\n                break;\n            case \"shop\":\n                this.currentState = \"shop\";\n                this.basePaper.setTexture(\"shop-page\");\n                this.shopContents.get(this.currentShop)?.setVisible(true);\n                break;\n        }\n        this.advanceButton.setVisible(true);\n        // Show correct content\n        this.journalContents.forEach((content, journalType)=>{\n            content.setVisible(journalType === type);\n        });\n        // Slide in animation\n        this.scene.tweens.add({\n            targets: this,\n            x: this.VISIBLE_X,\n            duration: 500,\n            ease: \"Power2\",\n            onComplete: ()=>{\n                this.isAnimating = false;\n            }\n        });\n    }\n    switchJournal(newType) {\n        this.scene.sound.play(\"page-turn\");\n        this.basePaper.setTexture(\"Page\");\n        if (this.currentState === \"tier\") {\n            this.tierContents.get(this.currentTier)?.setVisible(false);\n            this.backButton.setVisible(false);\n        }\n        if (this.currentState === \"shop\") {\n            this.shopContents.get(this.currentShop)?.setVisible(false);\n            this.backButton.setVisible(false);\n        }\n        switch(newType){\n            case \"levels\":\n                this.currentState = \"main\";\n                this.basePaper.setTexture(\"levels-page\");\n                break;\n            case \"shop\":\n                this.currentState = \"shop\";\n                this.basePaper.setTexture(\"shop-page\");\n                this.shopContents.get(this.currentShop)?.setVisible(true);\n                break;\n            case \"skins\":\n                this.currentState = \"main\";\n                this.basePaper.setTexture(\"skins-page\");\n                break;\n            case \"boxes\":\n                this.currentState = \"main\";\n                this.basePaper.setTexture(\"boxes-page\");\n                break;\n        }\n        // Hide current content\n        this.journalContents.get(this.currentJournal)?.setVisible(false);\n        // Show new content\n        this.journalContents.get(newType)?.setVisible(true);\n        // Update current journal\n        this.currentJournal = newType;\n        // Update button visibility\n        this.advanceButton.setVisible(true);\n    }\n    closeJournal() {\n        if (this.currentState === \"tier\") {\n            this.tierContents.get(this.currentTier)?.setVisible(false);\n            this.backButton.setVisible(false);\n        }\n        if (this.currentState === \"shop\") {\n            this.shopContents.get(this.currentShop)?.setVisible(false);\n        }\n        if (this.isAnimating) return;\n        this.isAnimating = true;\n        // Slide out animation\n        this.scene.tweens.add({\n            targets: this,\n            x: this.HIDDEN_X,\n            duration: 500,\n            ease: \"Power2\",\n            onComplete: ()=>{\n                this.isAnimating = false;\n                this.setVisible(false);\n                this.currentJournal = null;\n                this.currentState = \"closed\";\n                this.inputState.unlock(\"journal\");\n                _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"journal-closed\");\n            }\n        });\n    }\n    // Utility methods\n    onMarketcapChange(newMarketcap) {\n        this.closeJournal();\n        this.scene.registry.set(\"marketcap\", newMarketcap);\n        this.TIER_INFO[2].unlocked = newMarketcap >= 1000000;\n        this.TIER_INFO[3].unlocked = newMarketcap >= 5000000;\n        this.TIER_INFO[4].unlocked = newMarketcap >= 10000000;\n        this.SKIN_INFO[3].unlocked = newMarketcap >= 1000000;\n        this.SKIN_INFO[4].unlocked = newMarketcap >= 5000000;\n        this.SKIN_INFO[6].unlocked = newMarketcap >= 10000000;\n    }\n    updatePurchaseState(type, itemName) {\n        const storageKey = `${type}-purchases`;\n        const currentPurchases = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_0__.getPurchasedStates)(storageKey);\n        currentPurchases[itemName] = true;\n        localStorage.setItem(storageKey, JSON.stringify(currentPurchases));\n    }\n    getCoins() {\n        const currentCoins = localStorage.getItem(\"coins\");\n        if (!currentCoins) {\n            localStorage.setItem(\"coins\", \"0\");\n            return 0;\n        }\n        const coinNum = parseInt(currentCoins);\n        return coinNum;\n    }\n    canAfford(price) {\n        // Get current coins from game state\n        const coins = this.getCoins();\n        return coins >= price;\n    }\n    destroy() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.off(\"open-journal\", this.handleJournalOpen, this);\n        super.destroy();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxVQUFVLENBQUM7UUFDdEMsTUFBTVEsbUJBQW1CekosOERBQWtCQSxDQUFDd0o7UUFDNUNDLGdCQUFnQixDQUFDRixTQUFTLEdBQUc7UUFDN0JHLGFBQWFDLE9BQU8sQ0FBQ0gsWUFBWUksS0FBS0MsU0FBUyxDQUFDSjtJQUNsRDtJQUVRSyxXQUFtQjtRQUN6QixNQUFNQyxlQUFlTCxhQUFhTSxPQUFPLENBQUM7UUFDMUMsSUFBSSxDQUFDRCxjQUFjO1lBQ2pCTCxhQUFhQyxPQUFPLENBQUMsU0FBUztZQUM5QixPQUFPO1FBQ1Q7UUFDQSxNQUFNTSxVQUFVQyxTQUFTSDtRQUN6QixPQUFPRTtJQUNUO0lBRVE5QyxVQUFVQyxLQUFhLEVBQVc7UUFDeEMsb0NBQW9DO1FBQ3BDLE1BQU0rQyxRQUFRLElBQUksQ0FBQ0wsUUFBUTtRQUMzQixPQUFPSyxTQUFTL0M7SUFDbEI7SUFFT2dELFVBQWdCO1FBQ3JCbkssK0NBQVFBLENBQUNvSyxHQUFHLENBQUMsZ0JBQWdCLElBQUksQ0FBQzVJLGlCQUFpQixFQUFFLElBQUk7UUFDekQsS0FBSyxDQUFDMkk7SUFDUjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9jbGFzc2VzL0pvdXJuYWwudHM/YmQ2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRQdXJjaGFzZWRTdGF0ZXMgfSBmcm9tIFwiQC9saWIvdXRpbHNcIjtcbmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL0V2ZW50QnVzXCI7XG5pbXBvcnQgeyBJbnB1dFN0YXRlIH0gZnJvbSBcIi4vSW5wdXRTdGF0ZVwiO1xuXG50eXBlIEpvdXJuYWxUeXBlID0gXCJsZXZlbHNcIiB8IFwic2hvcFwiIHwgXCJza2luc1wiIHwgXCJib3hlc1wiO1xudHlwZSBKb3VybmFsU3RhdGUgPSBcImNsb3NlZFwiIHwgXCJtYWluXCIgfCBcInRpZXJcIiB8IFwic2hvcFwiO1xuXG5pbnRlcmZhY2UgSm91cm5hbE1hbmFnZXJDb25maWcge1xuICBzY2VuZTogUGhhc2VyLlNjZW5lO1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWFwb25CdXR0b24ge1xuICBuYW1lOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIHB1cmNoYXNlZDogYm9vbGVhbjtcbiAgdGllcjogbnVtYmVyO1xuICBoaXRib3g6IFBoYXNlci5HZW9tLlJlY3RhbmdsZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaG9wSXRlbUJ1dHRvbiB7XG4gIG5hbWU6IHN0cmluZztcbiAgdGllcjogbnVtYmVyO1xuICBwcmljZTogbnVtYmVyO1xuICBwdXJjaGFzZWQ6IGJvb2xlYW47XG4gIHVubG9ja2VkOiBib29sZWFuO1xuICBoaXRib3g6IFBoYXNlci5HZW9tLlJlY3RhbmdsZTtcbn1cblxuZXhwb3J0IHR5cGUgU2tpbkJ1dHRvbnMgPSBSZWNvcmQ8XG4gIG51bWJlcixcbiAge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwcmljZTogbnVtYmVyO1xuICAgIHVubG9ja2VkOiBib29sZWFuO1xuICAgIHB1cmNoYXNlZDogYm9vbGVhbjtcbiAgfVxuPjtcblxuZXhwb3J0IHR5cGUgVGllckJ1dHRvbnMgPSBSZWNvcmQ8XG4gIG51bWJlcixcbiAge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBiZzogc3RyaW5nO1xuICAgIHVubG9ja2VkOiBib29sZWFuO1xuICB9XG4+O1xuXG5leHBvcnQgdHlwZSBCb3hCdXR0b25zID0gUmVjb3JkPFxuICBudW1iZXIsXG4gIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYmc6IHN0cmluZztcbiAgICBwcmljZTogbnVtYmVyO1xuICAgIHB1cmNoYXNlZDogYm9vbGVhbjtcbiAgfVxuPjtcblxuY29uc3QgSk9VUk5BTF9TQ0FMRSA9IDAuNjtcbmNvbnN0IEhJVEFSRUFfQUxQSEEgPSAwO1xuXG5leHBvcnQgY2xhc3MgSm91cm5hbE1hbmFnZXIgZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgcHJpdmF0ZSBpbnB1dFN0YXRlOiBJbnB1dFN0YXRlO1xuICBwcml2YXRlIGN1cnJlbnRKb3VybmFsOiBKb3VybmFsVHlwZSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGN1cnJlbnRTdGF0ZTogSm91cm5hbFN0YXRlID0gXCJjbG9zZWRcIjtcbiAgcHJpdmF0ZSBjdXJyZW50VGllcjogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSBjdXJyZW50Qm94OiBudW1iZXIgPSAxO1xuICBwcml2YXRlIGN1cnJlbnRTa2luOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIGN1cnJlbnRTaG9wOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIGlzQW5pbWF0aW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgaXNBZHZhbmNpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvLyBVSSBFbGVtZW50c1xuICBwcml2YXRlIGJhc2VQYXBlcjogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICBwcml2YXRlIGNsb3NlQnV0dG9uOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gIHByaXZhdGUgYmFja0J1dHRvbjogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcbiAgcHJpdmF0ZSBhZHZhbmNlQnV0dG9uOiBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuICBwcml2YXRlIGRyb3BCdXR0b246IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgLy8gUG9zaXRpb24gY29uc3RhbnRzXG4gIHByaXZhdGUgcmVhZG9ubHkgSElEREVOX1ggPSAxNDgwO1xuICBwcml2YXRlIHJlYWRvbmx5IFZJU0lCTEVfWCA9IDEwMDA7XG4gIHByaXZhdGUgdGllclBhZ2UhOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gIHByaXZhdGUgYm94UGFnZSE6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgcHJpdmF0ZSB0aWVyVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICBwcml2YXRlIHNraW5QYWdlITogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICBwcml2YXRlIHNob3BQYWdlITogUGhhc2VyLkdhbWVPYmplY3RzLkltYWdlO1xuICBwcml2YXRlIHBvaW50ZXJPdmVyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLy8gQ29udGVudCBjb250YWluZXJzXG4gIHByaXZhdGUgam91cm5hbENvbnRlbnRzOiBNYXA8Sm91cm5hbFR5cGUsIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI+O1xuICBwcml2YXRlIHRpZXJDb250ZW50czogTWFwPG51bWJlciwgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcj47XG4gIHByaXZhdGUgc2hvcENvbnRlbnRzOiBNYXA8bnVtYmVyLCBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyPjtcblxuICBwcml2YXRlIFdFQVBPTl9JTkZPITogV2VhcG9uQnV0dG9uW107XG4gIHByaXZhdGUgU0hPUF9JTkZPITogU2hvcEl0ZW1CdXR0b25bXTtcbiAgcHJpdmF0ZSBTS0lOX0lORk8hOiBTa2luQnV0dG9ucztcbiAgcHJpdmF0ZSBUSUVSX0lORk8hOiBUaWVyQnV0dG9ucztcbiAgcHJpdmF0ZSBCT1hfSU5GTyE6IEJveEJ1dHRvbnM7XG5cbiAgLy8gdGhyZWUgc3RhdGVzOiBsb2NrZWQgYnkgbWMsIHVubG9ja2VkIGJ5IG1jLCBwdXJjaGFzZWQgYnkgdXNlclxuICAvLyBleC4gbXVzay1za2luLWxvY2tlZCwgbXVzay1za2luLXVubG9ja2VkLCBtdXNrLXNraW4tcHVyY2hhc2VkXG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBKb3VybmFsTWFuYWdlckNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZy5zY2VuZSwgY29uZmlnLngsIGNvbmZpZy55KTtcbiAgICB0aGlzLmlucHV0U3RhdGUgPSBJbnB1dFN0YXRlLmdldEluc3RhbmNlKCk7XG4gICAgdGhpcy5zZXREZXB0aCgxMDApO1xuICAgIHRoaXMuc2NlbmUuYWRkLmV4aXN0aW5nKHRoaXMpO1xuXG4gICAgdGhpcy5qb3VybmFsQ29udGVudHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy50aWVyQ29udGVudHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zaG9wQ29udGVudHMgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLlRJRVJfSU5GTyA9IHRoaXMuc2NlbmUucmVnaXN0cnkuZ2V0KFwidGllci1idXR0b25zXCIpO1xuICAgIHRoaXMuU0hPUF9JTkZPID0gdGhpcy5zY2VuZS5yZWdpc3RyeS5nZXQoXCJzaG9wLWJ1dHRvbnNcIik7XG4gICAgdGhpcy5XRUFQT05fSU5GTyA9IHRoaXMuc2NlbmUucmVnaXN0cnkuZ2V0KFwid2VhcG9uLWJ1dHRvbnNcIik7XG4gICAgdGhpcy5TS0lOX0lORk8gPSB0aGlzLnNjZW5lLnJlZ2lzdHJ5LmdldChcInNraW4tYnV0dG9uc1wiKTtcbiAgICB0aGlzLkJPWF9JTkZPID0gdGhpcy5zY2VuZS5yZWdpc3RyeS5nZXQoXCJib3gtYnV0dG9uc1wiKTtcblxuICAgIHRoaXMuY3JlYXRlQmFzZSgpO1xuICAgIHRoaXMuY3JlYXRlTmF2aWdhdGlvbkJ1dHRvbnMoKTtcbiAgICB0aGlzLmNyZWF0ZUxldmVsc0pvdXJuYWwoKTtcbiAgICB0aGlzLmNyZWF0ZVNob3BKb3VybmFsKCk7XG4gICAgdGhpcy5jcmVhdGVTa2luc0pvdXJuYWwoKTtcbiAgICB0aGlzLmNyZWF0ZUJveGVzSm91cm5hbCgpO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuc2V0WCh0aGlzLkhJRERFTl9YKTtcbiAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVCYXNlKCk6IHZvaWQge1xuICAgIHRoaXMuYmFzZVBhcGVyID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5pbWFnZSgwLCAwLCBcIlBhZ2VcIilcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuICAgIHRoaXMuYWRkKHRoaXMuYmFzZVBhcGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTmF2aWdhdGlvbkJ1dHRvbnMoKTogdm9pZCB7XG4gICAgLy8gQ2xvc2UgYnV0dG9uIChhbHdheXMgdmlzaWJsZSlcbiAgICB0aGlzLmNsb3NlQnV0dG9uID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5pbWFnZSgtMjUwLCAtMjYwLCBcImNsb3NlXCIpXG4gICAgICAuc2V0U2NhbGUoMC4xNSwgMC4xNSlcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHRoaXMuY2xvc2VCdXR0b24uc2V0VGludCgweGZmOTk5OSkpXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHRoaXMuY2xvc2VCdXR0b24uY2xlYXJUaW50KCkpXG4gICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrXCIpO1xuICAgICAgICB0aGlzLmNsb3NlSm91cm5hbCgpO1xuICAgICAgfSk7XG5cbiAgICAvL2Ryb3Agd2VhcG9uIGJ1dHRvblxuICAgIHRoaXMuZHJvcEJ1dHRvbiA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoLTI2MCwgLTE3MCwgXCJkcm9wLWJ1dHRvblwiKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0U2NhbGUoMC4xNSlcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHRoaXMuZHJvcEJ1dHRvbi5zZXRUZXh0dXJlKFwiZHJvcC1idXR0b24tYWN0aXZlXCIpKVxuICAgICAgLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB0aGlzLmRyb3BCdXR0b24uc2V0VGV4dHVyZShcImRyb3AtYnV0dG9uXCIpKVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcbiAgICAgICAgRXZlbnRCdXMuZW1pdChcInNldC13ZWFwb25cIiwgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5jbG9zZUpvdXJuYWwoKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gQmFjayBidXR0b24gKG9ubHkgdmlzaWJsZSBpbiB0aWVyIHZpZXcpXG4gICAgY29uc3QgYmFja0J1dHRvblVJID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5pbWFnZSgwLCAwLCBcImJhY2thcnJvdzNcIilcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuXG4gICAgLy8gQ3JlYXRlIGludmlzaWJsZSBoaXQgYXJlYSBmb3IgdGhlIGJ1dHRvblxuICAgIGNvbnN0IGJhY2tIaXRBcmVhID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5yZWN0YW5nbGUoXG4gICAgICAgIDE4NSxcbiAgICAgICAgMjQ1LFxuICAgICAgICA3MCxcbiAgICAgICAgNzAsXG4gICAgICAgIDB4ZmYwMDAwLCAvLyBDb2xvciAod29uJ3QgYmUgdmlzaWJsZSlcbiAgICAgICAgSElUQVJFQV9BTFBIQSAvLyBBbHBoYSAoY29tcGxldGVseSB0cmFuc3BhcmVudClcbiAgICAgIClcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcbiAgICAgICAgYmFja0J1dHRvblVJLnNldFRleHR1cmUoXCJiYWNrYXJyb3cxXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICBiYWNrQnV0dG9uVUkuc2V0VGV4dHVyZShcImJhY2thcnJvdzNcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmdvQmFjaygpO1xuICAgICAgfSk7XG5cbiAgICB0aGlzLmJhY2tCdXR0b24gPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKTtcbiAgICB0aGlzLmJhY2tCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgdGhpcy5iYWNrQnV0dG9uLmFkZChbYmFja0J1dHRvblVJLCBiYWNrSGl0QXJlYV0pO1xuXG4gICAgLy8gQWR2YW5jZSBidXR0b24gKG9ubHkgdmlzaWJsZSBpbiBsZXZlbHMgbWFpbiB2aWV3KVxuICAgIGNvbnN0IGFkdmFuY2VCdXR0b25VSSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMCwgMCwgXCJiYWNrYXJyb3dcIilcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuXG4gICAgLy8gQ3JlYXRlIGludmlzaWJsZSBoaXQgYXJlYSBmb3IgdGhlIGJ1dHRvblxuICAgIGNvbnN0IGhpdEFyZWEgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLnJlY3RhbmdsZShcbiAgICAgICAgMTg1LFxuICAgICAgICAyNDUsXG4gICAgICAgIDcwLFxuICAgICAgICA3MCxcbiAgICAgICAgMHhmZjAwMDAsIC8vIENvbG9yICh3b24ndCBiZSB2aXNpYmxlKVxuICAgICAgICBISVRBUkVBX0FMUEhBIC8vIEFscGhhIChjb21wbGV0ZWx5IHRyYW5zcGFyZW50KVxuICAgICAgKVxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xuICAgICAgICBhZHZhbmNlQnV0dG9uVUkuc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSArIDAuMDA1KTtcbiAgICAgIH0pXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcbiAgICAgICAgYWR2YW5jZUJ1dHRvblVJLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmN1cnJlbnRKb3VybmFsKSB7XG4gICAgICAgICAgY2FzZSBcImxldmVsc1wiOlxuICAgICAgICAgICAgdGhpcy5hZHZhbmNlVGllcigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJveGVzXCI6XG4gICAgICAgICAgICB0aGlzLmFkdmFuY2VCb3goKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJza2luc1wiOlxuICAgICAgICAgICAgdGhpcy5hZHZhbmNlU2tpbigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNob3BcIjpcbiAgICAgICAgICAgIHRoaXMuYWR2YW5jZVNob3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB0aGlzLmFkdmFuY2VCdXR0b24gPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKTtcbiAgICB0aGlzLmFkdmFuY2VCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgdGhpcy5hZHZhbmNlQnV0dG9uLmFkZChbYWR2YW5jZUJ1dHRvblVJLCBoaXRBcmVhXSk7XG5cbiAgICB0aGlzLmFkZChbXG4gICAgICB0aGlzLmNsb3NlQnV0dG9uLFxuICAgICAgdGhpcy5hZHZhbmNlQnV0dG9uLFxuICAgICAgdGhpcy5iYWNrQnV0dG9uLFxuICAgICAgdGhpcy5kcm9wQnV0dG9uLFxuICAgIF0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIEV2ZW50QnVzLm9uKFwib3Blbi1qb3VybmFsXCIsIHRoaXMuaGFuZGxlSm91cm5hbE9wZW4sIHRoaXMpO1xuICAgIEV2ZW50QnVzLm9uKFwibWFya2V0Y2FwLWNoYW5nZWRcIiwgdGhpcy5vbk1hcmtldGNhcENoYW5nZSwgdGhpcyk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZUpvdXJuYWxPcGVuID0gKGpvdXJuYWxUeXBlOiBKb3VybmFsVHlwZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuaW5wdXRTdGF0ZS5sb2NrKFwiam91cm5hbFwiKTtcbiAgICBpZiAodGhpcy5pc0FuaW1hdGluZykgcmV0dXJuO1xuICAgIGlmIChcbiAgICAgIHRoaXMuY3VycmVudEpvdXJuYWwgPT09IGpvdXJuYWxUeXBlICYmXG4gICAgICAodGhpcy5jdXJyZW50U3RhdGUgPT09IFwibWFpblwiIHx8XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID09PSBcInRpZXJcIiB8fFxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gXCJzaG9wXCIpXG4gICAgKSB7XG4gICAgICB0aGlzLmNsb3NlSm91cm5hbCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5jdXJyZW50Sm91cm5hbCkge1xuICAgICAgdGhpcy5vcGVuSm91cm5hbChqb3VybmFsVHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3dpdGNoSm91cm5hbChqb3VybmFsVHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIExFVkVMUyBGVU5DVElPTkFMSVRZXG4gIHByaXZhdGUgY3JlYXRlTGV2ZWxzSm91cm5hbCgpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKTtcblxuICAgIGNvbnN0IHRleHR1cmUgPSB0aGlzLlRJRVJfSU5GT1t0aGlzLmN1cnJlbnRUaWVyXS51bmxvY2tlZFxuICAgICAgPyBgdGllciR7dGhpcy5jdXJyZW50VGllcn0tYnV0dG9uYFxuICAgICAgOiBgdGllciR7dGhpcy5jdXJyZW50VGllcn0tYnV0dG9uLWxvY2tlZGA7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHRpZXIgcGFnZSB0aGF0IHdpbGwgY2hhbmdlIHRleHR1cmVzXG4gICAgdGhpcy50aWVyUGFnZSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMCwgMCwgdGV4dHVyZSlcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuXG4gICAgY29uc3QgdGllckhpdEFyZWEgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLnJlY3RhbmdsZShcbiAgICAgICAgLTI1LFxuICAgICAgICAwLFxuICAgICAgICAzNTAsXG4gICAgICAgIDQwMCwgLy8gQWRqdXN0IHNpemUgdG8gbWF0Y2ggdGhlIHRpZXIgcGFnZVxuICAgICAgICAweGZmMDAwMCwgLy8gQ29sb3IgKHdvbid0IGJlIHZpc2libGUpXG4gICAgICAgIEhJVEFSRUFfQUxQSEEgLy8gQWxwaGEgKGNvbXBsZXRlbHkgdHJhbnNwYXJlbnQpXG4gICAgICApXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMudGllclBhZ2Uuc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSArIDAuMDEpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLnRpZXJQYWdlLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5vcGVuVGllcih0aGlzLmN1cnJlbnRUaWVyKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gQWRkIGV2ZXJ5dGhpbmcgdG8gdGhlIGNvbnRhaW5lclxuICAgIGNvbnRhaW5lci5hZGQoW3RoaXMudGllclBhZ2UsIHRpZXJIaXRBcmVhXSk7XG4gICAgdGhpcy5qb3VybmFsQ29udGVudHMuc2V0KFwibGV2ZWxzXCIsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5hZGQoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAvLyBDcmVhdGUgY29udGFpbmVycyBmb3IgZWFjaCB0aWVyXG4gICAgZm9yIChsZXQgdGllciA9IDE7IHRpZXIgPD0gNDsgdGllcisrKSB7XG4gICAgICBjb25zdCBjb250YWluZXIgPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcihcbiAgICAgICAgdGhpcy5zY2VuZSxcbiAgICAgICAgMCxcbiAgICAgICAgMFxuICAgICAgKS5zZXROYW1lKGB0aWVyJHt0aWVyfS1jb250YWluZXJgKTtcbiAgICAgIC8vIEFkZCB3ZWFwb24gYnV0dG9ucyBmb3IgdGhpcyB0aWVyXG4gICAgICBjb25zdCB3ZWFwb25zID0gdGhpcy5XRUFQT05fSU5GTy5maWx0ZXIoXG4gICAgICAgICh3ZWFwb246IFdlYXBvbkJ1dHRvbikgPT4gd2VhcG9uLnRpZXIgPT09IHRpZXJcbiAgICAgICk7XG4gICAgICB3ZWFwb25zLmZvckVhY2goKHdlYXBvbjogV2VhcG9uQnV0dG9uLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IHdlYXBvbkJ1dHRvbiA9IHRoaXMuY3JlYXRlV2VhcG9uQnV0dG9uKHdlYXBvbiwgaW5kZXgpO1xuICAgICAgICBjb250YWluZXIuYWRkKHdlYXBvbkJ1dHRvbik7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy50aWVyQ29udGVudHMuc2V0KHRpZXIsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFkZChjb250YWluZXIpO1xuICAgICAgY29udGFpbmVyLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWR2YW5jZVRpZXIoKTogdm9pZCB7XG4gICAgLy8gSW5jcmVtZW50IHRpZXIgb3IgbG9vcCBiYWNrIHRvIDFcbiAgICB0aGlzLmN1cnJlbnRUaWVyID0gKHRoaXMuY3VycmVudFRpZXIgJSA0KSArIDE7XG5cbiAgICBjb25zdCB0ZXh0dXJlID0gdGhpcy5USUVSX0lORk9bdGhpcy5jdXJyZW50VGllcl0udW5sb2NrZWRcbiAgICAgID8gYHRpZXIke3RoaXMuY3VycmVudFRpZXJ9LWJ1dHRvbmBcbiAgICAgIDogYHRpZXIke3RoaXMuY3VycmVudFRpZXJ9LWJ1dHRvbi1sb2NrZWRgO1xuXG4gICAgLy8gQ3JlYXRlIGEgZmFkZSB0cmFuc2l0aW9uXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IFt0aGlzLnRpZXJQYWdlXSxcbiAgICAgIGFscGhhOiAwLFxuICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSB0ZXh0dXJlIGFuZCB0ZXh0XG4gICAgICAgIHRoaXMudGllclBhZ2Uuc2V0VGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgLy8gRmFkZSBiYWNrIGluXG4gICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgdGFyZ2V0czogW3RoaXMudGllclBhZ2VdLFxuICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIFBsYXkgcGFnZSB0dXJuIHNvdW5kXG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwicGFnZS10dXJuXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVXZWFwb25CdXR0b24oXG4gICAgd2VhcG9uRGF0YTogV2VhcG9uQnV0dG9uLFxuICAgIGluZGV4OiBudW1iZXJcbiAgKTogUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lciB7XG4gICAgY29uc3QgYnV0dG9uID0gbmV3IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIodGhpcy5zY2VuZSwgMCwgMCkuc2V0TmFtZShcbiAgICAgIGAke3dlYXBvbkRhdGEubmFtZX0tYnV0dG9uLWNvbnRhaW5lcmBcbiAgICApO1xuXG4gICAgY29uc3Qgd2VhcG9uVGV4dHVyZSA9IHdlYXBvbkRhdGEucHVyY2hhc2VkXG4gICAgICA/IGAke3dlYXBvbkRhdGEubmFtZX0tYnV0dG9uYFxuICAgICAgOiBgJHt3ZWFwb25EYXRhLm5hbWV9LWJ1dHRvbi1sb2NrZWRgO1xuICAgIC8vIENyZWF0ZSB3ZWFwb24gZGlzcGxheVxuICAgIGNvbnN0IHdlYXBvbkJ1dHRvbiA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMCwgMCwgd2VhcG9uVGV4dHVyZSlcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpXG4gICAgICAuc2V0TmFtZShgJHt3ZWFwb25EYXRhLm5hbWV9LWJ1dHRvbi10ZXh0dXJlYCk7XG4gICAgLy8gQ3JlYXRlIGhpdCBhcmVhXG4gICAgY29uc3QgaGl0QXJlYSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAucmVjdGFuZ2xlKFxuICAgICAgICB3ZWFwb25EYXRhLmhpdGJveC54LFxuICAgICAgICB3ZWFwb25EYXRhLmhpdGJveC55LFxuICAgICAgICB3ZWFwb25EYXRhLmhpdGJveC53aWR0aCxcbiAgICAgICAgd2VhcG9uRGF0YS5oaXRib3guaGVpZ2h0LFxuICAgICAgICAweGZmMDAwMCxcbiAgICAgICAgSElUQVJFQV9BTFBIQVxuICAgICAgKVxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xuICAgICAgICB3ZWFwb25CdXR0b24uc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSArIDAuMDEpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICB3ZWFwb25CdXR0b24uc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSk7XG4gICAgICB9KVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4gdGhpcy5oYW5kbGVXZWFwb25TZWxlY3Rpb24od2VhcG9uRGF0YSkpO1xuXG4gICAgYnV0dG9uLmFkZChbaGl0QXJlYSwgd2VhcG9uQnV0dG9uXSk7XG5cbiAgICByZXR1cm4gYnV0dG9uO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVXZWFwb25TZWxlY3Rpb24od2VhcG9uRGF0YTogV2VhcG9uQnV0dG9uKTogdm9pZCB7XG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY2xpY2tcIik7XG5cbiAgICBpZiAoIXdlYXBvbkRhdGEucHVyY2hhc2VkKSB7XG4gICAgICBpZiAoIXRoaXMuY2FuQWZmb3JkKHdlYXBvbkRhdGEucHJpY2UpKSB7XG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrLWRlbnlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGRlZHVjdCBjb2lucywgdXBkYXRlIGNvbmZpZy8gbG9jYWxzdG9yZSwgdXBkYXRlIHRleHR1cmVcbiAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNvaW4tcGlja3VwXCIpO1xuICAgICAgRXZlbnRCdXMuZW1pdChcImNvaW5zLWNoYW5nZWRcIiwgLXdlYXBvbkRhdGEucHJpY2UpO1xuXG4gICAgICBjb25zdCBwYWdlID0gdGhpcy50aWVyQ29udGVudHMuZ2V0KFxuICAgICAgICB0aGlzLmN1cnJlbnRUaWVyXG4gICAgICApIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXI7XG5cbiAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IHBhZ2U/LmdldEJ5TmFtZShcbiAgICAgICAgYCR7d2VhcG9uRGF0YS5uYW1lfS1idXR0b24tY29udGFpbmVyYFxuICAgICAgKSBhcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyO1xuXG4gICAgICBjb25zdCB0ZXh0dXJlID0gYnV0dG9uQ29udGFpbmVyPy5nZXRCeU5hbWUoXG4gICAgICAgIGAke3dlYXBvbkRhdGEubmFtZX0tYnV0dG9uLXRleHR1cmVgXG4gICAgICApIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICAgIGNvbnN0IGZvdW5kV2VhcG9uID0gdGhpcy5XRUFQT05fSU5GTy5maW5kKFxuICAgICAgICAod2VhcG9uKSA9PiB3ZWFwb24ubmFtZSA9PT0gd2VhcG9uRGF0YS5uYW1lXG4gICAgICApO1xuICAgICAgaWYgKGZvdW5kV2VhcG9uKSB7XG4gICAgICAgIGZvdW5kV2VhcG9uLnB1cmNoYXNlZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHRleHR1cmUuc2V0VGV4dHVyZShgJHt3ZWFwb25EYXRhLm5hbWV9LWJ1dHRvbmApO1xuICAgICAgLy8gc2V0IHB1cmNoYXNlZCBzdGF0ZSBpbiBsb2NhbCBzdG9yYWdlXG5cbiAgICAgIHRoaXMudXBkYXRlUHVyY2hhc2VTdGF0ZShcIndlYXBvblwiLCB3ZWFwb25EYXRhLm5hbWUpO1xuICAgIH1cbiAgICB0aGlzLnNjZW5lLnJlZ2lzdHJ5LnNldChcImVxdWlwZWQtaXRlbVwiLCB3ZWFwb25EYXRhLm5hbWUpO1xuICAgIEV2ZW50QnVzLmVtaXQoXCJzZXQtd2VhcG9uXCIsIHdlYXBvbkRhdGEubmFtZSk7XG4gICAgdGhpcy5jbG9zZUpvdXJuYWwoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBwcml2YXRlIG9wZW5UaWVyKHRpZXI6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICghdGhpcy5USUVSX0lORk9bdGllcl0udW5sb2NrZWQpIHtcbiAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrLWRlbnlcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwicGFnZS10dXJuXCIpO1xuICAgIHRoaXMuY3VycmVudFRpZXIgPSB0aWVyO1xuICAgIHRoaXMuY3VycmVudFN0YXRlID0gXCJ0aWVyXCI7XG4gICAgLy8gQ2hhbmdlIHRpZXIgcGFnZSB0ZXh0dXJlXG4gICAgdGhpcy5iYXNlUGFwZXIuc2V0VGV4dHVyZSh0aGlzLlRJRVJfSU5GT1t0aGlzLmN1cnJlbnRUaWVyXS5iZyk7XG4gICAgLy8gSGlkZSBtYWluIGNvbnRlbnRcbiAgICB0aGlzLmpvdXJuYWxDb250ZW50cy5nZXQodGhpcy5jdXJyZW50Sm91cm5hbCEpPy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAvLyBTaG93IHRpZXIgY29udGVudFxuICAgIHRoaXMudGllckNvbnRlbnRzLmdldCh0aGlzLmN1cnJlbnRUaWVyKT8uc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAvLyBTaG93IGJhY2sgYnV0dG9uLCBoaWRlIGFkdmFuY2UgYnV0dG9uXG4gICAgdGhpcy5iYWNrQnV0dG9uLnNldFZpc2libGUodHJ1ZSk7XG4gICAgdGhpcy5hZHZhbmNlQnV0dG9uLnNldFZpc2libGUoZmFsc2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBnb0JhY2soKTogdm9pZCB7XG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwicGFnZS10dXJuXCIpO1xuICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gXCJ0aWVyXCIpIHtcbiAgICAgIC8vIFJldHVybiB0byBtYWluIGxldmVsIHNlbGVjdFxuICAgICAgdGhpcy5iYXNlUGFwZXIuc2V0VGV4dHVyZShcImxldmVscy1wYWdlXCIpO1xuICAgICAgdGhpcy50aWVyQ29udGVudHMuZ2V0KHRoaXMuY3VycmVudFRpZXIpPy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIHRoaXMuam91cm5hbENvbnRlbnRzLmdldChcImxldmVsc1wiKT8uc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gXCJtYWluXCI7XG5cbiAgICAgIC8vIFVwZGF0ZSBidXR0b25zXG4gICAgICB0aGlzLmJhY2tCdXR0b24uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICB0aGlzLmFkdmFuY2VCdXR0b24uc2V0VmlzaWJsZSh0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvLyBTSE9QIEZVTkNUSU9OQUxJVFlcbiAgcHJpdmF0ZSBjcmVhdGVTaG9wSm91cm5hbCgpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKTtcbiAgICB0aGlzLmpvdXJuYWxDb250ZW50cy5zZXQoXCJzaG9wXCIsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5hZGQoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDQ7IGkrKykge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gbmV3IFBoYXNlci5HYW1lT2JqZWN0cy5Db250YWluZXIodGhpcy5zY2VuZSwgMCwgMCk7XG5cbiAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5TSE9QX0lORk8uZmlsdGVyKFxuICAgICAgICAoaXRlbTogU2hvcEl0ZW1CdXR0b24pID0+IGl0ZW0udGllciA9PT0gaVxuICAgICAgKTtcbiAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW06IFNob3BJdGVtQnV0dG9uLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGl0ZW1CdXR0b24gPSB0aGlzLmNyZWF0ZUl0ZW1CdXR0b24oaXRlbSwgaW5kZXgpO1xuICAgICAgICBjb250YWluZXIuYWRkKGl0ZW1CdXR0b24pO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuc2hvcENvbnRlbnRzLnNldChpLCBjb250YWluZXIpO1xuICAgICAgdGhpcy5hZGQoY29udGFpbmVyKTtcbiAgICAgIGNvbnRhaW5lci5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkdmFuY2VTaG9wKCk6IHZvaWQge1xuICAgIC8vIFByZXZlbnQgbXVsdGlwbGUgYWR2YW5jZXMgd2hpbGUgYW5pbWF0aW9uIGlzIHBsYXlpbmdcbiAgICBpZiAodGhpcy5pc0FkdmFuY2luZykgcmV0dXJuO1xuICAgIHRoaXMuaXNBZHZhbmNpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgY3VycmVudENvbnRlbnQgPSB0aGlzLnNob3BDb250ZW50cy5nZXQodGhpcy5jdXJyZW50U2hvcCk7XG4gICAgaWYgKCFjdXJyZW50Q29udGVudCkge1xuICAgICAgdGhpcy5pc0FkdmFuY2luZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEVuc3VyZSBjdXJyZW50IGNvbnRlbnQgaXMgdmlzaWJsZSBhbmQgYXQgZnVsbCBhbHBoYSBiZWZvcmUgc3RhcnRpbmcgZmFkZVxuICAgIGN1cnJlbnRDb250ZW50LnNldFZpc2libGUodHJ1ZSk7XG4gICAgY3VycmVudENvbnRlbnQuc2V0QWxwaGEoMSk7XG5cbiAgICAvLyBDYWxjdWxhdGUgbmV4dCBzaG9wIG51bWJlclxuICAgIGNvbnN0IG5leHRTaG9wID0gdGhpcy5jdXJyZW50U2hvcCA9PT0gMyA/IDEgOiB0aGlzLmN1cnJlbnRTaG9wICsgMTtcbiAgICBjb25zdCBuZXh0Q29udGVudCA9IHRoaXMuc2hvcENvbnRlbnRzLmdldChuZXh0U2hvcCk7XG4gICAgaWYgKCFuZXh0Q29udGVudCkge1xuICAgICAgdGhpcy5pc0FkdmFuY2luZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZhZGUgb3V0IGN1cnJlbnQgY29udGVudFxuICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiBjdXJyZW50Q29udGVudCxcbiAgICAgIGFscGhhOiAwLFxuICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgLy8gSGlkZSBjdXJyZW50IGNvbnRlbnRcbiAgICAgICAgY3VycmVudENvbnRlbnQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGN1cnJlbnRDb250ZW50LnNldEFscGhhKDEpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBzaG9wIG51bWJlciBhbmQgcHJlcGFyZSBuZXh0IGNvbnRlbnRcbiAgICAgICAgdGhpcy5jdXJyZW50U2hvcCA9IG5leHRTaG9wO1xuICAgICAgICBuZXh0Q29udGVudC5zZXRBbHBoYSgwKTtcbiAgICAgICAgbmV4dENvbnRlbnQuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAvLyBGYWRlIGluIG5ldyBjb250ZW50XG4gICAgICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgdGFyZ2V0czogbmV4dENvbnRlbnQsXG4gICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzQWR2YW5jaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gUGxheSBwYWdlIHR1cm4gc291bmRcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJwYWdlLXR1cm5cIik7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUl0ZW1CdXR0b24oaXRlbTogU2hvcEl0ZW1CdXR0b24sIGluZGV4OiBudW1iZXIpIHtcbiAgICBjb25zdCBidXR0b24gPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKS5zZXROYW1lKFxuICAgICAgaXRlbS5uYW1lXG4gICAgKTtcblxuICAgIGxldCB0ZXh0dXJlID0gaXRlbS5wdXJjaGFzZWRcbiAgICAgID8gYCR7aXRlbS5uYW1lfS1pdGVtYFxuICAgICAgOiBgJHtpdGVtLm5hbWV9LWl0ZW0tbG9ja2VkYDtcblxuICAgIGlmIChpdGVtLm5hbWUgPT09IFwiZmxhbWV0aHJvd2VyXCIpIHtcbiAgICAgIHRleHR1cmUgPSBpdGVtLnVubG9ja2VkID8gXCJmbGFtZXRocm93ZXItdW5yZWxlYXNlZFwiIDogdGV4dHVyZTtcbiAgICB9XG5cbiAgICAvLyBjb25zdCBpdGVtVGV4dHVyZSA9IGl0ZW0udW5sb2NrZWQgPyBpdGVtLnRleHR1cmUgOiBpdGVtLnRleHR1cmUgKyBcIi1sb2NrZWRcIjtcbiAgICAvLyBDcmVhdGUgd2VhcG9uIGRpc3BsYXlcbiAgICBjb25zdCBpdGVtU3ByaXRlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5pbWFnZSgwLCAwLCB0ZXh0dXJlKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSlcbiAgICAgIC5zZXROYW1lKGAke2l0ZW0ubmFtZX0tdGV4dHVyZWApO1xuXG4gICAgLy8gQ3JlYXRlIGhpdCBhcmVhXG4gICAgY29uc3QgaGl0QXJlYSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAucmVjdGFuZ2xlKFxuICAgICAgICBpdGVtLmhpdGJveC54LFxuICAgICAgICBpdGVtLmhpdGJveC55LFxuICAgICAgICBpdGVtLmhpdGJveC53aWR0aCxcbiAgICAgICAgaXRlbS5oaXRib3guaGVpZ2h0LFxuICAgICAgICAweGZmMDAwMCxcbiAgICAgICAgSElUQVJFQV9BTFBIQVxuICAgICAgKVxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xuICAgICAgICBpdGVtU3ByaXRlLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUgKyAwLjAxKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcbiAgICAgICAgaXRlbVNwcml0ZS5zZXRTY2FsZShKT1VSTkFMX1NDQUxFKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB0aGlzLmhhbmRsZUl0ZW1TZWxlY3Rpb24oaXRlbSkpO1xuXG4gICAgYnV0dG9uLmFkZChbaGl0QXJlYSwgaXRlbVNwcml0ZV0pO1xuXG4gICAgcmV0dXJuIGJ1dHRvbjtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlSXRlbVNlbGVjdGlvbihpdGVtOiBTaG9wSXRlbUJ1dHRvbik6IHZvaWQge1xuICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrXCIpO1xuICAgIGlmICghaXRlbS51bmxvY2tlZCkge1xuICAgICAgLy8gdW4gcmVsZWFzZWQgaXRlbSwgZGVueSBhbmQgcmV0dXJuXG4gICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGljay1kZW55XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghaXRlbS5wdXJjaGFzZWQpIHtcbiAgICAgIGlmICghdGhpcy5jYW5BZmZvcmQoaXRlbS5wcmljZSkpIHtcbiAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY2xpY2stZGVueVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gZGVkdWN0IGNvaW5zLCB1cGRhdGUgY29uZmlnLyBsb2NhbHN0b3JlLCB1cGRhdGUgdGV4dHVyZVxuICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY29pbi1waWNrdXBcIik7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiY29pbnMtY2hhbmdlZFwiLCAtaXRlbS5wcmljZSk7XG5cbiAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnNob3BDb250ZW50c1xuICAgICAgICAuZ2V0KHRoaXMuY3VycmVudFNob3ApXG4gICAgICAgID8uZ2V0QnlOYW1lKGl0ZW0ubmFtZSkgYXMgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcjtcblxuICAgICAgY29uc3QgdGV4dHVyZSA9IHBhZ2UuZ2V0QnlOYW1lKFxuICAgICAgICBgJHtpdGVtLm5hbWV9LXRleHR1cmVgXG4gICAgICApIGFzIFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgICAgIGNvbnN0IGZvdW5kSXRlbSA9IHRoaXMuU0hPUF9JTkZPLmZpbmQoXG4gICAgICAgIChpdGVtT3V0KSA9PiBpdGVtT3V0Lm5hbWUgPT09IGl0ZW0ubmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChmb3VuZEl0ZW0pIHtcbiAgICAgICAgZm91bmRJdGVtLnB1cmNoYXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0ZXh0dXJlLnNldFRleHR1cmUoYCR7aXRlbS5uYW1lfS1pdGVtYCk7XG4gICAgICAvLyBzZXQgcHVyY2hhc2VkIHN0YXRlIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgIHRoaXMudXBkYXRlUHVyY2hhc2VTdGF0ZShcIml0ZW1cIiwgaXRlbS5uYW1lKTtcbiAgICB9XG4gICAgdGhpcy5zY2VuZS5yZWdpc3RyeS5zZXQoXCJlcXVpcGVkLWl0ZW1cIiwgaXRlbS5uYW1lKTtcbiAgICBFdmVudEJ1cy5lbWl0KFwic2V0LXdlYXBvblwiLCBpdGVtLm5hbWUpO1xuICAgIHRoaXMuY2xvc2VKb3VybmFsKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU0tJTlMgRlVOQ1RJT05BTElUWVxuICBwcml2YXRlIGNyZWF0ZVNraW5zSm91cm5hbCgpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBuZXcgUGhhc2VyLkdhbWVPYmplY3RzLkNvbnRhaW5lcih0aGlzLnNjZW5lLCAwLCAwKTtcblxuICAgIGNvbnN0IGNvbmZpZyA9IHRoaXMuU0tJTl9JTkZPW3RoaXMuY3VycmVudFNraW5dO1xuICAgIGNvbnN0IHRleHR1cmUgPSBjb25maWcudW5sb2NrZWRcbiAgICAgID8gY29uZmlnLnB1cmNoYXNlZFxuICAgICAgICA/IGAke2NvbmZpZy5uYW1lfS1za2luLXB1cmNoYXNlZGBcbiAgICAgICAgOiBgJHtjb25maWcubmFtZX0tc2tpbi11bmxvY2tlZGBcbiAgICAgIDogYCR7Y29uZmlnLm5hbWV9LXNraW4tbG9ja2VkYDtcblxuICAgIHRoaXMuc2tpblBhZ2UgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLmltYWdlKDAsIDAsIHRleHR1cmUpXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgIC5zZXRTY2FsZShKT1VSTkFMX1NDQUxFKTtcblxuICAgIGNvbnN0IHNraW5IaXRBcmVhID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5yZWN0YW5nbGUoXG4gICAgICAgIC0yNSxcbiAgICAgICAgMjUsXG4gICAgICAgIDM1MCxcbiAgICAgICAgNDAwLCAvLyBBZGp1c3Qgc2l6ZSB0byBtYXRjaCB0aGUgdGllciBwYWdlXG4gICAgICAgIDB4ZmYwMDAwLCAvLyBDb2xvciAod29uJ3QgYmUgdmlzaWJsZSlcbiAgICAgICAgSElUQVJFQV9BTFBIQSAvLyBBbHBoYSAoY29tcGxldGVseSB0cmFuc3BhcmVudClcbiAgICAgIClcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5za2luUGFnZS5zZXRTY2FsZShKT1VSTkFMX1NDQUxFICsgMC4wMSk7XG4gICAgICB9KVxuICAgICAgLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2tpblBhZ2Uuc2V0U2NhbGUoSk9VUk5BTF9TQ0FMRSk7XG4gICAgICB9KVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZVNlbGVjdFNraW4odGhpcy5TS0lOX0lORk9bdGhpcy5jdXJyZW50U2tpbl0pO1xuICAgICAgfSk7XG5cbiAgICBjb250YWluZXIuYWRkKFt0aGlzLnNraW5QYWdlLCBza2luSGl0QXJlYV0pO1xuICAgIHRoaXMuam91cm5hbENvbnRlbnRzLnNldChcInNraW5zXCIsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5hZGQoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG4gIH1cblxuICBwcml2YXRlIGFkdmFuY2VTa2luKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzQW5pbWF0aW5nIHx8IHRoaXMuaXNBZHZhbmNpbmcpIHJldHVybjtcbiAgICB0aGlzLmlzQWR2YW5jaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTtcbiAgICB0aGlzLmN1cnJlbnRTa2luID0gKHRoaXMuY3VycmVudFNraW4gJSA3KSArIDE7XG5cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLlNLSU5fSU5GT1t0aGlzLmN1cnJlbnRTa2luXTtcbiAgICBjb25zdCB0ZXh0dXJlID0gY29uZmlnLnVubG9ja2VkXG4gICAgICA/IGNvbmZpZy5wdXJjaGFzZWRcbiAgICAgICAgPyBgJHtjb25maWcubmFtZX0tc2tpbi1wdXJjaGFzZWRgXG4gICAgICAgIDogYCR7Y29uZmlnLm5hbWV9LXNraW4tdW5sb2NrZWRgXG4gICAgICA6IGAke2NvbmZpZy5uYW1lfS1za2luLWxvY2tlZGA7XG5cbiAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgdGFyZ2V0czogW3RoaXMuc2tpblBhZ2VdLFxuICAgICAgYWxwaGE6IDAsXG4gICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLnNraW5QYWdlLnNldFRleHR1cmUodGV4dHVyZSk7XG5cbiAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgICAgICB0YXJnZXRzOiBbdGhpcy5za2luUGFnZV0sXG4gICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgZHVyYXRpb246IDIwMCxcbiAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQWR2YW5jaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwicGFnZS10dXJuXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVTZWxlY3RTa2luKHNraW46IFNraW5CdXR0b25zW251bWJlcl0pOiB2b2lkIHtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGlja1wiKTtcbiAgICAvLyBJZiB0aGUgc2tpbiBpc250IHVubG9ja2VkIGJ5IE1DXG4gICAgaWYgKCFza2luLnVubG9ja2VkKSB7XG4gICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGljay1kZW55XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgc2tpbiBpc24ndCBwdXJjaGFzZWRcbiAgICBpZiAoIXNraW4ucHVyY2hhc2VkKSB7XG4gICAgICBpZiAoIXRoaXMuY2FuQWZmb3JkKHNraW4ucHJpY2UpKSB7XG4gICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrLWRlbnlcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGRlZHVjdCBjb2lucywgdXBkYXRlIGNvbmZpZy8gbG9jYWxzdG9yZSwgdXBkYXRlIHRleHR1cmVcbiAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNvaW4tcGlja3VwXCIpO1xuICAgICAgRXZlbnRCdXMuZW1pdChcImNvaW5zLWNoYW5nZWRcIiwgLXNraW4ucHJpY2UpO1xuICAgICAgdGhpcy5TS0lOX0lORk9bdGhpcy5jdXJyZW50U2tpbl0ucHVyY2hhc2VkID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2tpblBhZ2Uuc2V0VGV4dHVyZShgJHtza2luLm5hbWV9LXNraW4tcHVyY2hhc2VkYCk7XG4gICAgICAvLyBzZXQgcHVyY2hhc2VkIHN0YXRlIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgIHRoaXMudXBkYXRlUHVyY2hhc2VTdGF0ZShcInNraW5cIiwgc2tpbi5uYW1lKTtcbiAgICB9XG4gICAgLy8gRXF1aXAgU2tpblxuICAgIHRoaXMuc2NlbmUucmVnaXN0cnkuc2V0KFwiZXF1aXBwZWQtc2tpblwiLCBza2luLm5hbWUpO1xuICAgIEV2ZW50QnVzLmVtaXQoXCJza2luLWVxdWlwcGVkXCIsIHNraW4ubmFtZSk7XG4gICAgdGhpcy5jbG9zZUpvdXJuYWwoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBCT1hFUyBGVU5DVElPTkFMSVRZXG4gIHByaXZhdGUgY3JlYXRlQm94ZXNKb3VybmFsKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG5ldyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyKHRoaXMuc2NlbmUsIDAsIDApO1xuXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5CT1hfSU5GT1t0aGlzLmN1cnJlbnRCb3hdO1xuICAgIGNvbnN0IHRleHR1cmUgPSBjb25maWcucHVyY2hhc2VkXG4gICAgICA/IGAke2NvbmZpZy5uYW1lfS1ib3hgXG4gICAgICA6IGAke2NvbmZpZy5uYW1lfS1ib3gtbG9ja2VkYDtcblxuICAgIHRoaXMuYm94UGFnZSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMCwgMCwgdGV4dHVyZSlcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuXG4gICAgY29uc3QgYm94SGl0QXJlYSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAucmVjdGFuZ2xlKFxuICAgICAgICAtMjUsXG4gICAgICAgIDAsXG4gICAgICAgIDM1MCxcbiAgICAgICAgMzUwLCAvLyBBZGp1c3Qgc2l6ZSB0byBtYXRjaCB0aGUgdGllciBwYWdlXG4gICAgICAgIDB4ZmYwMDAwLCAvLyBDb2xvciAod29uJ3QgYmUgdmlzaWJsZSlcbiAgICAgICAgSElUQVJFQV9BTFBIQSAvLyBBbHBoYSAoY29tcGxldGVseSB0cmFuc3BhcmVudClcbiAgICAgIClcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5ib3hQYWdlLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUgKyAwLjAxKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5ib3hQYWdlLnNldFNjYWxlKEpPVVJOQUxfU0NBTEUpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5oYW5kbGVTZWxlY3RCb3godGhpcy5CT1hfSU5GT1t0aGlzLmN1cnJlbnRCb3hdKTtcbiAgICAgIH0pO1xuXG4gICAgLy8gQWRkIGV2ZXJ5dGhpbmcgdG8gdGhlIGNvbnRhaW5lclxuICAgIGNvbnRhaW5lci5hZGQoW3RoaXMuYm94UGFnZSwgYm94SGl0QXJlYV0pO1xuICAgIHRoaXMuam91cm5hbENvbnRlbnRzLnNldChcImJveGVzXCIsIGNvbnRhaW5lcik7XG4gICAgdGhpcy5hZGQoY29udGFpbmVyKTtcbiAgICBjb250YWluZXIuc2V0VmlzaWJsZShmYWxzZSk7XG4gIH1cblxuICBwcml2YXRlIGFkdmFuY2VCb3goKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNBbmltYXRpbmcgfHwgdGhpcy5pc0FkdmFuY2luZykgcmV0dXJuO1xuICAgIHRoaXMuaXNBZHZhbmNpbmcgPSB0cnVlO1xuICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuICAgIHRoaXMuY3VycmVudEJveCA9ICh0aGlzLmN1cnJlbnRCb3ggJSA2KSArIDE7XG5cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLkJPWF9JTkZPW3RoaXMuY3VycmVudEJveF07XG4gICAgY29uc3QgdGV4dHVyZSA9IGNvbmZpZy5wdXJjaGFzZWRcbiAgICAgID8gYCR7Y29uZmlnLm5hbWV9LWJveGBcbiAgICAgIDogYCR7Y29uZmlnLm5hbWV9LWJveC1sb2NrZWRgO1xuXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IFt0aGlzLmJveFBhZ2VdLFxuICAgICAgYWxwaGE6IDAsXG4gICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmJveFBhZ2Uuc2V0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAvLyBGYWRlIGJhY2sgaW5cbiAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgICAgICB0YXJnZXRzOiBbdGhpcy5ib3hQYWdlXSxcbiAgICAgICAgICBhbHBoYTogMSxcbiAgICAgICAgICBkdXJhdGlvbjogMjAwLFxuICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNBZHZhbmNpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJwYWdlLXR1cm5cIik7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVNlbGVjdEJveChib3g6IEJveEJ1dHRvbnNbbnVtYmVyXSk6IHZvaWQge1xuICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNsaWNrXCIpO1xuICAgIGlmIChib3gubmFtZSA9PT0gXCJjb21pbmctc29vblwiKSB7XG4gICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGljay1kZW55XCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWJveC5wdXJjaGFzZWQpIHtcbiAgICAgIGlmICghdGhpcy5jYW5BZmZvcmQoYm94LnByaWNlKSkge1xuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjbGljay1kZW55XCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBkZWR1Y3QgY29pbnMsIHVwZGF0ZSBjb25maWcvIGxvY2Fsc3RvcmUsIHVwZGF0ZSB0ZXh0dXJlXG4gICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjb2luLXBpY2t1cFwiKTtcbiAgICAgIEV2ZW50QnVzLmVtaXQoXCJjb2lucy1jaGFuZ2VkXCIsIC1ib3gucHJpY2UpO1xuICAgICAgdGhpcy5CT1hfSU5GT1t0aGlzLmN1cnJlbnRCb3hdLnB1cmNoYXNlZCA9IHRydWU7XG4gICAgICB0aGlzLmJveFBhZ2Uuc2V0VGV4dHVyZShgJHtib3gubmFtZX0tYm94YCk7XG4gICAgICAvLyBzZXQgcHVyY2hhc2VkIHN0YXRlIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgIHRoaXMudXBkYXRlUHVyY2hhc2VTdGF0ZShcImJveFwiLCBib3gubmFtZSk7XG4gICAgfVxuICAgIHRoaXMuc2NlbmUucmVnaXN0cnkuc2V0KGBlcXVpcHBlZC1iZ2AsIGJveC5uYW1lKTtcbiAgICBFdmVudEJ1cy5lbWl0KFwiYmctY2hhbmdlXCIsIGJveC5iZyk7XG4gICAgdGhpcy5jbG9zZUpvdXJuYWwoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBKT1VSTkFMIEZVTkNUSU9OQUxJVFlcbiAgcHJpdmF0ZSBvcGVuSm91cm5hbCh0eXBlOiBKb3VybmFsVHlwZSk6IHZvaWQge1xuICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuICAgIHRoaXMuY3VycmVudEpvdXJuYWwgPSB0eXBlO1xuICAgIHRoaXMuY3VycmVudFN0YXRlID0gXCJtYWluXCI7XG4gICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwibGV2ZWxzXCI6XG4gICAgICAgIHRoaXMuYmFzZVBhcGVyLnNldFRleHR1cmUoXCJsZXZlbHMtcGFnZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm94ZXNcIjpcbiAgICAgICAgdGhpcy5iYXNlUGFwZXIuc2V0VGV4dHVyZShcImJveGVzLXBhZ2VcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNraW5zXCI6XG4gICAgICAgIHRoaXMuYmFzZVBhcGVyLnNldFRleHR1cmUoXCJza2lucy1wYWdlXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJzaG9wXCI6XG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gXCJzaG9wXCI7XG4gICAgICAgIHRoaXMuYmFzZVBhcGVyLnNldFRleHR1cmUoXCJzaG9wLXBhZ2VcIik7XG4gICAgICAgIHRoaXMuc2hvcENvbnRlbnRzLmdldCh0aGlzLmN1cnJlbnRTaG9wKT8uc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgdGhpcy5hZHZhbmNlQnV0dG9uLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAvLyBTaG93IGNvcnJlY3QgY29udGVudFxuICAgIHRoaXMuam91cm5hbENvbnRlbnRzLmZvckVhY2goKGNvbnRlbnQsIGpvdXJuYWxUeXBlKSA9PiB7XG4gICAgICBjb250ZW50LnNldFZpc2libGUoam91cm5hbFR5cGUgPT09IHR5cGUpO1xuICAgIH0pO1xuXG4gICAgLy8gU2xpZGUgaW4gYW5pbWF0aW9uXG4gICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgIHRhcmdldHM6IHRoaXMsXG4gICAgICB4OiB0aGlzLlZJU0lCTEVfWCxcbiAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICBlYXNlOiBcIlBvd2VyMlwiLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzd2l0Y2hKb3VybmFsKG5ld1R5cGU6IEpvdXJuYWxUeXBlKTogdm9pZCB7XG4gICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwicGFnZS10dXJuXCIpO1xuICAgIHRoaXMuYmFzZVBhcGVyLnNldFRleHR1cmUoXCJQYWdlXCIpO1xuXG4gICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBcInRpZXJcIikge1xuICAgICAgdGhpcy50aWVyQ29udGVudHMuZ2V0KHRoaXMuY3VycmVudFRpZXIpPy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgIHRoaXMuYmFja0J1dHRvbi5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IFwic2hvcFwiKSB7XG4gICAgICB0aGlzLnNob3BDb250ZW50cy5nZXQodGhpcy5jdXJyZW50U2hvcCk/LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgdGhpcy5iYWNrQnV0dG9uLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHN3aXRjaCAobmV3VHlwZSkge1xuICAgICAgY2FzZSBcImxldmVsc1wiOlxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IFwibWFpblwiO1xuICAgICAgICB0aGlzLmJhc2VQYXBlci5zZXRUZXh0dXJlKFwibGV2ZWxzLXBhZ2VcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInNob3BcIjpcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBcInNob3BcIjtcbiAgICAgICAgdGhpcy5iYXNlUGFwZXIuc2V0VGV4dHVyZShcInNob3AtcGFnZVwiKTtcbiAgICAgICAgdGhpcy5zaG9wQ29udGVudHMuZ2V0KHRoaXMuY3VycmVudFNob3ApPy5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJza2luc1wiOlxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IFwibWFpblwiO1xuICAgICAgICB0aGlzLmJhc2VQYXBlci5zZXRUZXh0dXJlKFwic2tpbnMtcGFnZVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm94ZXNcIjpcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBcIm1haW5cIjtcbiAgICAgICAgdGhpcy5iYXNlUGFwZXIuc2V0VGV4dHVyZShcImJveGVzLXBhZ2VcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEhpZGUgY3VycmVudCBjb250ZW50XG4gICAgdGhpcy5qb3VybmFsQ29udGVudHMuZ2V0KHRoaXMuY3VycmVudEpvdXJuYWwhKT8uc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAvLyBTaG93IG5ldyBjb250ZW50XG4gICAgdGhpcy5qb3VybmFsQ29udGVudHMuZ2V0KG5ld1R5cGUpPy5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgLy8gVXBkYXRlIGN1cnJlbnQgam91cm5hbFxuICAgIHRoaXMuY3VycmVudEpvdXJuYWwgPSBuZXdUeXBlO1xuXG4gICAgLy8gVXBkYXRlIGJ1dHRvbiB2aXNpYmlsaXR5XG4gICAgdGhpcy5hZHZhbmNlQnV0dG9uLnNldFZpc2libGUodHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIGNsb3NlSm91cm5hbCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IFwidGllclwiKSB7XG4gICAgICB0aGlzLnRpZXJDb250ZW50cy5nZXQodGhpcy5jdXJyZW50VGllcik/LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgdGhpcy5iYWNrQnV0dG9uLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gXCJzaG9wXCIpIHtcbiAgICAgIHRoaXMuc2hvcENvbnRlbnRzLmdldCh0aGlzLmN1cnJlbnRTaG9wKT8uc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNBbmltYXRpbmcpIHJldHVybjtcblxuICAgIHRoaXMuaXNBbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgLy8gU2xpZGUgb3V0IGFuaW1hdGlvblxuICAgIHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICB0YXJnZXRzOiB0aGlzLFxuICAgICAgeDogdGhpcy5ISURERU5fWCxcbiAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICBlYXNlOiBcIlBvd2VyMlwiLFxuICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICB0aGlzLmlzQW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMuY3VycmVudEpvdXJuYWwgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IFwiY2xvc2VkXCI7XG4gICAgICAgIHRoaXMuaW5wdXRTdGF0ZS51bmxvY2soXCJqb3VybmFsXCIpO1xuICAgICAgICBFdmVudEJ1cy5lbWl0KFwiam91cm5hbC1jbG9zZWRcIik7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLy8gVXRpbGl0eSBtZXRob2RzXG4gIHByaXZhdGUgb25NYXJrZXRjYXBDaGFuZ2UobmV3TWFya2V0Y2FwOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNsb3NlSm91cm5hbCgpO1xuICAgIHRoaXMuc2NlbmUucmVnaXN0cnkuc2V0KFwibWFya2V0Y2FwXCIsIG5ld01hcmtldGNhcCk7XG5cbiAgICB0aGlzLlRJRVJfSU5GT1syXS51bmxvY2tlZCA9IG5ld01hcmtldGNhcCA+PSAxMDAwMDAwO1xuICAgIHRoaXMuVElFUl9JTkZPWzNdLnVubG9ja2VkID0gbmV3TWFya2V0Y2FwID49IDUwMDAwMDA7XG4gICAgdGhpcy5USUVSX0lORk9bNF0udW5sb2NrZWQgPSBuZXdNYXJrZXRjYXAgPj0gMTAwMDAwMDA7XG5cbiAgICB0aGlzLlNLSU5fSU5GT1szXS51bmxvY2tlZCA9IG5ld01hcmtldGNhcCA+PSAxMDAwMDAwO1xuICAgIHRoaXMuU0tJTl9JTkZPWzRdLnVubG9ja2VkID0gbmV3TWFya2V0Y2FwID49IDUwMDAwMDA7XG4gICAgdGhpcy5TS0lOX0lORk9bNl0udW5sb2NrZWQgPSBuZXdNYXJrZXRjYXAgPj0gMTAwMDAwMDA7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlUHVyY2hhc2VTdGF0ZShcbiAgICB0eXBlOiBcIndlYXBvblwiIHwgXCJpdGVtXCIgfCBcImJveFwiIHwgXCJza2luXCIsXG4gICAgaXRlbU5hbWU6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdG9yYWdlS2V5ID0gYCR7dHlwZX0tcHVyY2hhc2VzYDtcbiAgICBjb25zdCBjdXJyZW50UHVyY2hhc2VzID0gZ2V0UHVyY2hhc2VkU3RhdGVzKHN0b3JhZ2VLZXkpO1xuICAgIGN1cnJlbnRQdXJjaGFzZXNbaXRlbU5hbWVdID0gdHJ1ZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShjdXJyZW50UHVyY2hhc2VzKSk7XG4gIH1cblxuICBwcml2YXRlIGdldENvaW5zKCk6IG51bWJlciB7XG4gICAgY29uc3QgY3VycmVudENvaW5zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJjb2luc1wiKTtcbiAgICBpZiAoIWN1cnJlbnRDb2lucykge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjb2luc1wiLCBcIjBcIik7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgY29uc3QgY29pbk51bSA9IHBhcnNlSW50KGN1cnJlbnRDb2lucyk7XG4gICAgcmV0dXJuIGNvaW5OdW07XG4gIH1cblxuICBwcml2YXRlIGNhbkFmZm9yZChwcmljZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IGN1cnJlbnQgY29pbnMgZnJvbSBnYW1lIHN0YXRlXG4gICAgY29uc3QgY29pbnMgPSB0aGlzLmdldENvaW5zKCk7XG4gICAgcmV0dXJuIGNvaW5zID49IHByaWNlO1xuICB9XG5cbiAgcHVibGljIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgRXZlbnRCdXMub2ZmKFwib3Blbi1qb3VybmFsXCIsIHRoaXMuaGFuZGxlSm91cm5hbE9wZW4sIHRoaXMpO1xuICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgfVxufVxuXG4iXSwibmFtZXMiOlsiZ2V0UHVyY2hhc2VkU3RhdGVzIiwiRXZlbnRCdXMiLCJJbnB1dFN0YXRlIiwiSk9VUk5BTF9TQ0FMRSIsIkhJVEFSRUFfQUxQSEEiLCJKb3VybmFsTWFuYWdlciIsIlBoYXNlciIsIkdhbWVPYmplY3RzIiwiQ29udGFpbmVyIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJzY2VuZSIsIngiLCJ5IiwiY3VycmVudEpvdXJuYWwiLCJjdXJyZW50U3RhdGUiLCJjdXJyZW50VGllciIsImN1cnJlbnRCb3giLCJjdXJyZW50U2tpbiIsImN1cnJlbnRTaG9wIiwiaXNBbmltYXRpbmciLCJpc0FkdmFuY2luZyIsIkhJRERFTl9YIiwiVklTSUJMRV9YIiwicG9pbnRlck92ZXIiLCJoYW5kbGVKb3VybmFsT3BlbiIsImpvdXJuYWxUeXBlIiwiaW5wdXRTdGF0ZSIsImxvY2siLCJjbG9zZUpvdXJuYWwiLCJvcGVuSm91cm5hbCIsInN3aXRjaEpvdXJuYWwiLCJnZXRJbnN0YW5jZSIsInNldERlcHRoIiwiYWRkIiwiZXhpc3RpbmciLCJqb3VybmFsQ29udGVudHMiLCJNYXAiLCJ0aWVyQ29udGVudHMiLCJzaG9wQ29udGVudHMiLCJUSUVSX0lORk8iLCJyZWdpc3RyeSIsImdldCIsIlNIT1BfSU5GTyIsIldFQVBPTl9JTkZPIiwiU0tJTl9JTkZPIiwiQk9YX0lORk8iLCJjcmVhdGVCYXNlIiwiY3JlYXRlTmF2aWdhdGlvbkJ1dHRvbnMiLCJjcmVhdGVMZXZlbHNKb3VybmFsIiwiY3JlYXRlU2hvcEpvdXJuYWwiLCJjcmVhdGVTa2luc0pvdXJuYWwiLCJjcmVhdGVCb3hlc0pvdXJuYWwiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic2V0WCIsInNldFZpc2libGUiLCJiYXNlUGFwZXIiLCJpbWFnZSIsInNldE9yaWdpbiIsInNldFNjYWxlIiwiY2xvc2VCdXR0b24iLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJvbiIsInNldFRpbnQiLCJjbGVhclRpbnQiLCJzb3VuZCIsInBsYXkiLCJkcm9wQnV0dG9uIiwic2V0VGV4dHVyZSIsImVtaXQiLCJ1bmRlZmluZWQiLCJiYWNrQnV0dG9uVUkiLCJiYWNrSGl0QXJlYSIsInJlY3RhbmdsZSIsImdvQmFjayIsImJhY2tCdXR0b24iLCJhZHZhbmNlQnV0dG9uVUkiLCJoaXRBcmVhIiwiYWR2YW5jZVRpZXIiLCJhZHZhbmNlQm94IiwiYWR2YW5jZVNraW4iLCJhZHZhbmNlU2hvcCIsImFkdmFuY2VCdXR0b24iLCJvbk1hcmtldGNhcENoYW5nZSIsImNvbnRhaW5lciIsInRleHR1cmUiLCJ1bmxvY2tlZCIsInRpZXJQYWdlIiwidGllckhpdEFyZWEiLCJvcGVuVGllciIsInNldCIsInRpZXIiLCJzZXROYW1lIiwid2VhcG9ucyIsImZpbHRlciIsIndlYXBvbiIsImZvckVhY2giLCJpbmRleCIsIndlYXBvbkJ1dHRvbiIsImNyZWF0ZVdlYXBvbkJ1dHRvbiIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsImR1cmF0aW9uIiwib25Db21wbGV0ZSIsIndlYXBvbkRhdGEiLCJidXR0b24iLCJuYW1lIiwid2VhcG9uVGV4dHVyZSIsInB1cmNoYXNlZCIsImhpdGJveCIsIndpZHRoIiwiaGVpZ2h0IiwiaGFuZGxlV2VhcG9uU2VsZWN0aW9uIiwiY2FuQWZmb3JkIiwicHJpY2UiLCJwYWdlIiwiYnV0dG9uQ29udGFpbmVyIiwiZ2V0QnlOYW1lIiwiZm91bmRXZWFwb24iLCJmaW5kIiwidXBkYXRlUHVyY2hhc2VTdGF0ZSIsImJnIiwiaSIsIml0ZW1zIiwiaXRlbSIsIml0ZW1CdXR0b24iLCJjcmVhdGVJdGVtQnV0dG9uIiwiY3VycmVudENvbnRlbnQiLCJzZXRBbHBoYSIsIm5leHRTaG9wIiwibmV4dENvbnRlbnQiLCJpdGVtU3ByaXRlIiwiaGFuZGxlSXRlbVNlbGVjdGlvbiIsImZvdW5kSXRlbSIsIml0ZW1PdXQiLCJza2luUGFnZSIsInNraW5IaXRBcmVhIiwiaGFuZGxlU2VsZWN0U2tpbiIsInNraW4iLCJib3hQYWdlIiwiYm94SGl0QXJlYSIsImhhbmRsZVNlbGVjdEJveCIsImJveCIsInR5cGUiLCJjb250ZW50IiwiZWFzZSIsIm5ld1R5cGUiLCJ1bmxvY2siLCJuZXdNYXJrZXRjYXAiLCJpdGVtTmFtZSIsInN0b3JhZ2VLZXkiLCJjdXJyZW50UHVyY2hhc2VzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRDb2lucyIsImN1cnJlbnRDb2lucyIsImdldEl0ZW0iLCJjb2luTnVtIiwicGFyc2VJbnQiLCJjb2lucyIsImRlc3Ryb3kiLCJvZmYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/classes/Journal.ts\n");

/***/ }),

/***/ "./src/game/classes/ScoreBar.ts":
/*!**************************************!*\
  !*** ./src/game/classes/ScoreBar.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScoreBar: () => (/* binding */ ScoreBar)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n\nclass ScoreBar extends Phaser.GameObjects.Container {\n    constructor(config){\n        super(config.scene, config.x, config.y);\n        this.skin = \"paper\";\n        this.damageState = \"clean\";\n        this.scene.add.existing(this);\n        this.healthBarWidth = 420;\n        this.health = config.health;\n        const kills = parseInt(localStorage.getItem(\"kills\") || \"0\");\n        const coins = parseInt(localStorage.getItem(\"coins\") || \"0\");\n        this.kills = kills;\n        this.coins = coins;\n        this.createHealthBar(config.health);\n        this.createKillCount(kills);\n        this.createCoins(coins);\n        this.setupEventListeners();\n    }\n    createHealthBar(initialHealth) {\n        // Health Bar Fill\n        this.healthBarFill = this.scene.add.rectangle(0, 10, this.healthBarWidth, 20, 0x30cfd0).setOrigin(0.5).setDepth(1).setScrollFactor(0);\n        this.add(this.healthBarFill);\n        // Health Bar Background\n        this.healthBarBackground = this.scene.add.image(0, 10, \"healthbar\").setScale(0.45).setOrigin(0.5).setDepth(4).setScrollFactor(0);\n        this.add(this.healthBarBackground);\n        // Health Bar Marker\n        this.healthBarMarker = this.scene.add.image(200, 8, \"paper-clean\").setScale(0.2).setOrigin(0.5).setDepth(5).setScrollFactor(0);\n        this.add(this.healthBarMarker);\n    }\n    createKillCount(initialKills) {\n        this.killCountText = this.scene.add.text(350, 0, `Kills: ${initialKills}`, {\n            fontFamily: \"Ultra\",\n            fontSize: \"24px\",\n            stroke: \"#000000\",\n            strokeThickness: 4,\n            color: \"#ffffff\"\n        }).setOrigin(0.5).setScrollFactor(0);\n        this.add(this.killCountText);\n    }\n    createCoins(initialCoins) {\n        this.coinsText = this.scene.add.text(525, 0, `${initialCoins}`, {\n            fontFamily: \"Ultra\",\n            fontSize: \"24px\",\n            stroke: \"#000000\",\n            strokeThickness: 4,\n            color: \"#ffffff\"\n        }).setOrigin(0.5).setScrollFactor(0);\n        this.coinImage = this.scene.add.image(455, 0, \"coin\").setOrigin(0.5).setScale(0.07).setScrollFactor(0);\n        this.add([\n            this.coinsText,\n            this.coinImage\n        ]);\n    }\n    setupEventListeners() {\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"health-update\", this.setHealth, this);\n        // Listen to health changes\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"health-changed\", this.updateHealth, this);\n        // Listen to kill count changes\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"kill-count-changed\", this.updateKills, this);\n        // Listen to coins changes\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"coins-changed\", this.updateCoins, this);\n        // Listen to Skin changes\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"skin-equipped\", this.updateSkin, this);\n        // Listen to Damage State changes\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"damage-state-changed\", this.updateDamageState, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"reset-health-bar\", this.resetHealthBar, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"set-coins\", this.setCoins, this);\n    }\n    updateSkin(skin) {\n        this.skin = skin;\n        this.healthBarMarker.setTexture(this.skin + \"-\" + this.damageState);\n    }\n    updateDamageState(damageState) {\n        this.damageState = damageState;\n        this.healthBarMarker.setTexture(this.skin + \"-\" + this.damageState);\n    }\n    updateKills() {\n        this.kills += 1;\n        this.killCountText.setText(`Kills: ${this.kills}`);\n        localStorage.setItem(\"kills\", this.kills.toString());\n    }\n    setHealth(amount) {\n        this.health = amount;\n        const healthPercent = Phaser.Math.Clamp(this.health / 100, 0, 1);\n        this.healthBarFill.width = this.healthBarWidth * healthPercent;\n        this.moveHealthBarMarker(healthPercent);\n    }\n    setCoins(value) {\n        this.coins = value;\n        this.coinsText.setText(`${this.coins}`);\n        localStorage.setItem(\"coins\", this.coins.toString());\n    }\n    moveHealthBarMarker(healthPercent) {\n        // Stop marker movement at 5% health\n        const minHealthPercent = 0.05;\n        if (healthPercent < minHealthPercent) {\n            healthPercent = minHealthPercent;\n        }\n        const newWidth = this.healthBarWidth * healthPercent;\n        const markerX = 200 - (this.healthBarWidth - newWidth); // Start at 200 and move right based on remaining health\n        this.healthBarMarker.setX(markerX);\n    }\n    updateHealth(amount) {\n        // Don't update health if already at 0 (dead and respawning)\n        if (this.health <= 0) {\n            return;\n        }\n        // Prevent health from going negative by clamping the amount\n        const newHealth = Math.max(0, this.health - amount);\n        this.health = Phaser.Math.Clamp(newHealth, 0, 100);\n        const healthPercent = Phaser.Math.Clamp(this.health / 100, 0, 1);\n        this.healthBarFill.width = this.healthBarWidth * healthPercent;\n        this.moveHealthBarMarker(healthPercent);\n    }\n    resetHealthBar() {\n        this.updateKills();\n        this.health = 100;\n        this.healthBarFill.width = this.healthBarWidth;\n        this.moveHealthBarMarker(1);\n        this.damageState = \"clean\";\n        this.healthBarMarker.setTexture(this.skin + \"-\" + this.damageState);\n    }\n    updateCoins(amount = 1) {\n        this.coins = Math.min(this.coins + amount, 99999);\n        this.coinsText.setText(`${this.coins}`);\n        localStorage.setItem(\"coins\", this.coins.toString());\n    }\n    destroy(fromScene) {\n        // Remove event listeners\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.off(\"health-changed\", this.updateHealth, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.off(\"kill-count-changed\", this.updateKills, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.off(\"coins-changed\", this.updateCoins, this);\n        super.destroy(fromScene);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxJQUFJLENBQUNwRCxLQUFLLEdBQUd1QyxRQUFRO1FBQzNDLElBQUksQ0FBQ2YsU0FBUyxDQUFDWSxPQUFPLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ3BDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDRixhQUFhdUMsT0FBTyxDQUFDLFNBQVMsSUFBSSxDQUFDckMsS0FBSyxDQUFDc0MsUUFBUTtJQUNuRDtJQUVPZSxRQUFRQyxTQUFtQixFQUFRO1FBQ3hDLHlCQUF5QjtRQUN6QjFFLCtDQUFRQSxDQUFDMkUsR0FBRyxDQUFDLGtCQUFrQixJQUFJLENBQUMzQixZQUFZLEVBQUUsSUFBSTtRQUN0RGhELCtDQUFRQSxDQUFDMkUsR0FBRyxDQUFDLHNCQUFzQixJQUFJLENBQUMxQixXQUFXLEVBQUUsSUFBSTtRQUN6RGpELCtDQUFRQSxDQUFDMkUsR0FBRyxDQUFDLGlCQUFpQixJQUFJLENBQUN6QixXQUFXLEVBQUUsSUFBSTtRQUVwRCxLQUFLLENBQUN1QixRQUFRQztJQUNoQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9jbGFzc2VzL1Njb3JlQmFyLnRzPzU0MDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tIFwiLi4vRXZlbnRCdXNcIjtcblxuaW50ZXJmYWNlIFNjb3JlQmFyQ29uZmlnIHtcbiAgc2NlbmU6IFBoYXNlci5TY2VuZTtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlYWx0aDogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgU2NvcmVCYXIgZXh0ZW5kcyBQaGFzZXIuR2FtZU9iamVjdHMuQ29udGFpbmVyIHtcbiAgcHJpdmF0ZSBoZWFsdGghOiBudW1iZXI7XG4gIHByaXZhdGUga2lsbHMhOiBudW1iZXI7XG4gIHByaXZhdGUgY29pbnMhOiBudW1iZXI7XG4gIHByaXZhdGUgaGVhbHRoQmFyV2lkdGghOiBudW1iZXI7XG4gIC8vIEhlYWx0aCBCYXIgRWxlbWVudHNcbiAgcHJpdmF0ZSBoZWFsdGhCYXJCYWNrZ3JvdW5kOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gIHByaXZhdGUgaGVhbHRoQmFyRmlsbDogUGhhc2VyLkdhbWVPYmplY3RzLlJlY3RhbmdsZTtcbiAgcHJpdmF0ZSBoZWFsdGhCYXJNYXJrZXI6IFBoYXNlci5HYW1lT2JqZWN0cy5JbWFnZTtcbiAgcHJpdmF0ZSBoZWFsdGhUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcblxuICBwcml2YXRlIHNraW46IHN0cmluZyA9IFwicGFwZXJcIjtcbiAgcHJpdmF0ZSBkYW1hZ2VTdGF0ZTogc3RyaW5nID0gXCJjbGVhblwiO1xuXG4gIC8vIEtpbGwgQ291bnRcbiAgcHJpdmF0ZSBraWxsQ291bnRUZXh0OiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcblxuICAvLyBDb2luc1xuICBwcml2YXRlIGNvaW5zVGV4dDogUGhhc2VyLkdhbWVPYmplY3RzLlRleHQ7XG4gIHByaXZhdGUgY29pbkltYWdlOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG5cbiAgY29uc3RydWN0b3IoY29uZmlnOiBTY29yZUJhckNvbmZpZykge1xuICAgIHN1cGVyKGNvbmZpZy5zY2VuZSwgY29uZmlnLngsIGNvbmZpZy55KTtcbiAgICB0aGlzLnNjZW5lLmFkZC5leGlzdGluZyh0aGlzKTtcbiAgICB0aGlzLmhlYWx0aEJhcldpZHRoID0gNDIwO1xuICAgIHRoaXMuaGVhbHRoID0gY29uZmlnLmhlYWx0aDtcblxuICAgIGNvbnN0IGtpbGxzID0gcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJraWxsc1wiKSB8fCBcIjBcIik7XG4gICAgY29uc3QgY29pbnMgPSBwYXJzZUludChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImNvaW5zXCIpIHx8IFwiMFwiKTtcblxuICAgIHRoaXMua2lsbHMgPSBraWxscztcbiAgICB0aGlzLmNvaW5zID0gY29pbnM7XG4gICAgdGhpcy5jcmVhdGVIZWFsdGhCYXIoY29uZmlnLmhlYWx0aCk7XG4gICAgdGhpcy5jcmVhdGVLaWxsQ291bnQoa2lsbHMpO1xuICAgIHRoaXMuY3JlYXRlQ29pbnMoY29pbnMpO1xuICAgIHRoaXMuc2V0dXBFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVIZWFsdGhCYXIoaW5pdGlhbEhlYWx0aDogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gSGVhbHRoIEJhciBGaWxsXG4gICAgdGhpcy5oZWFsdGhCYXJGaWxsID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5yZWN0YW5nbGUoMCwgMTAsIHRoaXMuaGVhbHRoQmFyV2lkdGgsIDIwLCAweDMwY2ZkMClcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldERlcHRoKDEpXG4gICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApO1xuICAgIHRoaXMuYWRkKHRoaXMuaGVhbHRoQmFyRmlsbCk7XG5cbiAgICAvLyBIZWFsdGggQmFyIEJhY2tncm91bmRcbiAgICB0aGlzLmhlYWx0aEJhckJhY2tncm91bmQgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLmltYWdlKDAsIDEwLCBcImhlYWx0aGJhclwiKVxuICAgICAgLnNldFNjYWxlKDAuNDUpXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgIC5zZXREZXB0aCg0KVxuICAgICAgLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICB0aGlzLmFkZCh0aGlzLmhlYWx0aEJhckJhY2tncm91bmQpO1xuXG4gICAgLy8gSGVhbHRoIEJhciBNYXJrZXJcbiAgICB0aGlzLmhlYWx0aEJhck1hcmtlciA9IHRoaXMuc2NlbmUuYWRkXG4gICAgICAuaW1hZ2UoMjAwLCA4LCBcInBhcGVyLWNsZWFuXCIpXG4gICAgICAuc2V0U2NhbGUoMC4yKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0RGVwdGgoNSlcbiAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgdGhpcy5hZGQodGhpcy5oZWFsdGhCYXJNYXJrZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVLaWxsQ291bnQoaW5pdGlhbEtpbGxzOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmtpbGxDb3VudFRleHQgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLnRleHQoMzUwLCAwLCBgS2lsbHM6ICR7aW5pdGlhbEtpbGxzfWAsIHtcbiAgICAgICAgZm9udEZhbWlseTogXCJVbHRyYVwiLFxuICAgICAgICBmb250U2l6ZTogXCIyNHB4XCIsXG4gICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCIsXG4gICAgICAgIHN0cm9rZVRoaWNrbmVzczogNCxcbiAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgfSlcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjcm9sbEZhY3RvcigwKTtcbiAgICB0aGlzLmFkZCh0aGlzLmtpbGxDb3VudFRleHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDb2lucyhpbml0aWFsQ29pbnM6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29pbnNUZXh0ID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC50ZXh0KDUyNSwgMCwgYCR7aW5pdGlhbENvaW5zfWAsIHtcbiAgICAgICAgZm9udEZhbWlseTogXCJVbHRyYVwiLFxuICAgICAgICBmb250U2l6ZTogXCIyNHB4XCIsXG4gICAgICAgIHN0cm9rZTogXCIjMDAwMDAwXCIsXG4gICAgICAgIHN0cm9rZVRoaWNrbmVzczogNCxcbiAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgfSlcbiAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgLnNldFNjcm9sbEZhY3RvcigwKTtcblxuICAgIHRoaXMuY29pbkltYWdlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5pbWFnZSg0NTUsIDAsIFwiY29pblwiKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0U2NhbGUoMC4wNylcbiAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMCk7XG4gICAgdGhpcy5hZGQoW3RoaXMuY29pbnNUZXh0LCB0aGlzLmNvaW5JbWFnZV0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cEV2ZW50TGlzdGVuZXJzKCk6IHZvaWQge1xuICAgIEV2ZW50QnVzLm9uKFwiaGVhbHRoLXVwZGF0ZVwiLCB0aGlzLnNldEhlYWx0aCwgdGhpcyk7XG4gICAgLy8gTGlzdGVuIHRvIGhlYWx0aCBjaGFuZ2VzXG4gICAgRXZlbnRCdXMub24oXCJoZWFsdGgtY2hhbmdlZFwiLCB0aGlzLnVwZGF0ZUhlYWx0aCwgdGhpcyk7XG4gICAgLy8gTGlzdGVuIHRvIGtpbGwgY291bnQgY2hhbmdlc1xuICAgIEV2ZW50QnVzLm9uKFwia2lsbC1jb3VudC1jaGFuZ2VkXCIsIHRoaXMudXBkYXRlS2lsbHMsIHRoaXMpO1xuICAgIC8vIExpc3RlbiB0byBjb2lucyBjaGFuZ2VzXG4gICAgRXZlbnRCdXMub24oXCJjb2lucy1jaGFuZ2VkXCIsIHRoaXMudXBkYXRlQ29pbnMsIHRoaXMpO1xuICAgIC8vIExpc3RlbiB0byBTa2luIGNoYW5nZXNcbiAgICBFdmVudEJ1cy5vbihcInNraW4tZXF1aXBwZWRcIiwgdGhpcy51cGRhdGVTa2luLCB0aGlzKTtcbiAgICAvLyBMaXN0ZW4gdG8gRGFtYWdlIFN0YXRlIGNoYW5nZXNcbiAgICBFdmVudEJ1cy5vbihcImRhbWFnZS1zdGF0ZS1jaGFuZ2VkXCIsIHRoaXMudXBkYXRlRGFtYWdlU3RhdGUsIHRoaXMpO1xuICAgIEV2ZW50QnVzLm9uKFwicmVzZXQtaGVhbHRoLWJhclwiLCB0aGlzLnJlc2V0SGVhbHRoQmFyLCB0aGlzKTtcbiAgICBFdmVudEJ1cy5vbihcInNldC1jb2luc1wiLCB0aGlzLnNldENvaW5zLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU2tpbihza2luOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNraW4gPSBza2luO1xuICAgIHRoaXMuaGVhbHRoQmFyTWFya2VyLnNldFRleHR1cmUodGhpcy5za2luICsgXCItXCIgKyB0aGlzLmRhbWFnZVN0YXRlKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRGFtYWdlU3RhdGUoZGFtYWdlU3RhdGU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuZGFtYWdlU3RhdGUgPSBkYW1hZ2VTdGF0ZTtcbiAgICB0aGlzLmhlYWx0aEJhck1hcmtlci5zZXRUZXh0dXJlKHRoaXMuc2tpbiArIFwiLVwiICsgdGhpcy5kYW1hZ2VTdGF0ZSk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlS2lsbHMoKTogdm9pZCB7XG4gICAgdGhpcy5raWxscyArPSAxO1xuICAgIHRoaXMua2lsbENvdW50VGV4dC5zZXRUZXh0KGBLaWxsczogJHt0aGlzLmtpbGxzfWApO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwia2lsbHNcIiwgdGhpcy5raWxscy50b1N0cmluZygpKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0SGVhbHRoKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5oZWFsdGggPSBhbW91bnQ7XG4gICAgY29uc3QgaGVhbHRoUGVyY2VudCA9IFBoYXNlci5NYXRoLkNsYW1wKHRoaXMuaGVhbHRoIC8gMTAwLCAwLCAxKTtcbiAgICB0aGlzLmhlYWx0aEJhckZpbGwud2lkdGggPSB0aGlzLmhlYWx0aEJhcldpZHRoICogaGVhbHRoUGVyY2VudDtcbiAgICB0aGlzLm1vdmVIZWFsdGhCYXJNYXJrZXIoaGVhbHRoUGVyY2VudCk7XG4gIH1cblxuICBwcml2YXRlIHNldENvaW5zKHZhbHVlOiBudW1iZXIpIHtcbiAgICB0aGlzLmNvaW5zID0gdmFsdWU7XG4gICAgdGhpcy5jb2luc1RleHQuc2V0VGV4dChgJHt0aGlzLmNvaW5zfWApO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbnNcIiwgdGhpcy5jb2lucy50b1N0cmluZygpKTtcbiAgfVxuXG4gIHByaXZhdGUgbW92ZUhlYWx0aEJhck1hcmtlcihoZWFsdGhQZXJjZW50OiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBTdG9wIG1hcmtlciBtb3ZlbWVudCBhdCA1JSBoZWFsdGhcbiAgICBjb25zdCBtaW5IZWFsdGhQZXJjZW50ID0gMC4wNTtcbiAgICBpZiAoaGVhbHRoUGVyY2VudCA8IG1pbkhlYWx0aFBlcmNlbnQpIHtcbiAgICAgIGhlYWx0aFBlcmNlbnQgPSBtaW5IZWFsdGhQZXJjZW50O1xuICAgIH1cblxuICAgIGNvbnN0IG5ld1dpZHRoID0gdGhpcy5oZWFsdGhCYXJXaWR0aCAqIGhlYWx0aFBlcmNlbnQ7XG4gICAgY29uc3QgbWFya2VyWCA9IDIwMCAtICh0aGlzLmhlYWx0aEJhcldpZHRoIC0gbmV3V2lkdGgpOyAvLyBTdGFydCBhdCAyMDAgYW5kIG1vdmUgcmlnaHQgYmFzZWQgb24gcmVtYWluaW5nIGhlYWx0aFxuICAgIHRoaXMuaGVhbHRoQmFyTWFya2VyLnNldFgobWFya2VyWCk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlSGVhbHRoKGFtb3VudDogbnVtYmVyKTogdm9pZCB7XG4gICAgLy8gRG9uJ3QgdXBkYXRlIGhlYWx0aCBpZiBhbHJlYWR5IGF0IDAgKGRlYWQgYW5kIHJlc3Bhd25pbmcpXG4gICAgaWYgKHRoaXMuaGVhbHRoIDw9IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IGhlYWx0aCBmcm9tIGdvaW5nIG5lZ2F0aXZlIGJ5IGNsYW1waW5nIHRoZSBhbW91bnRcbiAgICBjb25zdCBuZXdIZWFsdGggPSBNYXRoLm1heCgwLCB0aGlzLmhlYWx0aCAtIGFtb3VudCk7XG4gICAgdGhpcy5oZWFsdGggPSBQaGFzZXIuTWF0aC5DbGFtcChuZXdIZWFsdGgsIDAsIDEwMCk7XG5cbiAgICBjb25zdCBoZWFsdGhQZXJjZW50ID0gUGhhc2VyLk1hdGguQ2xhbXAodGhpcy5oZWFsdGggLyAxMDAsIDAsIDEpO1xuICAgIHRoaXMuaGVhbHRoQmFyRmlsbC53aWR0aCA9IHRoaXMuaGVhbHRoQmFyV2lkdGggKiBoZWFsdGhQZXJjZW50O1xuICAgIHRoaXMubW92ZUhlYWx0aEJhck1hcmtlcihoZWFsdGhQZXJjZW50KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzZXRIZWFsdGhCYXIoKTogdm9pZCB7XG4gICAgdGhpcy51cGRhdGVLaWxscygpO1xuICAgIHRoaXMuaGVhbHRoID0gMTAwO1xuICAgIHRoaXMuaGVhbHRoQmFyRmlsbC53aWR0aCA9IHRoaXMuaGVhbHRoQmFyV2lkdGg7XG4gICAgdGhpcy5tb3ZlSGVhbHRoQmFyTWFya2VyKDEpO1xuICAgIHRoaXMuZGFtYWdlU3RhdGUgPSBcImNsZWFuXCI7XG4gICAgdGhpcy5oZWFsdGhCYXJNYXJrZXIuc2V0VGV4dHVyZSh0aGlzLnNraW4gKyBcIi1cIiArIHRoaXMuZGFtYWdlU3RhdGUpO1xuICB9XG5cbiAgcHVibGljIHVwZGF0ZUNvaW5zKGFtb3VudDogbnVtYmVyID0gMSk6IHZvaWQge1xuICAgIHRoaXMuY29pbnMgPSBNYXRoLm1pbih0aGlzLmNvaW5zICsgYW1vdW50LCA5OTk5OSk7XG4gICAgdGhpcy5jb2luc1RleHQuc2V0VGV4dChgJHt0aGlzLmNvaW5zfWApO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY29pbnNcIiwgdGhpcy5jb2lucy50b1N0cmluZygpKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KGZyb21TY2VuZT86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzXG4gICAgRXZlbnRCdXMub2ZmKFwiaGVhbHRoLWNoYW5nZWRcIiwgdGhpcy51cGRhdGVIZWFsdGgsIHRoaXMpO1xuICAgIEV2ZW50QnVzLm9mZihcImtpbGwtY291bnQtY2hhbmdlZFwiLCB0aGlzLnVwZGF0ZUtpbGxzLCB0aGlzKTtcbiAgICBFdmVudEJ1cy5vZmYoXCJjb2lucy1jaGFuZ2VkXCIsIHRoaXMudXBkYXRlQ29pbnMsIHRoaXMpO1xuXG4gICAgc3VwZXIuZGVzdHJveShmcm9tU2NlbmUpO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJFdmVudEJ1cyIsIlNjb3JlQmFyIiwiUGhhc2VyIiwiR2FtZU9iamVjdHMiLCJDb250YWluZXIiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsInNjZW5lIiwieCIsInkiLCJza2luIiwiZGFtYWdlU3RhdGUiLCJhZGQiLCJleGlzdGluZyIsImhlYWx0aEJhcldpZHRoIiwiaGVhbHRoIiwia2lsbHMiLCJwYXJzZUludCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjb2lucyIsImNyZWF0ZUhlYWx0aEJhciIsImNyZWF0ZUtpbGxDb3VudCIsImNyZWF0ZUNvaW5zIiwic2V0dXBFdmVudExpc3RlbmVycyIsImluaXRpYWxIZWFsdGgiLCJoZWFsdGhCYXJGaWxsIiwicmVjdGFuZ2xlIiwic2V0T3JpZ2luIiwic2V0RGVwdGgiLCJzZXRTY3JvbGxGYWN0b3IiLCJoZWFsdGhCYXJCYWNrZ3JvdW5kIiwiaW1hZ2UiLCJzZXRTY2FsZSIsImhlYWx0aEJhck1hcmtlciIsImluaXRpYWxLaWxscyIsImtpbGxDb3VudFRleHQiLCJ0ZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwiY29sb3IiLCJpbml0aWFsQ29pbnMiLCJjb2luc1RleHQiLCJjb2luSW1hZ2UiLCJvbiIsInNldEhlYWx0aCIsInVwZGF0ZUhlYWx0aCIsInVwZGF0ZUtpbGxzIiwidXBkYXRlQ29pbnMiLCJ1cGRhdGVTa2luIiwidXBkYXRlRGFtYWdlU3RhdGUiLCJyZXNldEhlYWx0aEJhciIsInNldENvaW5zIiwic2V0VGV4dHVyZSIsInNldFRleHQiLCJzZXRJdGVtIiwidG9TdHJpbmciLCJhbW91bnQiLCJoZWFsdGhQZXJjZW50IiwiTWF0aCIsIkNsYW1wIiwid2lkdGgiLCJtb3ZlSGVhbHRoQmFyTWFya2VyIiwidmFsdWUiLCJtaW5IZWFsdGhQZXJjZW50IiwibmV3V2lkdGgiLCJtYXJrZXJYIiwic2V0WCIsIm5ld0hlYWx0aCIsIm1heCIsIm1pbiIsImRlc3Ryb3kiLCJmcm9tU2NlbmUiLCJvZmYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/classes/ScoreBar.ts\n");

/***/ }),

/***/ "./src/game/classes/Weapon.ts":
/*!************************************!*\
  !*** ./src/game/classes/Weapon.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Weapon: () => (/* binding */ Weapon)\n/* harmony export */ });\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _InputState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./InputState */ \"./src/game/classes/InputState.ts\");\n\n\n//TODO: Make sure to remove the joints for sticky bombs working on it\n//TODO: lightsaber, chainsaw, sitckybomb, katana, dynamite\nclass Weapon {\n    static{\n        this.TRIGGER_DELAY = 100 // 100ms hold requirement before firing\n        ;\n    }\n    static{\n        // Add to class properties\n        this.FLAMETHROWER_CONFIG = {\n            damagePerTick: 0.5,\n            damageInterval: 100,\n            range: 250\n        };\n    }\n    static{\n        this.WEAPON_CONFIGS = {\n            knife: {\n                texture: \"knife\",\n                width: 120,\n                height: 80,\n                name: \"knife\",\n                fireSound: [\n                    \"throwknife-fire\"\n                ],\n                impactSound: [\n                    \"throwknife-impact\"\n                ],\n                fireRate: 500,\n                burstSize: 1,\n                damage: 0.8,\n                isThrowable: true,\n                specialCase: false,\n                projectileSpeed: 40,\n                projectileDisplaySize: {\n                    width: 120,\n                    height: 80\n                },\n                projectileTexture: \"knife\"\n            },\n            deagle: {\n                texture: \"deaglefiring_00018\",\n                width: 200,\n                height: 100,\n                name: \"deagle\",\n                fireRate: 500,\n                burstSize: 1,\n                fireSound: [\n                    \"deagle-fire\",\n                    \"deagle-cock\"\n                ],\n                animationKey: \"deagleFire\",\n                damage: 1,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 75,\n                projectileScale: {\n                    x: 0.06,\n                    y: 0.1\n                },\n                projectileTexture: \"deagle-bullet\"\n            },\n            grenade: {\n                texture: \"grenade\",\n                width: 100,\n                height: 80,\n                name: \"grenade\",\n                fireRate: 1000,\n                burstSize: 1,\n                fireSound: [\n                    \"grenade-fire\"\n                ],\n                damage: 2,\n                isThrowable: true,\n                specialCase: false,\n                projectileSpeed: 25,\n                projectileDisplaySize: {\n                    width: 100,\n                    height: 80\n                },\n                projectileTexture: \"grenade\",\n                projectileConfig: {\n                    shape: {\n                        type: \"circle\",\n                        radius: 15\n                    },\n                    angularVelocity: 0.2,\n                    label: \"grenade\"\n                }\n            },\n            tommy: {\n                texture: \"tommy\",\n                width: 300,\n                height: 150,\n                name: \"tommy\",\n                fireRate: 60,\n                burstSize: 4,\n                burstDelay: 400,\n                fireSound: [\n                    \"tommy-fire\"\n                ],\n                animationKey: \"tommyFire\",\n                damage: 0.8,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 50,\n                projectileScale: {\n                    x: 0.04,\n                    y: 0.08\n                },\n                projectileTexture: \"tommy-bullet\"\n            },\n            \"sticky-bomb\": {\n                texture: \"sticky-bomb\",\n                width: 200,\n                height: 100,\n                name: \"sticky-bomb\",\n                fireRate: 1000,\n                burstSize: 1,\n                fireSound: [\n                    \"throwknife-fire\"\n                ],\n                impactSound: [\n                    \"sticky-bomb-impact\"\n                ],\n                damage: 3,\n                isThrowable: true,\n                specialCase: false,\n                projectileSpeed: 25,\n                projectileDisplaySize: {\n                    width: 200,\n                    height: 100\n                },\n                projectileTexture: \"sticky-bomb\",\n                projectileConfig: {\n                    shape: {\n                        type: \"circle\",\n                        radius: 15\n                    },\n                    angularVelocity: 0.2,\n                    label: \"sticky-bomb\"\n                }\n            },\n            chainsaw: {\n                texture: \"chainsaw\",\n                width: 300,\n                height: 150,\n                name: \"chainsaw\",\n                fireRate: 100,\n                burstSize: 1,\n                fireSound: [\n                    \"chainsaw-fire\"\n                ],\n                animationKey: \"chainsawFire\",\n                damage: 0.3,\n                isThrowable: false,\n                specialCase: true\n            },\n            rpg: {\n                texture: \"rpg\",\n                width: 350,\n                height: 200,\n                name: \"rpg\",\n                fireRate: 1000,\n                burstSize: 1,\n                fireSound: [\n                    \"rpg-fire\"\n                ],\n                animationKey: \"rpgFire\",\n                damage: 3,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 50,\n                projectileScale: {\n                    x: 0.25,\n                    y: 0.25\n                },\n                projectileTexture: \"rpg-bullet\"\n            },\n            mg: {\n                texture: \"mg\",\n                width: 350,\n                height: 200,\n                name: \"mg\",\n                fireRate: 100,\n                burstSize: 1,\n                fireSound: [\n                    \"mg-fire\"\n                ],\n                animationKey: \"mgFire\",\n                damage: 0.5,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 50,\n                projectileScale: {\n                    x: 0.08,\n                    y: 0.08\n                },\n                projectileTexture: \"mg-bullet\"\n            },\n            \"fire-bomb\": {\n                texture: \"fire-bomb\",\n                width: 170,\n                height: 70,\n                name: \"fire-bomb\",\n                fireRate: 1000,\n                burstSize: 1,\n                fireSound: [\n                    \"fire-bomb-fire\"\n                ],\n                impactSound: [\n                    \"fire-bomb-impact\"\n                ],\n                damage: 2,\n                isThrowable: true,\n                specialCase: false,\n                projectileSpeed: 25,\n                projectileDisplaySize: {\n                    width: 170,\n                    height: 70\n                },\n                projectileTexture: \"fire-bomb\",\n                projectileConfig: {\n                    shape: {\n                        type: \"circle\",\n                        radius: 15\n                    },\n                    angularVelocity: 0.2,\n                    label: \"fire-bomb\"\n                }\n            },\n            lightsaber: {\n                texture: \"lightsaber-unlit\",\n                width: 300,\n                height: 150,\n                name: \"lightsaber\",\n                fireRate: 1000,\n                burstSize: 1,\n                damage: 0.5,\n                isThrowable: false,\n                specialCase: true\n            },\n            railgun: {\n                texture: \"railgun\",\n                width: 300,\n                height: 150,\n                name: \"railgun\",\n                fireRate: 1000,\n                burstSize: 1,\n                damage: 4,\n                isThrowable: false,\n                specialCase: true\n            },\n            raygun: {\n                texture: \"raygun\",\n                width: 200,\n                height: 100,\n                name: \"raygun\",\n                fireRate: 200,\n                burstSize: 1,\n                fireSound: [\n                    \"raygun-fire\"\n                ],\n                impactSound: [\n                    \"raygun-impact\"\n                ],\n                animationKey: \"raygunFire\",\n                damage: 2,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 50,\n                projectileScale: {\n                    x: 0.7,\n                    y: 0.7\n                },\n                projectileTexture: \"raygun-bullet\"\n            },\n            dynamite: {\n                texture: \"dynamite\",\n                width: 80,\n                height: 120,\n                name: \"dynamite\",\n                fireRate: 1000,\n                burstSize: 1,\n                fireSound: [\n                    \"dynamite-fuze\",\n                    \"dynamite-flick\"\n                ],\n                animationKey: \"dynamiteFire\",\n                damage: 2,\n                isThrowable: true,\n                specialCase: false,\n                projectileSpeed: 25,\n                projectileDisplaySize: {\n                    width: 80,\n                    height: 120\n                },\n                projectileTexture: \"dynamite\",\n                projectileConfig: {\n                    shape: {\n                        type: \"circle\",\n                        radius: 15\n                    },\n                    angularVelocity: 0.2,\n                    label: \"dynamite\"\n                }\n            },\n            katana: {\n                texture: \"katana\",\n                width: 300,\n                height: 150,\n                name: \"katana\",\n                fireRate: 500,\n                burstSize: 1,\n                damage: 1,\n                isThrowable: true,\n                specialCase: true,\n                projectileSpeed: 40,\n                projectileDisplaySize: {\n                    width: 300,\n                    height: 150\n                },\n                projectileTexture: \"katana\"\n            },\n            kar98: {\n                texture: \"kar98\",\n                width: 350,\n                height: 175,\n                name: \"kar98\",\n                animationKey: \"kar98Fire\",\n                fireSound: [\n                    \"kar98-fire\",\n                    \"kar98-cock\"\n                ],\n                fireRate: 1000,\n                burstSize: 1,\n                damage: 2,\n                isThrowable: false,\n                specialCase: false,\n                projectileSpeed: 50,\n                projectileScale: {\n                    x: 0.05,\n                    y: 0.05\n                },\n                projectileTexture: \"deagle-bullet\"\n            },\n            flamethrower: {\n                texture: \"flamethrower\",\n                width: 700,\n                height: 350,\n                name: \"flamethrower\",\n                fireRate: 1000,\n                burstSize: 1,\n                animationKey: \"flamethrowerFire\",\n                damage: 0.5,\n                isThrowable: false,\n                specialCase: true\n            }\n        };\n    }\n    static{\n        this.CHAINSAW_CONFIG = {\n            damagePerTick: 1.5,\n            damageInterval: 100,\n            range: 150\n        };\n    }\n    static{\n        // Add lightsaber config similar to chainsaw and flamethrower\n        this.LIGHTSABER_CONFIG = {\n            damagePerTick: 5,\n            damageInterval: 100,\n            range: 200,\n            swingDelay: 300\n        };\n    }\n    constructor(scene, character, effects){\n        this.flipX = false;\n        this.flipY = false;\n        this.isOvercharged = false;\n        this.stickyBombNumber = 0;\n        this.isCharging = false;\n        this.lastFlameDamageTime = 0;\n        this.RAILGUN_CONFIG = {\n            minChargeTime: 500,\n            maxChargeTime: 3000,\n            overchargeDelay: 1000,\n            holdSound: \"railgun-hold\",\n            chargeSound: \"railgun-charge\",\n            fireSound: \"railgun-fire2\",\n            overchargeSound: \"railgun-explode\"\n        };\n        this.lastDamageTime = 0;\n        // Add to class properties\n        this.isLightsaberOpen = false;\n        this.updateRailgunCharge = ()=>{\n            if (!this.chargeStartTime || this.isOvercharged) return;\n            const currentTime = this.scene.time.now;\n            const chargeTime = currentTime - this.chargeStartTime;\n            // Visual feedback based on charge\n            this.updateChargeEffect(chargeTime);\n            // Check for overcharge\n            if (chargeTime >= this.RAILGUN_CONFIG.maxChargeTime) {\n                this.railgunOvercharge();\n            }\n        };\n        this.scene = scene;\n        this.character = character;\n        this.effects = effects;\n        this.inputState = _InputState__WEBPACK_IMPORTED_MODULE_1__.InputState.getInstance();\n        this.barrelPoint = new Phaser.Math.Vector2(0, 0);\n        this.setupEventListeners();\n    }\n    setupEventListeners() {\n        // Add any event listeners needed\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"set-weapon\", this.setWeapon, this);\n        _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.on(\"stop-firing\", this.stopFiring, this);\n    }\n    getCurrentWeaponConfig() {\n        return this.weapon ? Weapon.WEAPON_CONFIGS[this.weapon] : undefined;\n    }\n    setWeapon(weapon) {\n        // Remove and destroy current weapon\n        if (this.currentWeapon) {\n            this.currentWeapon.destroy();\n            this.currentWeapon = undefined;\n        }\n        if (!weapon) {\n            this.weapon = undefined;\n            return;\n        }\n        const config = Weapon.WEAPON_CONFIGS[weapon];\n        if (!config) return;\n        this.weapon = weapon;\n        this.currentWeapon = this.scene.add.sprite(0, 0, config.texture).setDisplaySize(config.width, config.height).setName(config.name).removeFromDisplayList();\n    }\n    railgunOvercharge() {\n        if (this.isOvercharged) return;\n        this.isOvercharged = true;\n        this.scene.sound.stopByKey(this.RAILGUN_CONFIG.holdSound);\n        // Play overcharge effects\n        this.scene.sound.play(this.RAILGUN_CONFIG.overchargeSound);\n        this.effects.playEffect(\"explosion1\", this.barrelPoint.x, this.barrelPoint.y);\n        this.currentWeapon?.stop();\n        // Hide the weapon\n        if (this.currentWeapon?.getDisplayList()) {\n            this.currentWeapon.removeFromDisplayList();\n        }\n        // Reset everything after delay\n        this.scene.time.delayedCall(this.RAILGUN_CONFIG.overchargeDelay, ()=>{\n            this.isOvercharged = false;\n            this.isCharging = false;\n            this.chargeStartTime = undefined;\n            if (this.firingTimer) {\n                this.firingTimer.destroy();\n                this.firingTimer = undefined;\n            }\n        });\n    }\n    updateChargeEffect(chargeTime) {\n        // Calculate charge percentage from 0 to 1 over 3 seconds\n        const chargePercent = Math.min(chargeTime / 3000, 1);\n        // Update visual effects based on charge percentage\n        if (this.currentWeapon) {\n            // Start with white (no tint)\n            if (chargePercent === 0) {\n                this.currentWeapon.setTint(0xffffff);\n            } else {\n                const intensity = Math.floor(255 * (1 - chargePercent));\n                this.currentWeapon.setTint(Phaser.Display.Color.GetColor(255, intensity, intensity));\n            }\n        }\n    }\n    startRailgunCharge() {\n        this.isCharging = true;\n        this.chargeStartTime = this.scene.time.now;\n        // Play charging sound\n        this.scene.sound.play(this.RAILGUN_CONFIG.chargeSound);\n        // Play charge animation\n        this.currentWeapon?.play(\"railgunCharge\");\n        this.currentWeapon?.on(\"animationcomplete\", ()=>{\n            this.currentWeapon?.play(\"railgunHold\");\n            this.scene.sound.play(this.RAILGUN_CONFIG.holdSound, {\n                volume: 0.5\n            });\n        // this.scene.sound.stopByKey(this.RAILGUN_CONFIG.chargeSound);\n        });\n        // Start the charge timer\n        this.firingTimer = this.scene.time.addEvent({\n            delay: 16,\n            callback: this.updateRailgunCharge,\n            callbackScope: this,\n            loop: true\n        });\n    }\n    fireRailgun(chargeTime) {\n        // Calculate damage multiplier based on charge time\n        const chargePercent = Math.min((chargeTime - this.RAILGUN_CONFIG.minChargeTime) / (this.RAILGUN_CONFIG.maxChargeTime - this.RAILGUN_CONFIG.minChargeTime), 1);\n        const config = this.getCurrentWeaponConfig();\n        if (!config) return;\n        // Play fire animation and sound\n        this.currentWeapon?.play(\"railgunFire\");\n        this.scene.sound.stopByKey(this.RAILGUN_CONFIG.holdSound);\n        this.scene.sound.play(this.RAILGUN_CONFIG.fireSound);\n        // Spawn projectile with increased damage based on charge\n        // You'll need to modify your projectile spawning to handle the damage multiplier\n        const baseDamage = config.damage;\n        const chargedDamage = baseDamage * (1 + chargePercent);\n        // TODO: Modify your projectile spawning to use chargedDamage\n        this.spawnProjectile(config, chargedDamage);\n        // Hide the weapon after firing\n        if (this.currentWeapon?.getDisplayList()) {\n            this.currentWeapon.removeFromDisplayList();\n        }\n    }\n    updateFlameDamage() {\n        // Return early if input is locked\n        if (this.inputState.isLocked) {\n            this.scene.sound.stopByKey(\"flamethrower-fire\");\n            if (this.firingTimer) {\n                this.firingTimer.destroy();\n                this.firingTimer = undefined;\n            }\n            return;\n        }\n        const currentTime = this.scene.time.now;\n        // Check if enough time has passed since last damage\n        if (currentTime - this.lastFlameDamageTime < Weapon.FLAMETHROWER_CONFIG.damageInterval) {\n            return;\n        }\n        const characterPos = this.character.getPosition();\n        if (!this.currentWeapon) return;\n        // Calculate distance between flame tip and character\n        const distance = Phaser.Math.Distance.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n        // Only apply damage if within range\n        if (distance <= Weapon.FLAMETHROWER_CONFIG.range) {\n            // Apply damage\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", Weapon.FLAMETHROWER_CONFIG.damagePerTick);\n            // Visual effects\n            this.randomBloodEffect(characterPos);\n            this.randomFireEffect(characterPos);\n            // Spawn coins\n            for(let i = 0; i < 3; i++){\n                this.effects.spawnCoin(characterPos.x, characterPos.y);\n            }\n            this.lastFlameDamageTime = currentTime;\n        }\n        // Optional: Debug visualization of range\n        if (this.debugGraphics) {\n            this.debugGraphics.clear();\n            this.debugGraphics.lineStyle(2, 0xff0000, 0.5);\n            this.debugGraphics.strokeCircle(this.barrelPoint.x, this.barrelPoint.y, Weapon.FLAMETHROWER_CONFIG.range);\n        }\n    }\n    startFiring() {\n        if (this.inputState.isLocked || this.isOvercharged) return;\n        const config = this.getCurrentWeaponConfig();\n        if (!config || !this.weapon) return;\n        // Start tracking trigger hold time\n        this.triggerHoldStartTime = this.scene.time.now;\n        // Show current weapon if it exists but isn't displayed\n        if (this.currentWeapon && !this.currentWeapon.getDisplayList()) {\n            this.currentWeapon.addToDisplayList();\n        }\n        switch(this.weapon){\n            case \"railgun\":\n                if (!this.isCharging) {\n                    this.startRailgunCharge();\n                }\n                break;\n            case \"lightsaber\":\n                if (!this.isLightsaberOpen) {\n                    this.isLightsaberOpen = true;\n                    this.currentWeapon?.play(\"lightsaberOpen\");\n                    this.scene.sound.play(\"lightsaber-ignite\");\n                    this.scene.sound.play(\"lightsaber-active\", {\n                        loop: true\n                    });\n                    // Start swinging after opening animation\n                    this.scene.time.delayedCall(Weapon.LIGHTSABER_CONFIG.swingDelay, ()=>{\n                        this.startLightsaberSwing();\n                    });\n                }\n                break;\n            case \"chainsaw\":\n                if (!this.firingTimer && !this.inputState.isLocked) {\n                    this.currentWeapon?.play(\"chainsawFire\");\n                    this.scene.sound.play(\"chainsaw-fire\", {\n                        loop: true\n                    });\n                    // Start checking for chainsaw damage\n                    this.firingTimer = this.scene.time.addEvent({\n                        delay: 100,\n                        callback: this.updateChainsawDamage,\n                        callbackScope: this,\n                        loop: true\n                    });\n                }\n                break;\n            case \"flamethrower\":\n                // Only start the flamethrower if input is not locked\n                if (!this.firingTimer && !this.inputState.isLocked) {\n                    this.currentWeapon?.play(\"flamethrowerFire\");\n                    this.scene.sound.play(\"flamethrower-fire\", {\n                        loop: true\n                    });\n                    // Start checking for flame damage\n                    this.firingTimer = this.scene.time.addEvent({\n                        delay: 100,\n                        callback: this.updateFlameDamage,\n                        callbackScope: this,\n                        loop: true\n                    });\n                }\n                break;\n            case \"katana\":\n                this.scene.sound.play(\"katana-pullout\");\n            // Intentionally fall through to default case\n            default:\n                {\n                    // Clear any existing firing timer\n                    if (this.firingTimer) {\n                        this.firingTimer.destroy();\n                        this.firingTimer = undefined;\n                    }\n                    switch(this.weapon){\n                        case \"tommy\":\n                            if (config.fireSound) {\n                                config.fireSound.forEach((sound)=>{\n                                    this.scene.sound.play(sound, {\n                                        volume: 0.5,\n                                        loop: true\n                                    });\n                                });\n                            }\n                            break;\n                        case \"mg\":\n                            if (config.fireSound) {\n                                config.fireSound.forEach((sound)=>{\n                                    this.scene.sound.play(sound, {\n                                        volume: 0.5,\n                                        loop: true\n                                    });\n                                });\n                            }\n                            break;\n                        default:\n                            break;\n                    }\n                    let lastFired = 0;\n                    let burstCount = 0;\n                    let canFire = true;\n                    const attemptFire = ()=>{\n                        const currentTime = this.scene.time.now;\n                        // Check if trigger has been held long enough\n                        if (!this.triggerHoldStartTime || currentTime - this.triggerHoldStartTime < Weapon.TRIGGER_DELAY) {\n                            return;\n                        }\n                        if (!this.scene.input.activePointer.isDown) {\n                            canFire = true;\n                            burstCount = 0;\n                            return;\n                        }\n                        // Only fire if enough time has passed and we can fire\n                        if (currentTime - lastFired >= config.fireRate && canFire) {\n                            this.fireWeapon(config);\n                            lastFired = currentTime;\n                            if (config.burstSize > 1) {\n                                burstCount++;\n                                if (burstCount >= config.burstSize) {\n                                    canFire = false;\n                                    burstCount = 0;\n                                    this.scene.time.delayedCall(config.burstDelay || 300, ()=>{\n                                        canFire = true;\n                                    });\n                                }\n                            }\n                        }\n                    };\n                    this.firingTimer = this.scene.time.addEvent({\n                        delay: 16,\n                        callback: attemptFire,\n                        loop: true\n                    });\n                    break;\n                }\n        }\n    }\n    stopFiring() {\n        if (this.weapon === \"flamethrower\") {\n            this.currentWeapon?.stop();\n            this.scene.sound.stopByKey(\"flamethrower-fire\");\n        }\n        if (this.firingTimer) {\n            this.firingTimer.destroy();\n            this.firingTimer = undefined;\n        }\n        // Don't allow stopping firing during overcharge\n        if (this.isOvercharged) return;\n        switch(this.weapon){\n            case \"lightsaber\":\n                if (this.isLightsaberOpen) {\n                    this.currentWeapon?.play(\"lightsaberClose\");\n                    this.scene.sound.play(\"lightsaber-close\");\n                    this.scene.sound.stopByKey(\"lightsaber-active\");\n                    // Clean up lightsaber state\n                    if (this.lightsaberSwingTimer) {\n                        this.lightsaberSwingTimer.destroy();\n                        this.lightsaberSwingTimer = undefined;\n                    }\n                    // Hide weapon after close animation completes\n                    this.scene.time.delayedCall(500, ()=>{\n                        this.isLightsaberOpen = false;\n                        if (this.currentWeapon?.getDisplayList()) {\n                            this.currentWeapon.removeFromDisplayList();\n                        }\n                    });\n                }\n                break;\n            case \"railgun\":\n                if (this.isCharging && this.chargeStartTime) {\n                    const chargeTime = this.scene.time.now - this.chargeStartTime;\n                    // Only fire if within valid charge window\n                    if (chargeTime >= this.RAILGUN_CONFIG.minChargeTime && chargeTime < this.RAILGUN_CONFIG.maxChargeTime) {\n                        this.fireRailgun(chargeTime);\n                    }\n                    // Reset charging state\n                    this.scene.sound.stopByKey(this.RAILGUN_CONFIG.chargeSound);\n                    this.currentWeapon?.setTint(0xffffff);\n                    this.isCharging = false;\n                    this.chargeStartTime = undefined;\n                    if (this.currentWeapon && this.currentWeapon.getDisplayList()) {\n                        this.currentWeapon.removeFromDisplayList();\n                    }\n                }\n                break;\n            default:\n                if (this.currentWeapon && this.currentWeapon.getDisplayList()) {\n                    this.currentWeapon.removeFromDisplayList();\n                }\n                const config = this.getCurrentWeaponConfig();\n                if (config) {\n                    config.fireSound?.forEach((sound)=>{\n                        this.scene.sound.stopByKey(sound);\n                    });\n                }\n                break;\n        }\n        return;\n    }\n    debugDrawFlameArea() {\n        if (!this.currentWeapon) return;\n        // Get or create debug graphics\n        if (!this.debugGraphics) {\n            this.debugGraphics = this.scene.add.graphics();\n        }\n        // Clear previous frame\n        this.debugGraphics.clear();\n        // Draw flame area\n        this.debugGraphics.lineStyle(2, 0xff0000, 1);\n        this.debugGraphics.strokeCircle(this.barrelPoint.x, this.barrelPoint.y, Weapon.FLAMETHROWER_CONFIG.range);\n        // Optionally draw barrel point\n        this.debugGraphics.fillStyle(0x00ff00, 1);\n        this.debugGraphics.fillCircle(this.barrelPoint.x, this.barrelPoint.y, 5);\n    }\n    fireWeapon(config) {\n        if (config.specialCase) {\n            switch(config.name){\n                case \"chainsaw\":\n                    this.scene.sound.play(\"chainsaw-fire\");\n                    this.currentWeapon?.play(\"chainsawFire\");\n                    break;\n                case \"lightsaber\":\n                    this.scene.sound.play(\"lightsaber-ignite\");\n                    this.scene.sound.play(\"lightsaber-active\");\n                    this.currentWeapon?.play(\"lightsaberOpen\");\n                    break;\n                case \"katana\":\n                    this.scene.sound.play(\"katana-slash\");\n                    this.spawnProjectile(config);\n                    break;\n                case \"flamethrower\":\n                    this.currentWeapon?.play(\"flamethrowerFire\");\n                    break;\n                case \"railgun\":\n                    this.currentWeapon?.play(\"railgunFire\");\n                    break;\n                default:\n                    return;\n            }\n        } else {\n            switch(this.weapon){\n                case \"tommy\":\n                    break;\n                case \"mg\":\n                    break;\n                default:\n                    if (config.fireSound) {\n                        config.fireSound.forEach((sound)=>{\n                            this.scene.sound.play(sound, {\n                                volume: 0.5\n                            });\n                        });\n                    }\n            }\n            if (config.animationKey) {\n                this.currentWeapon?.play(config.animationKey);\n            }\n            this.spawnProjectile(config);\n        }\n    }\n    spawnProjectile(config, chargedDamage) {\n        let hasCollided = false;\n        const characterPos = this.character.getPosition();\n        // Calculate angle between start and target points\n        const angle = Phaser.Math.Angle.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n        // Add railgun case\n        if (this.weapon === \"railgun\") {\n            // Calculate the distance between barrel and target\n            const distance = Phaser.Math.Distance.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n            // Create the laser beam\n            const laser = this.scene.add.rectangle(this.barrelPoint.x, this.barrelPoint.y, distance, 4, 0xff0000, 1);\n            // Set the origin to left center for proper rotation\n            laser.setOrigin(0, 0.5);\n            // Rotate the laser to point at the target\n            laser.setRotation(angle);\n            // Add glow effect\n            laser.setPostPipeline(\"GlowPostFX\");\n            this.randomExplosionEffect(characterPos);\n            this.randomBloodEffect(characterPos);\n            // Apply damage\n            const damage = chargedDamage || this.getCurrentWeaponConfig()?.damage || 0.05;\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", damage);\n            // Fade out and destroy the laser\n            this.scene.tweens.add({\n                targets: laser,\n                alpha: 0,\n                duration: 100,\n                ease: \"Power2\",\n                onComplete: ()=>{\n                    laser.destroy();\n                }\n            });\n            // Spawn coins at character position\n            for(let i = 0; i < 5; i++){\n                this.effects.spawnCoin(characterPos.x, characterPos.y);\n            }\n            return;\n        }\n        const speed = config.projectileSpeed || 50;\n        const projectileConfig = {\n            friction: 0,\n            frictionStatic: 0,\n            frictionAir: 0.005,\n            restitution: 0.3,\n            angle: angle + Math.PI,\n            density: 0.001,\n            ignorePointer: true,\n            ...config.projectileConfig\n        };\n        const distance = Phaser.Math.Distance.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n        const throwForce = Math.min(distance * 0.02, 25);\n        const projectile = this.scene.add.image(this.barrelPoint.x, this.barrelPoint.y, config.projectileTexture ?? \"\").setName(this.weapon ?? \"\").setFlipY(this.flipY);\n        if (config.projectileDisplaySize) {\n            projectile.setDisplaySize(config.projectileDisplaySize.width, config.projectileDisplaySize.height);\n        } else {\n            projectile.setScale(config.projectileScale?.x ?? 1, config.projectileScale?.y ?? 1);\n        }\n        // let projectileConfig = {\n        //   friction: 0,\n        //   frictionStatic: 0,\n        //   frictionAir: 0.005, // Add air friction for arcing motion\n        //   restitution: 0.3, // Reduce bounce\n        //   angle: angle + Math.PI,\n        //   density: 0.001, // Light enough to arc\n        //   ignorePointer: true,\n        // };\n        // switch (this.weapon) {\n        //   case \"deagle\":\n        //     speed = 75;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"deagle-bullet\")\n        //       .setScale(0.06, 0.1);\n        //     break;\n        //   case \"tommy\":\n        //     speed = 50;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"tommy-bullet\")\n        //       .setScale(0.04, 0.08);\n        //     break;\n        //   case \"rpg\":\n        //     speed = 50;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"rpg-bullet\")\n        //       .setScale(0.1, 0.1);\n        //     break;\n        //   case \"knife\":\n        //     speed = 40;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"knife\")\n        //       .setScale(0.08, 0.08);\n        //     break;\n        //   case \"raygun\":\n        //     speed = 50;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"raygun-bullet\")\n        //       .setScale(1, 1);\n        //     break;\n        //   case \"mg\":\n        //     speed = 50;\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, \"mg-bullet\")\n        //       .setScale(0.08, 0.08);\n        //     break;\n        //   case \"grenade\":\n        //   case \"sticky-bomb\":\n        //   case \"fire-bomb\":\n        //     projectile = this.scene.add\n        //       .image(this.barrelPoint.x, this.barrelPoint.y, this.weapon)\n        //       .setScale(0.15)\n        //       .setName(this.weapon);\n        //     // Add rotation to the throwable\n        //     projectileConfig = {\n        //       ...projectileConfig,\n        //       //@ts-ignore\n        // shape: { type: \"circle\", radius: 15 },\n        // angularVelocity: 0.2, // Increased rotation speed\n        // label: this.weapon, // Used to identify projectile type in collision\n        //     };\n        //     // Calculate throw force based on distance to target with increased force\n        //     const distance = Phaser.Math.Distance.Between(\n        //       this.barrelPoint.x,\n        //       this.barrelPoint.y,\n        //       characterPos.x,\n        //       characterPos.y\n        //     );\n        //     throwForce = Math.min(distance * 0.02, 25); // Slightly reduced multiplier and max force\n        //     break;\n        //   default:\n        //     return;\n        // }\n        if (this.weapon === \"grenade\" || this.weapon === \"sticky-bomb\" || this.weapon === \"fire-bomb\" || this.weapon === \"dynamite\") {\n            console.log(\"spawn projectile bomb\");\n            const matterBomb = this.scene.matter.add.gameObject(projectile, {\n                ...projectileConfig,\n                ignorePointer: true,\n                onCollideCallback: (collision)=>{\n                    if (hasCollided) return;\n                    hasCollided = true;\n                    switch(this.weapon){\n                        case \"sticky-bomb\":\n                            {\n                                this.scene.sound.play(\"sticky-bomb-impact\");\n                                this.randomExplosionEffect(characterPos);\n                                matterBomb.destroy();\n                                break;\n                            }\n                        case \"fire-bomb\":\n                            {\n                                this.scene.sound.play(\"fire-bomb-impact\");\n                                this.randomFireEffect(characterPos);\n                                matterBomb.destroy();\n                                break;\n                            }\n                        case \"grenade\":\n                            {\n                                this.scene.sound.play(\"explode\");\n                                this.randomExplosionEffect(characterPos);\n                                matterBomb.destroy();\n                                break;\n                            }\n                        case \"dynamite\":\n                            {\n                                this.scene.sound.play(\"explode\");\n                                this.randomExplosionEffect(characterPos);\n                                matterBomb.destroy();\n                                break;\n                            }\n                    }\n                    this.randomBloodEffect(characterPos);\n                    this.scene.sound.play(\"coin-drop\");\n                    for(let i = 0; i < 3; i++){\n                        this.effects.spawnCoin(characterPos.x, characterPos.y);\n                    }\n                    const damage = this.getCurrentWeaponConfig()?.damage || 0.05;\n                    _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", damage);\n                }\n            });\n            this.stickyBombNumber++;\n            // Apply arc trajectory\n            this.scene.matter.setVelocity(matterBomb, Math.cos(angle) * throwForce, Math.sin(angle) * throwForce - 5 // Negative Y for upward arc\n            );\n        } else {\n            console.log(\"spawn projectile\");\n            const matterBullet = this.scene.matter.add.gameObject(projectile, {\n                friction: 0,\n                frictionStatic: 0,\n                frictionAir: 0,\n                restitution: 1,\n                density: 0.005,\n                angle: angle + Math.PI,\n                ignorePointer: true,\n                shape: {\n                    type: \"circle\",\n                    radius: 10\n                },\n                onCollideCallback: (collision)=>{\n                    if (hasCollided) return;\n                    hasCollided = true;\n                    const collisionPoint = {\n                        x: collision.collision.supports[0]?.x,\n                        y: collision.collision.supports[0]?.y\n                    };\n                    const characterPos = this.character.getPosition();\n                    switch(this.weapon){\n                        case \"rpg\":\n                            this.scene.sound.play(\"explode\");\n                            this.randomExplosionEffect(characterPos);\n                            break;\n                        case \"raygun\":\n                            this.scene.sound.play(\"raygun-impact\");\n                            break;\n                        case \"knife\":\n                            this.scene.sound.play(\"throwknife-impact\");\n                            this.randomSlashEffect(characterPos);\n                            break;\n                        case \"katana\":\n                            this.scene.sound.play(\"throwknife-impact\");\n                            this.randomSlashEffect(characterPos);\n                            break;\n                    }\n                    const damage = this.getCurrentWeaponConfig()?.damage || 0.05;\n                    this.randomBloodEffect(characterPos);\n                    _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", damage);\n                    this.scene.sound.play(\"coin-drop\");\n                    for(let i = 0; i < 3; i++){\n                        this.effects.spawnCoin(characterPos.x, characterPos.y);\n                    }\n                    matterBullet.destroy();\n                }\n            });\n            // Set velocity based on angle to target\n            this.scene.matter.setVelocity(matterBullet, speed * Math.cos(angle), speed * Math.sin(angle));\n        }\n    }\n    randomBloodEffect(characterPos) {\n        this.scene.sound.play(\"bloodspurt\");\n        const bloodEffect = `b${Math.floor(Math.random() * 3) + 1}`;\n        const offset = {\n            x: 0,\n            y: (Math.random() - 0.5) * 50\n        };\n        this.effects.playEffect(bloodEffect, characterPos.x + offset.x, characterPos.y + offset.y);\n    }\n    randomExplosionEffect(characterPos) {\n        const explosionEffect = `explosion${Math.random() < 0.5 ? 1 : 2}`;\n        const offset = {\n            x: 0,\n            y: 0\n        };\n        this.effects.playEffect(explosionEffect, characterPos.x + offset.x, characterPos.y + offset.y);\n    }\n    randomSlashEffect(characterPos) {\n        const slashEffect = `slash${Math.floor(Math.random() * 4) + 1}`;\n        const offset = {\n            x: 0,\n            y: 0\n        };\n        this.effects.playEffect(slashEffect, characterPos.x + offset.x, characterPos.y + offset.y);\n    }\n    randomFireEffect(characterPos) {\n        const fireEffect = `fire${Math.random() < 0.5 ? 1 : 2}`;\n        const offset = {\n            x: 0,\n            y: 0\n        };\n        this.effects.playEffect(fireEffect, characterPos.x + offset.x, characterPos.y + offset.y);\n    }\n    updateWeaponPosition() {\n        if (!this.currentWeapon || !this.character) return;\n        const characterPos = this.character.getPosition();\n        const pointer = this.scene.input.activePointer;\n        const worldPoint = pointer.positionToCamera(this.scene.cameras.main);\n        this.currentWeapon.setPosition(worldPoint.x, worldPoint.y);\n        // Calculate angle between weapon and body\n        const angle = Phaser.Math.Angle.Between(this.currentWeapon.x, this.currentWeapon.y, characterPos.x, characterPos.y);\n        // Add 180 degrees to point barrel at body\n        const adjustedAngle = angle + Math.PI;\n        // Normalize angle between -π and π\n        const normalizedAngle = (adjustedAngle + Math.PI) % (Math.PI * 2) - Math.PI;\n        // Flip weapon when angle would make it appear upside down\n        this.flipX = normalizedAngle > Math.PI / 2 || normalizedAngle < -Math.PI / 2;\n        this.flipY = normalizedAngle > Math.PI / 2 || normalizedAngle < -Math.PI / 2;\n        this.currentWeapon.setFlipX(this.flipX);\n        // Set rotation with flip adjustment\n        this.currentWeapon.setRotation(this.currentWeapon.flipX ? adjustedAngle + Math.PI : adjustedAngle);\n        // Scale constants for weapon tip positioning\n        // Different weapons need different scale multipliers\n        let GUN_SCALE;\n        switch(this.weapon){\n            case \"knife\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.001\n                };\n                break;\n            case \"railgun\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.001\n                };\n                break;\n            case \"tommy\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.5,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.08\n                };\n                break;\n            case \"rpg\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.05\n                };\n                break;\n            case \"mg\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.15\n                };\n                break;\n            case \"kar98\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.05\n                };\n                break;\n            case \"flamethrower\":\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.2\n                };\n                // Calculate the offset based on rotation\n                const FLAMETHROWER_OFFSET = 200; // Adjust this value as needed\n                const offsetX = Math.cos(normalizedAngle) * FLAMETHROWER_OFFSET;\n                const offsetY = Math.sin(normalizedAngle) * FLAMETHROWER_OFFSET;\n                // Adjust the world point position before setting weapon position\n                const adjustedWorldPoint = {\n                    x: worldPoint.x - offsetX,\n                    y: worldPoint.y - offsetY\n                };\n                // Set position with offset\n                this.currentWeapon.setPosition(adjustedWorldPoint.x, adjustedWorldPoint.y);\n                // Update flame damage if weapon is active\n                if (this.weapon === \"flamethrower\" && this.scene.input.activePointer.isDown) {\n                    this.updateFlameDamage();\n                }\n                break;\n            default:\n                GUN_SCALE = {\n                    length: this.currentWeapon.displayWidth * 0.3,\n                    barrelOffset: this.currentWeapon.displayHeight * 0.2\n                };\n                break;\n        }\n        // Calculate weapon tip position\n        const totalAngle = this.currentWeapon.rotation + (this.currentWeapon.flipX ? Math.PI : 0);\n        const perpAngle = totalAngle + Math.PI / 2;\n        const tipX = this.currentWeapon.x + Math.cos(totalAngle) * -GUN_SCALE.length + Math.cos(perpAngle) * (this.currentWeapon.flipX ? GUN_SCALE.barrelOffset : -GUN_SCALE.barrelOffset);\n        const tipY = this.currentWeapon.y + Math.sin(totalAngle) * -GUN_SCALE.length + Math.sin(perpAngle) * (this.currentWeapon.flipX ? GUN_SCALE.barrelOffset : -GUN_SCALE.barrelOffset);\n        this.barrelPoint.set(tipX, tipY);\n    }\n    destroy() {\n        this.stopFiring();\n    }\n    updateChainsawDamage() {\n        // Return early if input is locked\n        if (this.inputState.isLocked) {\n            this.scene.sound.stopByKey(\"chainsaw-fire\");\n            if (this.firingTimer) {\n                this.firingTimer.destroy();\n                this.firingTimer = undefined;\n            }\n            return;\n        }\n        const currentTime = this.scene.time.now;\n        // Check if enough time has passed since last damage\n        if (currentTime - this.lastDamageTime < Weapon.CHAINSAW_CONFIG.damageInterval) {\n            return;\n        }\n        const characterPos = this.character.getPosition();\n        if (!this.currentWeapon) return;\n        // Calculate distance between chainsaw tip and character\n        const distance = Phaser.Math.Distance.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n        // Only apply damage if within range\n        if (distance <= Weapon.CHAINSAW_CONFIG.range) {\n            // Apply damage\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", Weapon.CHAINSAW_CONFIG.damagePerTick);\n            // Visual effects\n            this.randomBloodEffect(characterPos);\n            this.randomSlashEffect(characterPos);\n            // Spawn fewer coins than flamethrower but more frequently\n            for(let i = 0; i < 2; i++){\n                this.effects.spawnCoin(characterPos.x, characterPos.y);\n            }\n            this.lastDamageTime = currentTime;\n        }\n        // Optional: Debug visualization of range\n        if (this.debugGraphics) {\n            this.debugGraphics.clear();\n            this.debugGraphics.lineStyle(2, 0xff0000, 0.5);\n            this.debugGraphics.strokeCircle(this.barrelPoint.x, this.barrelPoint.y, Weapon.CHAINSAW_CONFIG.range);\n        }\n    }\n    // Add new methods for lightsaber handling\n    startLightsaberSwing() {\n        if (!this.isLightsaberOpen) return;\n        this.currentWeapon?.play(\"saberswipe\");\n        // Start damage checking\n        this.lightsaberSwingTimer = this.scene.time.addEvent({\n            delay: Weapon.LIGHTSABER_CONFIG.damageInterval,\n            callback: this.checkLightsaberDamage,\n            callbackScope: this,\n            loop: true\n        });\n    }\n    checkLightsaberDamage() {\n        if (!this.currentWeapon || !this.isLightsaberOpen) return;\n        const characterPos = this.character.getPosition();\n        const distance = Phaser.Math.Distance.Between(this.barrelPoint.x, this.barrelPoint.y, characterPos.x, characterPos.y);\n        if (distance <= Weapon.LIGHTSABER_CONFIG.range) {\n            _EventBus__WEBPACK_IMPORTED_MODULE_0__.EventBus.emit(\"health-changed\", Weapon.LIGHTSABER_CONFIG.damagePerTick);\n            this.scene.sound.play(\"lightsaber-hit\");\n            this.randomBloodEffect(characterPos);\n            this.randomSlashEffect(characterPos);\n            for(let i = 0; i < 2; i++){\n                this.effects.spawnCoin(characterPos.x, characterPos.y);\n            }\n        }\n        // Debug visualization\n        if (this.debugGraphics) {\n            this.debugGraphics.clear();\n            this.debugGraphics.lineStyle(2, 0x00ff00, 0.5);\n            this.debugGraphics.strokeCircle(this.barrelPoint.x, this.barrelPoint.y, Weapon.LIGHTSABER_CONFIG.range);\n        }\n    }\n} // private playWeaponAnimation(): void {\n //   if (!this.currentWeapon || !this.weapon) return;\n //   switch (this.weapon) {\n //     case \"deagle\":\n //       this.currentWeapon.play(\"deagleFire\");\n //       break;\n //     case \"tommy\":\n //       this.currentWeapon.play(\"tommyFire\");\n //       break;\n //     case \"rpg\":\n //       this.currentWeapon.play(\"rpgFire\");\n //       break;\n //     case \"mg\":\n //       this.currentWeapon.play(\"mgFire\");\n //       break;\n //     case \"raygun\":\n //       this.currentWeapon.play(\"raygunFire\");\n //       break;\n //     default:\n //       return;\n //   }\n // }\n // private playWeaponSound(config: WeaponConfig): void {\n //   if (config.fireSound) {\n //     this.scene.sound.play(config.fireSound);\n //   }\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZTtDQUNmLHFCQUFxQjtDQUNyQiwrQ0FBK0M7Q0FDL0MsZUFBZTtDQUNmLGVBQWU7Q0FDZixnQkFBZ0I7Q0FDaEIsTUFBTTtDQUNOLElBQUk7Q0FFSix3REFBd0Q7Q0FDeEQsNEJBQTRCO0NBQzVCLCtDQUErQztDQUMvQyxNQUFNO0NBQ04sSUFBSSIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvY2xhc3Nlcy9XZWFwb24udHM/ZjNlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9FdmVudEJ1c1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4vQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBHYW1lV2VhcG9uS2V5LCBTcGVjaWFsV2VhcG9uS2V5IH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBFZmZlY3RzLCBFZmZlY3RUeXBlIH0gZnJvbSBcIi4vRWZmZWN0c1wiO1xuaW1wb3J0IHsgSW5wdXRTdGF0ZSB9IGZyb20gXCIuL0lucHV0U3RhdGVcIjtcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gXCJwaGFzZXJcIjtcblxuaW50ZXJmYWNlIFdlYXBvbkNvbmZpZyB7XG4gIHRleHR1cmU6IHN0cmluZztcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG4gIG5hbWU6IHN0cmluZztcbiAgZmlyZVJhdGU6IG51bWJlcjtcbiAgYnVyc3RTaXplOiBudW1iZXI7XG4gIGJ1cnN0RGVsYXk/OiBudW1iZXI7XG4gIGZpcmVTb3VuZD86IHN0cmluZ1tdO1xuICBpbXBhY3RTb3VuZD86IHN0cmluZ1tdO1xuICBhbmltYXRpb25LZXk/OiBzdHJpbmc7XG4gIGRhbWFnZTogbnVtYmVyO1xuICBpc1Rocm93YWJsZTogYm9vbGVhbjtcbiAgc3BlY2lhbENhc2U6IGJvb2xlYW47XG4gIHByb2plY3RpbGVTcGVlZD86IG51bWJlcjtcbiAgcHJvamVjdGlsZVNjYWxlPzogeyB4OiBudW1iZXI7IHk6IG51bWJlciB9O1xuICBwcm9qZWN0aWxlRGlzcGxheVNpemU/OiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG4gIHByb2plY3RpbGVUZXh0dXJlPzogc3RyaW5nO1xuICBwcm9qZWN0aWxlQ29uZmlnPzoge1xuICAgIHNoYXBlOiB7IHR5cGU6IHN0cmluZzsgcmFkaXVzOiBudW1iZXIgfTtcbiAgICBhbmd1bGFyVmVsb2NpdHk6IG51bWJlcjtcbiAgICBsYWJlbDogc3RyaW5nO1xuICB9O1xufVxuXG4vL1RPRE86IE1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIGpvaW50cyBmb3Igc3RpY2t5IGJvbWJzIHdvcmtpbmcgb24gaXRcbi8vVE9ETzogbGlnaHRzYWJlciwgY2hhaW5zYXcsIHNpdGNreWJvbWIsIGthdGFuYSwgZHluYW1pdGVcblxuZXhwb3J0IGNsYXNzIFdlYXBvbiB7XG4gIHByaXZhdGUgZmxpcFggPSBmYWxzZTtcbiAgcHJpdmF0ZSBmbGlwWSA9IGZhbHNlO1xuICBwcml2YXRlIGlzT3ZlcmNoYXJnZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBpbnB1dFN0YXRlOiBJbnB1dFN0YXRlO1xuICBwcml2YXRlIHNjZW5lOiBQaGFzZXIuU2NlbmU7XG4gIHByaXZhdGUgY2hhcmFjdGVyOiBDaGFyYWN0ZXI7XG4gIHByaXZhdGUgZWZmZWN0czogRWZmZWN0cztcbiAgcHJpdmF0ZSBjdXJyZW50V2VhcG9uPzogUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZTtcbiAgcHJpdmF0ZSB3ZWFwb24/OiBHYW1lV2VhcG9uS2V5O1xuICBwcml2YXRlIGZpcmluZ1RpbWVyPzogUGhhc2VyLlRpbWUuVGltZXJFdmVudDtcbiAgcHJpdmF0ZSBiYXJyZWxQb2ludDogUGhhc2VyLk1hdGguVmVjdG9yMjtcbiAgcHJpdmF0ZSBzdGlja3lCb21iTnVtYmVyID0gMDtcblxuICBwcml2YXRlIGNoYXJnZVN0YXJ0VGltZT86IG51bWJlcjtcbiAgcHJpdmF0ZSBpc0NoYXJnaW5nOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgdHJpZ2dlckhvbGRTdGFydFRpbWU/OiBudW1iZXI7XG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IFRSSUdHRVJfREVMQVkgPSAxMDA7IC8vIDEwMG1zIGhvbGQgcmVxdWlyZW1lbnQgYmVmb3JlIGZpcmluZ1xuICBwcml2YXRlIGRlYnVnR3JhcGhpY3M/OiBQaGFzZXIuR2FtZU9iamVjdHMuR3JhcGhpY3M7XG5cbiAgLy8gQWRkIHRvIGNsYXNzIHByb3BlcnRpZXNcbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgRkxBTUVUSFJPV0VSX0NPTkZJRyA9IHtcbiAgICBkYW1hZ2VQZXJUaWNrOiAwLjUsXG4gICAgZGFtYWdlSW50ZXJ2YWw6IDEwMCxcbiAgICByYW5nZTogMjUwLCAvLyBBZGp1c3QgdGhpcyB2YWx1ZSB0byBzZXQgZmxhbWUgcmFuZ2VcbiAgfTtcblxuICBwcml2YXRlIGxhc3RGbGFtZURhbWFnZVRpbWU6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBSQUlMR1VOX0NPTkZJRyA9IHtcbiAgICBtaW5DaGFyZ2VUaW1lOiA1MDAsIC8vIDAuNSBzZWNvbmRzIG1pbmltdW0gY2hhcmdlXG4gICAgbWF4Q2hhcmdlVGltZTogMzAwMCwgLy8gMiBzZWNvbmRzIGJlZm9yZSBvdmVyY2hhcmdlXG4gICAgb3ZlcmNoYXJnZURlbGF5OiAxMDAwLCAvLyAxIHNlY29uZHMgcGVuYWx0eSBmb3Igb3ZlcmNoYXJnaW5nXG4gICAgaG9sZFNvdW5kOiBcInJhaWxndW4taG9sZFwiLFxuICAgIGNoYXJnZVNvdW5kOiBcInJhaWxndW4tY2hhcmdlXCIsXG4gICAgZmlyZVNvdW5kOiBcInJhaWxndW4tZmlyZTJcIixcbiAgICBvdmVyY2hhcmdlU291bmQ6IFwicmFpbGd1bi1leHBsb2RlXCIsXG4gIH07XG5cbiAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgV0VBUE9OX0NPTkZJR1M6IFJlY29yZDxHYW1lV2VhcG9uS2V5LCBXZWFwb25Db25maWc+ID1cbiAgICB7XG4gICAgICBrbmlmZToge1xuICAgICAgICB0ZXh0dXJlOiBcImtuaWZlXCIsXG4gICAgICAgIHdpZHRoOiAxMjAsXG4gICAgICAgIGhlaWdodDogODAsXG4gICAgICAgIG5hbWU6IFwia25pZmVcIixcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJ0aHJvd2tuaWZlLWZpcmVcIl0sXG4gICAgICAgIGltcGFjdFNvdW5kOiBbXCJ0aHJvd2tuaWZlLWltcGFjdFwiXSxcbiAgICAgICAgZmlyZVJhdGU6IDUwMCxcbiAgICAgICAgYnVyc3RTaXplOiAxLFxuICAgICAgICBkYW1hZ2U6IDAuOCxcbiAgICAgICAgaXNUaHJvd2FibGU6IHRydWUsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiA0MCxcbiAgICAgICAgcHJvamVjdGlsZURpc3BsYXlTaXplOiB7IHdpZHRoOiAxMjAsIGhlaWdodDogODAgfSxcbiAgICAgICAgcHJvamVjdGlsZVRleHR1cmU6IFwia25pZmVcIixcbiAgICAgIH0sXG4gICAgICBkZWFnbGU6IHtcbiAgICAgICAgdGV4dHVyZTogXCJkZWFnbGVmaXJpbmdfMDAwMThcIixcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgIG5hbWU6IFwiZGVhZ2xlXCIsXG4gICAgICAgIGZpcmVSYXRlOiA1MDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJkZWFnbGUtZmlyZVwiLCBcImRlYWdsZS1jb2NrXCJdLFxuICAgICAgICBhbmltYXRpb25LZXk6IFwiZGVhZ2xlRmlyZVwiLFxuICAgICAgICBkYW1hZ2U6IDEsXG4gICAgICAgIGlzVGhyb3dhYmxlOiBmYWxzZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IGZhbHNlLFxuICAgICAgICBwcm9qZWN0aWxlU3BlZWQ6IDc1LFxuICAgICAgICBwcm9qZWN0aWxlU2NhbGU6IHsgeDogMC4wNiwgeTogMC4xIH0sXG4gICAgICAgIHByb2plY3RpbGVUZXh0dXJlOiBcImRlYWdsZS1idWxsZXRcIixcbiAgICAgIH0sXG4gICAgICBncmVuYWRlOiB7XG4gICAgICAgIHRleHR1cmU6IFwiZ3JlbmFkZVwiLFxuICAgICAgICB3aWR0aDogMTAwLFxuICAgICAgICBoZWlnaHQ6IDgwLFxuICAgICAgICBuYW1lOiBcImdyZW5hZGVcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJncmVuYWRlLWZpcmVcIl0sXG4gICAgICAgIGRhbWFnZTogMixcbiAgICAgICAgaXNUaHJvd2FibGU6IHRydWUsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiAyNSxcbiAgICAgICAgcHJvamVjdGlsZURpc3BsYXlTaXplOiB7IHdpZHRoOiAxMDAsIGhlaWdodDogODAgfSxcbiAgICAgICAgcHJvamVjdGlsZVRleHR1cmU6IFwiZ3JlbmFkZVwiLFxuICAgICAgICBwcm9qZWN0aWxlQ29uZmlnOiB7XG4gICAgICAgICAgc2hhcGU6IHsgdHlwZTogXCJjaXJjbGVcIiwgcmFkaXVzOiAxNSB9LFxuICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogMC4yLCAvLyBJbmNyZWFzZWQgcm90YXRpb24gc3BlZWRcbiAgICAgICAgICBsYWJlbDogXCJncmVuYWRlXCIsIC8vIFVzZWQgdG8gaWRlbnRpZnkgcHJvamVjdGlsZSB0eXBlIGluIGNvbGxpc2lvblxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIHRvbW15OiB7XG4gICAgICAgIHRleHR1cmU6IFwidG9tbXlcIixcbiAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgaGVpZ2h0OiAxNTAsXG4gICAgICAgIG5hbWU6IFwidG9tbXlcIixcbiAgICAgICAgZmlyZVJhdGU6IDYwLFxuICAgICAgICBidXJzdFNpemU6IDQsXG4gICAgICAgIGJ1cnN0RGVsYXk6IDQwMCxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJ0b21teS1maXJlXCJdLFxuICAgICAgICBhbmltYXRpb25LZXk6IFwidG9tbXlGaXJlXCIsXG4gICAgICAgIGRhbWFnZTogMC44LFxuICAgICAgICBpc1Rocm93YWJsZTogZmFsc2UsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiA1MCxcbiAgICAgICAgcHJvamVjdGlsZVNjYWxlOiB7IHg6IDAuMDQsIHk6IDAuMDggfSxcbiAgICAgICAgcHJvamVjdGlsZVRleHR1cmU6IFwidG9tbXktYnVsbGV0XCIsXG4gICAgICB9LFxuICAgICAgXCJzdGlja3ktYm9tYlwiOiB7XG4gICAgICAgIHRleHR1cmU6IFwic3RpY2t5LWJvbWJcIixcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgaGVpZ2h0OiAxMDAsXG4gICAgICAgIG5hbWU6IFwic3RpY2t5LWJvbWJcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJ0aHJvd2tuaWZlLWZpcmVcIl0sXG4gICAgICAgIGltcGFjdFNvdW5kOiBbXCJzdGlja3ktYm9tYi1pbXBhY3RcIl0sXG4gICAgICAgIGRhbWFnZTogMyxcbiAgICAgICAgaXNUaHJvd2FibGU6IHRydWUsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiAyNSxcbiAgICAgICAgcHJvamVjdGlsZURpc3BsYXlTaXplOiB7IHdpZHRoOiAyMDAsIGhlaWdodDogMTAwIH0sXG4gICAgICAgIHByb2plY3RpbGVUZXh0dXJlOiBcInN0aWNreS1ib21iXCIsXG4gICAgICAgIHByb2plY3RpbGVDb25maWc6IHtcbiAgICAgICAgICBzaGFwZTogeyB0eXBlOiBcImNpcmNsZVwiLCByYWRpdXM6IDE1IH0sXG4gICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAwLjIsIC8vIEluY3JlYXNlZCByb3RhdGlvbiBzcGVlZFxuICAgICAgICAgIGxhYmVsOiBcInN0aWNreS1ib21iXCIsIC8vIFVzZWQgdG8gaWRlbnRpZnkgcHJvamVjdGlsZSB0eXBlIGluIGNvbGxpc2lvblxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIGNoYWluc2F3OiB7XG4gICAgICAgIHRleHR1cmU6IFwiY2hhaW5zYXdcIixcbiAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgaGVpZ2h0OiAxNTAsXG4gICAgICAgIG5hbWU6IFwiY2hhaW5zYXdcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMCxcbiAgICAgICAgYnVyc3RTaXplOiAxLFxuICAgICAgICBmaXJlU291bmQ6IFtcImNoYWluc2F3LWZpcmVcIl0sXG4gICAgICAgIGFuaW1hdGlvbktleTogXCJjaGFpbnNhd0ZpcmVcIixcbiAgICAgICAgZGFtYWdlOiAwLjMsXG4gICAgICAgIGlzVGhyb3dhYmxlOiBmYWxzZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IHRydWUsXG4gICAgICB9LFxuICAgICAgcnBnOiB7XG4gICAgICAgIHRleHR1cmU6IFwicnBnXCIsXG4gICAgICAgIHdpZHRoOiAzNTAsXG4gICAgICAgIGhlaWdodDogMjAwLFxuICAgICAgICBuYW1lOiBcInJwZ1wiLFxuICAgICAgICBmaXJlUmF0ZTogMTAwMCxcbiAgICAgICAgYnVyc3RTaXplOiAxLFxuICAgICAgICBmaXJlU291bmQ6IFtcInJwZy1maXJlXCJdLFxuICAgICAgICBhbmltYXRpb25LZXk6IFwicnBnRmlyZVwiLFxuICAgICAgICBkYW1hZ2U6IDMsXG4gICAgICAgIGlzVGhyb3dhYmxlOiBmYWxzZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IGZhbHNlLFxuICAgICAgICBwcm9qZWN0aWxlU3BlZWQ6IDUwLFxuICAgICAgICBwcm9qZWN0aWxlU2NhbGU6IHsgeDogMC4yNSwgeTogMC4yNSB9LFxuICAgICAgICBwcm9qZWN0aWxlVGV4dHVyZTogXCJycGctYnVsbGV0XCIsXG4gICAgICB9LFxuICAgICAgbWc6IHtcbiAgICAgICAgdGV4dHVyZTogXCJtZ1wiLFxuICAgICAgICB3aWR0aDogMzUwLFxuICAgICAgICBoZWlnaHQ6IDIwMCxcbiAgICAgICAgbmFtZTogXCJtZ1wiLFxuICAgICAgICBmaXJlUmF0ZTogMTAwLFxuICAgICAgICBidXJzdFNpemU6IDEsXG4gICAgICAgIGZpcmVTb3VuZDogW1wibWctZmlyZVwiXSxcbiAgICAgICAgYW5pbWF0aW9uS2V5OiBcIm1nRmlyZVwiLFxuICAgICAgICBkYW1hZ2U6IDAuNSxcbiAgICAgICAgaXNUaHJvd2FibGU6IGZhbHNlLFxuICAgICAgICBzcGVjaWFsQ2FzZTogZmFsc2UsXG4gICAgICAgIHByb2plY3RpbGVTcGVlZDogNTAsXG4gICAgICAgIHByb2plY3RpbGVTY2FsZTogeyB4OiAwLjA4LCB5OiAwLjA4IH0sXG4gICAgICAgIHByb2plY3RpbGVUZXh0dXJlOiBcIm1nLWJ1bGxldFwiLFxuICAgICAgfSxcbiAgICAgIFwiZmlyZS1ib21iXCI6IHtcbiAgICAgICAgdGV4dHVyZTogXCJmaXJlLWJvbWJcIixcbiAgICAgICAgd2lkdGg6IDE3MCxcbiAgICAgICAgaGVpZ2h0OiA3MCxcbiAgICAgICAgbmFtZTogXCJmaXJlLWJvbWJcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJmaXJlLWJvbWItZmlyZVwiXSxcbiAgICAgICAgaW1wYWN0U291bmQ6IFtcImZpcmUtYm9tYi1pbXBhY3RcIl0sXG4gICAgICAgIGRhbWFnZTogMixcbiAgICAgICAgaXNUaHJvd2FibGU6IHRydWUsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiAyNSxcbiAgICAgICAgcHJvamVjdGlsZURpc3BsYXlTaXplOiB7IHdpZHRoOiAxNzAsIGhlaWdodDogNzAgfSxcbiAgICAgICAgcHJvamVjdGlsZVRleHR1cmU6IFwiZmlyZS1ib21iXCIsXG4gICAgICAgIHByb2plY3RpbGVDb25maWc6IHtcbiAgICAgICAgICBzaGFwZTogeyB0eXBlOiBcImNpcmNsZVwiLCByYWRpdXM6IDE1IH0sXG4gICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAwLjIsIC8vIEluY3JlYXNlZCByb3RhdGlvbiBzcGVlZFxuICAgICAgICAgIGxhYmVsOiBcImZpcmUtYm9tYlwiLCAvLyBVc2VkIHRvIGlkZW50aWZ5IHByb2plY3RpbGUgdHlwZSBpbiBjb2xsaXNpb25cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBsaWdodHNhYmVyOiB7XG4gICAgICAgIHRleHR1cmU6IFwibGlnaHRzYWJlci11bmxpdFwiLFxuICAgICAgICB3aWR0aDogMzAwLFxuICAgICAgICBoZWlnaHQ6IDE1MCxcbiAgICAgICAgbmFtZTogXCJsaWdodHNhYmVyXCIsXG4gICAgICAgIGZpcmVSYXRlOiAxMDAwLFxuICAgICAgICBidXJzdFNpemU6IDEsXG4gICAgICAgIGRhbWFnZTogMC41LFxuICAgICAgICBpc1Rocm93YWJsZTogZmFsc2UsXG4gICAgICAgIHNwZWNpYWxDYXNlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJhaWxndW46IHtcbiAgICAgICAgdGV4dHVyZTogXCJyYWlsZ3VuXCIsXG4gICAgICAgIHdpZHRoOiAzMDAsXG4gICAgICAgIGhlaWdodDogMTUwLFxuICAgICAgICBuYW1lOiBcInJhaWxndW5cIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZGFtYWdlOiA0LFxuICAgICAgICBpc1Rocm93YWJsZTogZmFsc2UsXG4gICAgICAgIHNwZWNpYWxDYXNlOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIHJheWd1bjoge1xuICAgICAgICB0ZXh0dXJlOiBcInJheWd1blwiLFxuICAgICAgICB3aWR0aDogMjAwLFxuICAgICAgICBoZWlnaHQ6IDEwMCxcbiAgICAgICAgbmFtZTogXCJyYXlndW5cIixcbiAgICAgICAgZmlyZVJhdGU6IDIwMCxcbiAgICAgICAgYnVyc3RTaXplOiAxLFxuICAgICAgICBmaXJlU291bmQ6IFtcInJheWd1bi1maXJlXCJdLFxuICAgICAgICBpbXBhY3RTb3VuZDogW1wicmF5Z3VuLWltcGFjdFwiXSxcbiAgICAgICAgYW5pbWF0aW9uS2V5OiBcInJheWd1bkZpcmVcIixcbiAgICAgICAgZGFtYWdlOiAyLFxuICAgICAgICBpc1Rocm93YWJsZTogZmFsc2UsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiA1MCxcbiAgICAgICAgcHJvamVjdGlsZVNjYWxlOiB7IHg6IDAuNywgeTogMC43IH0sXG4gICAgICAgIHByb2plY3RpbGVUZXh0dXJlOiBcInJheWd1bi1idWxsZXRcIixcbiAgICAgIH0sXG4gICAgICBkeW5hbWl0ZToge1xuICAgICAgICB0ZXh0dXJlOiBcImR5bmFtaXRlXCIsXG4gICAgICAgIHdpZHRoOiA4MCxcbiAgICAgICAgaGVpZ2h0OiAxMjAsXG4gICAgICAgIG5hbWU6IFwiZHluYW1pdGVcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJkeW5hbWl0ZS1mdXplXCIsIFwiZHluYW1pdGUtZmxpY2tcIl0sXG4gICAgICAgIGFuaW1hdGlvbktleTogXCJkeW5hbWl0ZUZpcmVcIixcbiAgICAgICAgZGFtYWdlOiAyLFxuICAgICAgICBpc1Rocm93YWJsZTogdHJ1ZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IGZhbHNlLFxuICAgICAgICBwcm9qZWN0aWxlU3BlZWQ6IDI1LFxuICAgICAgICBwcm9qZWN0aWxlRGlzcGxheVNpemU6IHsgd2lkdGg6IDgwLCBoZWlnaHQ6IDEyMCB9LFxuICAgICAgICBwcm9qZWN0aWxlVGV4dHVyZTogXCJkeW5hbWl0ZVwiLFxuICAgICAgICBwcm9qZWN0aWxlQ29uZmlnOiB7XG4gICAgICAgICAgc2hhcGU6IHsgdHlwZTogXCJjaXJjbGVcIiwgcmFkaXVzOiAxNSB9LFxuICAgICAgICAgIGFuZ3VsYXJWZWxvY2l0eTogMC4yLCAvLyBJbmNyZWFzZWQgcm90YXRpb24gc3BlZWRcbiAgICAgICAgICBsYWJlbDogXCJkeW5hbWl0ZVwiLCAvLyBVc2VkIHRvIGlkZW50aWZ5IHByb2plY3RpbGUgdHlwZSBpbiBjb2xsaXNpb25cbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBrYXRhbmE6IHtcbiAgICAgICAgdGV4dHVyZTogXCJrYXRhbmFcIixcbiAgICAgICAgd2lkdGg6IDMwMCxcbiAgICAgICAgaGVpZ2h0OiAxNTAsXG4gICAgICAgIG5hbWU6IFwia2F0YW5hXCIsXG4gICAgICAgIGZpcmVSYXRlOiA1MDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZGFtYWdlOiAxLFxuICAgICAgICBpc1Rocm93YWJsZTogdHJ1ZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IHRydWUsXG4gICAgICAgIHByb2plY3RpbGVTcGVlZDogNDAsXG4gICAgICAgIHByb2plY3RpbGVEaXNwbGF5U2l6ZTogeyB3aWR0aDogMzAwLCBoZWlnaHQ6IDE1MCB9LFxuICAgICAgICBwcm9qZWN0aWxlVGV4dHVyZTogXCJrYXRhbmFcIixcbiAgICAgIH0sXG4gICAgICBrYXI5ODoge1xuICAgICAgICB0ZXh0dXJlOiBcImthcjk4XCIsXG4gICAgICAgIHdpZHRoOiAzNTAsXG4gICAgICAgIGhlaWdodDogMTc1LFxuICAgICAgICBuYW1lOiBcImthcjk4XCIsXG4gICAgICAgIGFuaW1hdGlvbktleTogXCJrYXI5OEZpcmVcIixcbiAgICAgICAgZmlyZVNvdW5kOiBbXCJrYXI5OC1maXJlXCIsIFwia2FyOTgtY29ja1wiXSxcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgZGFtYWdlOiAyLFxuICAgICAgICBpc1Rocm93YWJsZTogZmFsc2UsXG4gICAgICAgIHNwZWNpYWxDYXNlOiBmYWxzZSxcbiAgICAgICAgcHJvamVjdGlsZVNwZWVkOiA1MCxcbiAgICAgICAgcHJvamVjdGlsZVNjYWxlOiB7IHg6IDAuMDUsIHk6IDAuMDUgfSxcbiAgICAgICAgcHJvamVjdGlsZVRleHR1cmU6IFwiZGVhZ2xlLWJ1bGxldFwiLFxuICAgICAgfSxcbiAgICAgIGZsYW1ldGhyb3dlcjoge1xuICAgICAgICB0ZXh0dXJlOiBcImZsYW1ldGhyb3dlclwiLFxuICAgICAgICB3aWR0aDogNzAwLFxuICAgICAgICBoZWlnaHQ6IDM1MCxcbiAgICAgICAgbmFtZTogXCJmbGFtZXRocm93ZXJcIixcbiAgICAgICAgZmlyZVJhdGU6IDEwMDAsXG4gICAgICAgIGJ1cnN0U2l6ZTogMSxcbiAgICAgICAgYW5pbWF0aW9uS2V5OiBcImZsYW1ldGhyb3dlckZpcmVcIixcbiAgICAgICAgZGFtYWdlOiAwLjUsXG4gICAgICAgIGlzVGhyb3dhYmxlOiBmYWxzZSxcbiAgICAgICAgc3BlY2lhbENhc2U6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG5cbiAgcHJpdmF0ZSBzdGF0aWMgQ0hBSU5TQVdfQ09ORklHID0ge1xuICAgIGRhbWFnZVBlclRpY2s6IDEuNSxcbiAgICBkYW1hZ2VJbnRlcnZhbDogMTAwLFxuICAgIHJhbmdlOiAxNTAsIC8vIFJhbmdlIGluIHBpeGVscyBmb3IgY2hhaW5zYXcgZGFtYWdlXG4gIH07XG5cbiAgcHJpdmF0ZSBsYXN0RGFtYWdlVGltZTogbnVtYmVyID0gMDtcblxuICAvLyBBZGQgbGlnaHRzYWJlciBjb25maWcgc2ltaWxhciB0byBjaGFpbnNhdyBhbmQgZmxhbWV0aHJvd2VyXG4gIHByaXZhdGUgc3RhdGljIHJlYWRvbmx5IExJR0hUU0FCRVJfQ09ORklHID0ge1xuICAgIGRhbWFnZVBlclRpY2s6IDUsXG4gICAgZGFtYWdlSW50ZXJ2YWw6IDEwMCxcbiAgICByYW5nZTogMjAwLFxuICAgIHN3aW5nRGVsYXk6IDMwMCwgLy8gVGltZSB0byB3YWl0IGFmdGVyIG9wZW5pbmcgYmVmb3JlIHN3aW5naW5nXG4gIH07XG5cbiAgLy8gQWRkIHRvIGNsYXNzIHByb3BlcnRpZXNcbiAgcHJpdmF0ZSBpc0xpZ2h0c2FiZXJPcGVuOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgbGlnaHRzYWJlclN3aW5nVGltZXI/OiBQaGFzZXIuVGltZS5UaW1lckV2ZW50O1xuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBQaGFzZXIuU2NlbmUsIGNoYXJhY3RlcjogQ2hhcmFjdGVyLCBlZmZlY3RzOiBFZmZlY3RzKSB7XG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgIHRoaXMuY2hhcmFjdGVyID0gY2hhcmFjdGVyO1xuICAgIHRoaXMuZWZmZWN0cyA9IGVmZmVjdHM7XG4gICAgdGhpcy5pbnB1dFN0YXRlID0gSW5wdXRTdGF0ZS5nZXRJbnN0YW5jZSgpO1xuICAgIHRoaXMuYmFycmVsUG9pbnQgPSBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMigwLCAwKTtcbiAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpOiB2b2lkIHtcbiAgICAvLyBBZGQgYW55IGV2ZW50IGxpc3RlbmVycyBuZWVkZWRcbiAgICBFdmVudEJ1cy5vbihcInNldC13ZWFwb25cIiwgdGhpcy5zZXRXZWFwb24sIHRoaXMpO1xuICAgIEV2ZW50QnVzLm9uKFwic3RvcC1maXJpbmdcIiwgdGhpcy5zdG9wRmlyaW5nLCB0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q3VycmVudFdlYXBvbkNvbmZpZygpOiBXZWFwb25Db25maWcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLndlYXBvbiA/IFdlYXBvbi5XRUFQT05fQ09ORklHU1t0aGlzLndlYXBvbl0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIHNldFdlYXBvbih3ZWFwb246IEdhbWVXZWFwb25LZXkgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICAvLyBSZW1vdmUgYW5kIGRlc3Ryb3kgY3VycmVudCB3ZWFwb25cbiAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uKSB7XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24uZGVzdHJveSgpO1xuICAgICAgdGhpcy5jdXJyZW50V2VhcG9uID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmICghd2VhcG9uKSB7XG4gICAgICB0aGlzLndlYXBvbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb25maWcgPSBXZWFwb24uV0VBUE9OX0NPTkZJR1Nbd2VhcG9uXTtcbiAgICBpZiAoIWNvbmZpZykgcmV0dXJuO1xuXG4gICAgdGhpcy53ZWFwb24gPSB3ZWFwb247XG4gICAgdGhpcy5jdXJyZW50V2VhcG9uID0gdGhpcy5zY2VuZS5hZGRcbiAgICAgIC5zcHJpdGUoMCwgMCwgY29uZmlnLnRleHR1cmUpXG4gICAgICAuc2V0RGlzcGxheVNpemUoY29uZmlnLndpZHRoLCBjb25maWcuaGVpZ2h0KVxuICAgICAgLnNldE5hbWUoY29uZmlnLm5hbWUpXG4gICAgICAucmVtb3ZlRnJvbURpc3BsYXlMaXN0KCk7XG4gIH1cblxuICBwcml2YXRlIHJhaWxndW5PdmVyY2hhcmdlKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlzT3ZlcmNoYXJnZWQpIHJldHVybjtcbiAgICB0aGlzLmlzT3ZlcmNoYXJnZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkodGhpcy5SQUlMR1VOX0NPTkZJRy5ob2xkU291bmQpO1xuXG4gICAgLy8gUGxheSBvdmVyY2hhcmdlIGVmZmVjdHNcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkodGhpcy5SQUlMR1VOX0NPTkZJRy5vdmVyY2hhcmdlU291bmQpO1xuICAgIHRoaXMuZWZmZWN0cy5wbGF5RWZmZWN0KFxuICAgICAgXCJleHBsb3Npb24xXCIsXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LngsXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LnlcbiAgICApO1xuXG4gICAgdGhpcy5jdXJyZW50V2VhcG9uPy5zdG9wKCk7XG5cbiAgICAvLyBIaWRlIHRoZSB3ZWFwb25cbiAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uPy5nZXREaXNwbGF5TGlzdCgpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucmVtb3ZlRnJvbURpc3BsYXlMaXN0KCk7XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgZXZlcnl0aGluZyBhZnRlciBkZWxheVxuICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLlJBSUxHVU5fQ09ORklHLm92ZXJjaGFyZ2VEZWxheSwgKCkgPT4ge1xuICAgICAgdGhpcy5pc092ZXJjaGFyZ2VkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQ2hhcmdpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2hhcmdlU3RhcnRUaW1lID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKHRoaXMuZmlyaW5nVGltZXIpIHtcbiAgICAgICAgdGhpcy5maXJpbmdUaW1lci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlyaW5nVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVJhaWxndW5DaGFyZ2UgPSAoKTogdm9pZCA9PiB7XG4gICAgaWYgKCF0aGlzLmNoYXJnZVN0YXJ0VGltZSB8fCB0aGlzLmlzT3ZlcmNoYXJnZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcbiAgICBjb25zdCBjaGFyZ2VUaW1lID0gY3VycmVudFRpbWUgLSB0aGlzLmNoYXJnZVN0YXJ0VGltZTtcblxuICAgIC8vIFZpc3VhbCBmZWVkYmFjayBiYXNlZCBvbiBjaGFyZ2VcbiAgICB0aGlzLnVwZGF0ZUNoYXJnZUVmZmVjdChjaGFyZ2VUaW1lKTtcblxuICAgIC8vIENoZWNrIGZvciBvdmVyY2hhcmdlXG4gICAgaWYgKGNoYXJnZVRpbWUgPj0gdGhpcy5SQUlMR1VOX0NPTkZJRy5tYXhDaGFyZ2VUaW1lKSB7XG4gICAgICB0aGlzLnJhaWxndW5PdmVyY2hhcmdlKCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlQ2hhcmdlRWZmZWN0KGNoYXJnZVRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgIC8vIENhbGN1bGF0ZSBjaGFyZ2UgcGVyY2VudGFnZSBmcm9tIDAgdG8gMSBvdmVyIDMgc2Vjb25kc1xuICAgIGNvbnN0IGNoYXJnZVBlcmNlbnQgPSBNYXRoLm1pbihjaGFyZ2VUaW1lIC8gMzAwMCwgMSk7XG5cbiAgICAvLyBVcGRhdGUgdmlzdWFsIGVmZmVjdHMgYmFzZWQgb24gY2hhcmdlIHBlcmNlbnRhZ2VcbiAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uKSB7XG4gICAgICAvLyBTdGFydCB3aXRoIHdoaXRlIChubyB0aW50KVxuICAgICAgaWYgKGNoYXJnZVBlcmNlbnQgPT09IDApIHtcbiAgICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnNldFRpbnQoMHhmZmZmZmYpO1xuICAgICAgfVxuICAgICAgLy8gR3JhZHVhbGx5IHNoaWZ0IGZyb20gd2hpdGUgdG8gcmVkXG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaW50ZW5zaXR5ID0gTWF0aC5mbG9vcigyNTUgKiAoMSAtIGNoYXJnZVBlcmNlbnQpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnNldFRpbnQoXG4gICAgICAgICAgUGhhc2VyLkRpc3BsYXkuQ29sb3IuR2V0Q29sb3IoMjU1LCBpbnRlbnNpdHksIGludGVuc2l0eSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0YXJ0UmFpbGd1bkNoYXJnZSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzQ2hhcmdpbmcgPSB0cnVlO1xuICAgIHRoaXMuY2hhcmdlU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcblxuICAgIC8vIFBsYXkgY2hhcmdpbmcgc291bmRcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkodGhpcy5SQUlMR1VOX0NPTkZJRy5jaGFyZ2VTb3VuZCk7XG4gICAgLy8gUGxheSBjaGFyZ2UgYW5pbWF0aW9uXG4gICAgdGhpcy5jdXJyZW50V2VhcG9uPy5wbGF5KFwicmFpbGd1bkNoYXJnZVwiKTtcbiAgICB0aGlzLmN1cnJlbnRXZWFwb24/Lm9uKFwiYW5pbWF0aW9uY29tcGxldGVcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jdXJyZW50V2VhcG9uPy5wbGF5KFwicmFpbGd1bkhvbGRcIik7XG4gICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkodGhpcy5SQUlMR1VOX0NPTkZJRy5ob2xkU291bmQsIHtcbiAgICAgICAgdm9sdW1lOiAwLjUsXG4gICAgICB9KTtcbiAgICAgIC8vIHRoaXMuc2NlbmUuc291bmQuc3RvcEJ5S2V5KHRoaXMuUkFJTEdVTl9DT05GSUcuY2hhcmdlU291bmQpO1xuICAgIH0pO1xuXG4gICAgLy8gU3RhcnQgdGhlIGNoYXJnZSB0aW1lclxuICAgIHRoaXMuZmlyaW5nVGltZXIgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgZGVsYXk6IDE2LFxuICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlUmFpbGd1bkNoYXJnZSxcbiAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXG4gICAgICBsb29wOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmaXJlUmFpbGd1bihjaGFyZ2VUaW1lOiBudW1iZXIpOiB2b2lkIHtcbiAgICAvLyBDYWxjdWxhdGUgZGFtYWdlIG11bHRpcGxpZXIgYmFzZWQgb24gY2hhcmdlIHRpbWVcbiAgICBjb25zdCBjaGFyZ2VQZXJjZW50ID0gTWF0aC5taW4oXG4gICAgICAoY2hhcmdlVGltZSAtIHRoaXMuUkFJTEdVTl9DT05GSUcubWluQ2hhcmdlVGltZSkgL1xuICAgICAgICAodGhpcy5SQUlMR1VOX0NPTkZJRy5tYXhDaGFyZ2VUaW1lIC0gdGhpcy5SQUlMR1VOX0NPTkZJRy5taW5DaGFyZ2VUaW1lKSxcbiAgICAgIDFcbiAgICApO1xuXG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRDdXJyZW50V2VhcG9uQ29uZmlnKCk7XG4gICAgaWYgKCFjb25maWcpIHJldHVybjtcblxuICAgIC8vIFBsYXkgZmlyZSBhbmltYXRpb24gYW5kIHNvdW5kXG4gICAgdGhpcy5jdXJyZW50V2VhcG9uPy5wbGF5KFwicmFpbGd1bkZpcmVcIik7XG4gICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkodGhpcy5SQUlMR1VOX0NPTkZJRy5ob2xkU291bmQpO1xuICAgIHRoaXMuc2NlbmUuc291bmQucGxheSh0aGlzLlJBSUxHVU5fQ09ORklHLmZpcmVTb3VuZCk7XG5cbiAgICAvLyBTcGF3biBwcm9qZWN0aWxlIHdpdGggaW5jcmVhc2VkIGRhbWFnZSBiYXNlZCBvbiBjaGFyZ2VcbiAgICAvLyBZb3UnbGwgbmVlZCB0byBtb2RpZnkgeW91ciBwcm9qZWN0aWxlIHNwYXduaW5nIHRvIGhhbmRsZSB0aGUgZGFtYWdlIG11bHRpcGxpZXJcbiAgICBjb25zdCBiYXNlRGFtYWdlID0gY29uZmlnLmRhbWFnZTtcbiAgICBjb25zdCBjaGFyZ2VkRGFtYWdlID0gYmFzZURhbWFnZSAqICgxICsgY2hhcmdlUGVyY2VudCk7XG5cbiAgICAvLyBUT0RPOiBNb2RpZnkgeW91ciBwcm9qZWN0aWxlIHNwYXduaW5nIHRvIHVzZSBjaGFyZ2VkRGFtYWdlXG4gICAgdGhpcy5zcGF3blByb2plY3RpbGUoY29uZmlnLCBjaGFyZ2VkRGFtYWdlKTtcblxuICAgIC8vIEhpZGUgdGhlIHdlYXBvbiBhZnRlciBmaXJpbmdcbiAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uPy5nZXREaXNwbGF5TGlzdCgpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucmVtb3ZlRnJvbURpc3BsYXlMaXN0KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVGbGFtZURhbWFnZSgpOiB2b2lkIHtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgaW5wdXQgaXMgbG9ja2VkXG4gICAgaWYgKHRoaXMuaW5wdXRTdGF0ZS5pc0xvY2tlZCkge1xuICAgICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkoXCJmbGFtZXRocm93ZXItZmlyZVwiKTtcbiAgICAgIGlmICh0aGlzLmZpcmluZ1RpbWVyKSB7XG4gICAgICAgIHRoaXMuZmlyaW5nVGltZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLmZpcmluZ1RpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcblxuICAgIC8vIENoZWNrIGlmIGVub3VnaCB0aW1lIGhhcyBwYXNzZWQgc2luY2UgbGFzdCBkYW1hZ2VcbiAgICBpZiAoXG4gICAgICBjdXJyZW50VGltZSAtIHRoaXMubGFzdEZsYW1lRGFtYWdlVGltZSA8XG4gICAgICBXZWFwb24uRkxBTUVUSFJPV0VSX0NPTkZJRy5kYW1hZ2VJbnRlcnZhbFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYXJhY3RlclBvcyA9IHRoaXMuY2hhcmFjdGVyLmdldFBvc2l0aW9uKCk7XG5cbiAgICBpZiAoIXRoaXMuY3VycmVudFdlYXBvbikgcmV0dXJuO1xuXG4gICAgLy8gQ2FsY3VsYXRlIGRpc3RhbmNlIGJldHdlZW4gZmxhbWUgdGlwIGFuZCBjaGFyYWN0ZXJcbiAgICBjb25zdCBkaXN0YW5jZSA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4oXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LngsXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICBjaGFyYWN0ZXJQb3MueCxcbiAgICAgIGNoYXJhY3RlclBvcy55XG4gICAgKTtcblxuICAgIC8vIE9ubHkgYXBwbHkgZGFtYWdlIGlmIHdpdGhpbiByYW5nZVxuICAgIGlmIChkaXN0YW5jZSA8PSBXZWFwb24uRkxBTUVUSFJPV0VSX0NPTkZJRy5yYW5nZSkge1xuICAgICAgLy8gQXBwbHkgZGFtYWdlXG4gICAgICBFdmVudEJ1cy5lbWl0KFwiaGVhbHRoLWNoYW5nZWRcIiwgV2VhcG9uLkZMQU1FVEhST1dFUl9DT05GSUcuZGFtYWdlUGVyVGljayk7XG5cbiAgICAgIC8vIFZpc3VhbCBlZmZlY3RzXG4gICAgICB0aGlzLnJhbmRvbUJsb29kRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICB0aGlzLnJhbmRvbUZpcmVFZmZlY3QoY2hhcmFjdGVyUG9zKTtcblxuICAgICAgLy8gU3Bhd24gY29pbnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0cy5zcGF3bkNvaW4oY2hhcmFjdGVyUG9zLngsIGNoYXJhY3RlclBvcy55KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sYXN0RmxhbWVEYW1hZ2VUaW1lID0gY3VycmVudFRpbWU7XG4gICAgfVxuXG4gICAgLy8gT3B0aW9uYWw6IERlYnVnIHZpc3VhbGl6YXRpb24gb2YgcmFuZ2VcbiAgICBpZiAodGhpcy5kZWJ1Z0dyYXBoaWNzKSB7XG4gICAgICB0aGlzLmRlYnVnR3JhcGhpY3MuY2xlYXIoKTtcbiAgICAgIHRoaXMuZGVidWdHcmFwaGljcy5saW5lU3R5bGUoMiwgMHhmZjAwMDAsIDAuNSk7XG4gICAgICB0aGlzLmRlYnVnR3JhcGhpY3Muc3Ryb2tlQ2lyY2xlKFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LngsXG4gICAgICAgIHRoaXMuYmFycmVsUG9pbnQueSxcbiAgICAgICAgV2VhcG9uLkZMQU1FVEhST1dFUl9DT05GSUcucmFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXJ0RmlyaW5nKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmlucHV0U3RhdGUuaXNMb2NrZWQgfHwgdGhpcy5pc092ZXJjaGFyZ2VkKSByZXR1cm47XG4gICAgY29uc3QgY29uZmlnID0gdGhpcy5nZXRDdXJyZW50V2VhcG9uQ29uZmlnKCk7XG4gICAgaWYgKCFjb25maWcgfHwgIXRoaXMud2VhcG9uKSByZXR1cm47XG5cbiAgICAvLyBTdGFydCB0cmFja2luZyB0cmlnZ2VyIGhvbGQgdGltZVxuICAgIHRoaXMudHJpZ2dlckhvbGRTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xuXG4gICAgLy8gU2hvdyBjdXJyZW50IHdlYXBvbiBpZiBpdCBleGlzdHMgYnV0IGlzbid0IGRpc3BsYXllZFxuICAgIGlmICh0aGlzLmN1cnJlbnRXZWFwb24gJiYgIXRoaXMuY3VycmVudFdlYXBvbi5nZXREaXNwbGF5TGlzdCgpKSB7XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24uYWRkVG9EaXNwbGF5TGlzdCgpO1xuICAgIH1cblxuICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgIGNhc2UgXCJyYWlsZ3VuXCI6XG4gICAgICAgIGlmICghdGhpcy5pc0NoYXJnaW5nKSB7XG4gICAgICAgICAgdGhpcy5zdGFydFJhaWxndW5DaGFyZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsaWdodHNhYmVyXCI6XG4gICAgICAgIGlmICghdGhpcy5pc0xpZ2h0c2FiZXJPcGVuKSB7XG4gICAgICAgICAgdGhpcy5pc0xpZ2h0c2FiZXJPcGVuID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24/LnBsYXkoXCJsaWdodHNhYmVyT3BlblwiKTtcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJsaWdodHNhYmVyLWlnbml0ZVwiKTtcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJsaWdodHNhYmVyLWFjdGl2ZVwiLCB7IGxvb3A6IHRydWUgfSk7XG5cbiAgICAgICAgICAvLyBTdGFydCBzd2luZ2luZyBhZnRlciBvcGVuaW5nIGFuaW1hdGlvblxuICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbChcbiAgICAgICAgICAgIFdlYXBvbi5MSUdIVFNBQkVSX0NPTkZJRy5zd2luZ0RlbGF5LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLnN0YXJ0TGlnaHRzYWJlclN3aW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcImNoYWluc2F3XCI6XG4gICAgICAgIGlmICghdGhpcy5maXJpbmdUaW1lciAmJiAhdGhpcy5pbnB1dFN0YXRlLmlzTG9ja2VkKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50V2VhcG9uPy5wbGF5KFwiY2hhaW5zYXdGaXJlXCIpO1xuICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImNoYWluc2F3LWZpcmVcIiwgeyBsb29wOiB0cnVlIH0pO1xuXG4gICAgICAgICAgLy8gU3RhcnQgY2hlY2tpbmcgZm9yIGNoYWluc2F3IGRhbWFnZVxuICAgICAgICAgIHRoaXMuZmlyaW5nVGltZXIgPSB0aGlzLnNjZW5lLnRpbWUuYWRkRXZlbnQoe1xuICAgICAgICAgICAgZGVsYXk6IDEwMCxcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnVwZGF0ZUNoYWluc2F3RGFtYWdlLFxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcbiAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgXCJmbGFtZXRocm93ZXJcIjpcbiAgICAgICAgLy8gT25seSBzdGFydCB0aGUgZmxhbWV0aHJvd2VyIGlmIGlucHV0IGlzIG5vdCBsb2NrZWRcbiAgICAgICAgaWYgKCF0aGlzLmZpcmluZ1RpbWVyICYmICF0aGlzLmlucHV0U3RhdGUuaXNMb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24/LnBsYXkoXCJmbGFtZXRocm93ZXJGaXJlXCIpO1xuICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImZsYW1ldGhyb3dlci1maXJlXCIsIHsgbG9vcDogdHJ1ZSB9KTtcblxuICAgICAgICAgIC8vIFN0YXJ0IGNoZWNraW5nIGZvciBmbGFtZSBkYW1hZ2VcbiAgICAgICAgICB0aGlzLmZpcmluZ1RpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICAgIGRlbGF5OiAxMDAsXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy51cGRhdGVGbGFtZURhbWFnZSxcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImthdGFuYVwiOlxuICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJrYXRhbmEtcHVsbG91dFwiKTtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgZmFsbCB0aHJvdWdoIHRvIGRlZmF1bHQgY2FzZVxuICAgICAgZGVmYXVsdDoge1xuICAgICAgICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZmlyaW5nIHRpbWVyXG4gICAgICAgIGlmICh0aGlzLmZpcmluZ1RpbWVyKSB7XG4gICAgICAgICAgdGhpcy5maXJpbmdUaW1lci5kZXN0cm95KCk7XG4gICAgICAgICAgdGhpcy5maXJpbmdUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgICAgICBjYXNlIFwidG9tbXlcIjpcbiAgICAgICAgICAgIGlmIChjb25maWcuZmlyZVNvdW5kKSB7XG4gICAgICAgICAgICAgIGNvbmZpZy5maXJlU291bmQuZm9yRWFjaCgoc291bmQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoc291bmQsIHtcbiAgICAgICAgICAgICAgICAgIHZvbHVtZTogMC41LFxuICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibWdcIjpcbiAgICAgICAgICAgIGlmIChjb25maWcuZmlyZVNvdW5kKSB7XG4gICAgICAgICAgICAgIGNvbmZpZy5maXJlU291bmQuZm9yRWFjaCgoc291bmQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoc291bmQsIHtcbiAgICAgICAgICAgICAgICAgIHZvbHVtZTogMC41LFxuICAgICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGFzdEZpcmVkID0gMDtcbiAgICAgICAgbGV0IGJ1cnN0Q291bnQgPSAwO1xuICAgICAgICBsZXQgY2FuRmlyZSA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgYXR0ZW1wdEZpcmUgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdHJpZ2dlciBoYXMgYmVlbiBoZWxkIGxvbmcgZW5vdWdoXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXRoaXMudHJpZ2dlckhvbGRTdGFydFRpbWUgfHxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lIC0gdGhpcy50cmlnZ2VySG9sZFN0YXJ0VGltZSA8IFdlYXBvbi5UUklHR0VSX0RFTEFZXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF0aGlzLnNjZW5lLmlucHV0LmFjdGl2ZVBvaW50ZXIuaXNEb3duKSB7XG4gICAgICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJ1cnN0Q291bnQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE9ubHkgZmlyZSBpZiBlbm91Z2ggdGltZSBoYXMgcGFzc2VkIGFuZCB3ZSBjYW4gZmlyZVxuICAgICAgICAgIGlmIChjdXJyZW50VGltZSAtIGxhc3RGaXJlZCA+PSBjb25maWcuZmlyZVJhdGUgJiYgY2FuRmlyZSkge1xuICAgICAgICAgICAgdGhpcy5maXJlV2VhcG9uKGNvbmZpZyk7XG4gICAgICAgICAgICBsYXN0RmlyZWQgPSBjdXJyZW50VGltZTtcblxuICAgICAgICAgICAgaWYgKGNvbmZpZy5idXJzdFNpemUgPiAxKSB7XG4gICAgICAgICAgICAgIGJ1cnN0Q291bnQrKztcbiAgICAgICAgICAgICAgaWYgKGJ1cnN0Q291bnQgPj0gY29uZmlnLmJ1cnN0U2l6ZSkge1xuICAgICAgICAgICAgICAgIGNhbkZpcmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBidXJzdENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnRpbWUuZGVsYXllZENhbGwoY29uZmlnLmJ1cnN0RGVsYXkgfHwgMzAwLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmZpcmluZ1RpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcbiAgICAgICAgICBkZWxheTogMTYsXG4gICAgICAgICAgY2FsbGJhY2s6IGF0dGVtcHRGaXJlLFxuICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgc3RvcEZpcmluZygpOiB2b2lkIHtcbiAgICBpZiAodGhpcy53ZWFwb24gPT09IFwiZmxhbWV0aHJvd2VyXCIpIHtcbiAgICAgIHRoaXMuY3VycmVudFdlYXBvbj8uc3RvcCgpO1xuICAgICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkoXCJmbGFtZXRocm93ZXItZmlyZVwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5maXJpbmdUaW1lcikge1xuICAgICAgdGhpcy5maXJpbmdUaW1lci5kZXN0cm95KCk7XG4gICAgICB0aGlzLmZpcmluZ1RpbWVyID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8vIERvbid0IGFsbG93IHN0b3BwaW5nIGZpcmluZyBkdXJpbmcgb3ZlcmNoYXJnZVxuICAgIGlmICh0aGlzLmlzT3ZlcmNoYXJnZWQpIHJldHVybjtcblxuICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgIGNhc2UgXCJsaWdodHNhYmVyXCI6XG4gICAgICAgIGlmICh0aGlzLmlzTGlnaHRzYWJlck9wZW4pIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24/LnBsYXkoXCJsaWdodHNhYmVyQ2xvc2VcIik7XG4gICAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwibGlnaHRzYWJlci1jbG9zZVwiKTtcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnN0b3BCeUtleShcImxpZ2h0c2FiZXItYWN0aXZlXCIpO1xuXG4gICAgICAgICAgLy8gQ2xlYW4gdXAgbGlnaHRzYWJlciBzdGF0ZVxuICAgICAgICAgIGlmICh0aGlzLmxpZ2h0c2FiZXJTd2luZ1RpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0c2FiZXJTd2luZ1RpbWVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRzYWJlclN3aW5nVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGlkZSB3ZWFwb24gYWZ0ZXIgY2xvc2UgYW5pbWF0aW9uIGNvbXBsZXRlc1xuICAgICAgICAgIHRoaXMuc2NlbmUudGltZS5kZWxheWVkQ2FsbCg1MDAsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNMaWdodHNhYmVyT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFdlYXBvbj8uZ2V0RGlzcGxheUxpc3QoKSkge1xuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucmVtb3ZlRnJvbURpc3BsYXlMaXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFpbGd1blwiOlxuICAgICAgICBpZiAodGhpcy5pc0NoYXJnaW5nICYmIHRoaXMuY2hhcmdlU3RhcnRUaW1lKSB7XG4gICAgICAgICAgY29uc3QgY2hhcmdlVGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3cgLSB0aGlzLmNoYXJnZVN0YXJ0VGltZTtcblxuICAgICAgICAgIC8vIE9ubHkgZmlyZSBpZiB3aXRoaW4gdmFsaWQgY2hhcmdlIHdpbmRvd1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNoYXJnZVRpbWUgPj0gdGhpcy5SQUlMR1VOX0NPTkZJRy5taW5DaGFyZ2VUaW1lICYmXG4gICAgICAgICAgICBjaGFyZ2VUaW1lIDwgdGhpcy5SQUlMR1VOX0NPTkZJRy5tYXhDaGFyZ2VUaW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmZpcmVSYWlsZ3VuKGNoYXJnZVRpbWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIFJlc2V0IGNoYXJnaW5nIHN0YXRlXG4gICAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkodGhpcy5SQUlMR1VOX0NPTkZJRy5jaGFyZ2VTb3VuZCk7XG4gICAgICAgICAgdGhpcy5jdXJyZW50V2VhcG9uPy5zZXRUaW50KDB4ZmZmZmZmKTtcbiAgICAgICAgICB0aGlzLmlzQ2hhcmdpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzLmNoYXJnZVN0YXJ0VGltZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50V2VhcG9uICYmIHRoaXMuY3VycmVudFdlYXBvbi5nZXREaXNwbGF5TGlzdCgpKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucmVtb3ZlRnJvbURpc3BsYXlMaXN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFdlYXBvbiAmJiB0aGlzLmN1cnJlbnRXZWFwb24uZ2V0RGlzcGxheUxpc3QoKSkge1xuICAgICAgICAgIHRoaXMuY3VycmVudFdlYXBvbi5yZW1vdmVGcm9tRGlzcGxheUxpc3QoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWcgPSB0aGlzLmdldEN1cnJlbnRXZWFwb25Db25maWcoKTtcbiAgICAgICAgaWYgKGNvbmZpZykge1xuICAgICAgICAgIGNvbmZpZy5maXJlU291bmQ/LmZvckVhY2goKHNvdW5kKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnN0b3BCeUtleShzb3VuZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJpdmF0ZSBkZWJ1Z0RyYXdGbGFtZUFyZWEoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRXZWFwb24pIHJldHVybjtcblxuICAgIC8vIEdldCBvciBjcmVhdGUgZGVidWcgZ3JhcGhpY3NcbiAgICBpZiAoIXRoaXMuZGVidWdHcmFwaGljcykge1xuICAgICAgdGhpcy5kZWJ1Z0dyYXBoaWNzID0gdGhpcy5zY2VuZS5hZGQuZ3JhcGhpY3MoKTtcbiAgICB9XG5cbiAgICAvLyBDbGVhciBwcmV2aW91cyBmcmFtZVxuICAgIHRoaXMuZGVidWdHcmFwaGljcy5jbGVhcigpO1xuXG4gICAgLy8gRHJhdyBmbGFtZSBhcmVhXG4gICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLmxpbmVTdHlsZSgyLCAweGZmMDAwMCwgMSk7XG4gICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLnN0cm9rZUNpcmNsZShcbiAgICAgIHRoaXMuYmFycmVsUG9pbnQueCxcbiAgICAgIHRoaXMuYmFycmVsUG9pbnQueSxcbiAgICAgIFdlYXBvbi5GTEFNRVRIUk9XRVJfQ09ORklHLnJhbmdlXG4gICAgKTtcblxuICAgIC8vIE9wdGlvbmFsbHkgZHJhdyBiYXJyZWwgcG9pbnRcbiAgICB0aGlzLmRlYnVnR3JhcGhpY3MuZmlsbFN0eWxlKDB4MDBmZjAwLCAxKTtcbiAgICB0aGlzLmRlYnVnR3JhcGhpY3MuZmlsbENpcmNsZSh0aGlzLmJhcnJlbFBvaW50LngsIHRoaXMuYmFycmVsUG9pbnQueSwgNSk7XG4gIH1cblxuICBwdWJsaWMgZmlyZVdlYXBvbihjb25maWc6IFdlYXBvbkNvbmZpZyk6IHZvaWQge1xuICAgIGlmIChjb25maWcuc3BlY2lhbENhc2UpIHtcbiAgICAgIHN3aXRjaCAoY29uZmlnLm5hbWUgYXMgU3BlY2lhbFdlYXBvbktleSkge1xuICAgICAgICBjYXNlIFwiY2hhaW5zYXdcIjpcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjaGFpbnNhdy1maXJlXCIpO1xuICAgICAgICAgIHRoaXMuY3VycmVudFdlYXBvbj8ucGxheShcImNoYWluc2F3RmlyZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpZ2h0c2FiZXJcIjpcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJsaWdodHNhYmVyLWlnbml0ZVwiKTtcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJsaWdodHNhYmVyLWFjdGl2ZVwiKTtcbiAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24/LnBsYXkoXCJsaWdodHNhYmVyT3BlblwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImthdGFuYVwiOlxuICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcImthdGFuYS1zbGFzaFwiKTtcbiAgICAgICAgICB0aGlzLnNwYXduUHJvamVjdGlsZShjb25maWcpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmxhbWV0aHJvd2VyXCI6XG4gICAgICAgICAgdGhpcy5jdXJyZW50V2VhcG9uPy5wbGF5KFwiZmxhbWV0aHJvd2VyRmlyZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJhaWxndW5cIjpcbiAgICAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24/LnBsYXkoXCJyYWlsZ3VuRmlyZVwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgICAgY2FzZSBcInRvbW15XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtZ1wiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChjb25maWcuZmlyZVNvdW5kKSB7XG4gICAgICAgICAgICBjb25maWcuZmlyZVNvdW5kLmZvckVhY2goKHNvdW5kKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShzb3VuZCwge1xuICAgICAgICAgICAgICAgIHZvbHVtZTogMC41LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb25maWcuYW5pbWF0aW9uS2V5KSB7XG4gICAgICAgIHRoaXMuY3VycmVudFdlYXBvbj8ucGxheShjb25maWcuYW5pbWF0aW9uS2V5KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zcGF3blByb2plY3RpbGUoY29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHNwYXduUHJvamVjdGlsZShjb25maWc6IFdlYXBvbkNvbmZpZywgY2hhcmdlZERhbWFnZT86IG51bWJlcik6IHZvaWQge1xuICAgIGxldCBoYXNDb2xsaWRlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNoYXJhY3RlclBvcyA9IHRoaXMuY2hhcmFjdGVyLmdldFBvc2l0aW9uKCk7XG4gICAgLy8gQ2FsY3VsYXRlIGFuZ2xlIGJldHdlZW4gc3RhcnQgYW5kIHRhcmdldCBwb2ludHNcbiAgICBjb25zdCBhbmdsZSA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4oXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LngsXG4gICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICBjaGFyYWN0ZXJQb3MueCxcbiAgICAgIGNoYXJhY3RlclBvcy55XG4gICAgKTtcblxuICAgIC8vIEFkZCByYWlsZ3VuIGNhc2VcbiAgICBpZiAodGhpcy53ZWFwb24gPT09IFwicmFpbGd1blwiKSB7XG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gYmFycmVsIGFuZCB0YXJnZXRcbiAgICAgIGNvbnN0IGRpc3RhbmNlID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2VlbihcbiAgICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICAgIGNoYXJhY3RlclBvcy54LFxuICAgICAgICBjaGFyYWN0ZXJQb3MueVxuICAgICAgKTtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBsYXNlciBiZWFtXG4gICAgICBjb25zdCBsYXNlciA9IHRoaXMuc2NlbmUuYWRkLnJlY3RhbmdsZShcbiAgICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICA0LFxuICAgICAgICAweGZmMDAwMCxcbiAgICAgICAgMVxuICAgICAgKTtcblxuICAgICAgLy8gU2V0IHRoZSBvcmlnaW4gdG8gbGVmdCBjZW50ZXIgZm9yIHByb3BlciByb3RhdGlvblxuICAgICAgbGFzZXIuc2V0T3JpZ2luKDAsIDAuNSk7XG5cbiAgICAgIC8vIFJvdGF0ZSB0aGUgbGFzZXIgdG8gcG9pbnQgYXQgdGhlIHRhcmdldFxuICAgICAgbGFzZXIuc2V0Um90YXRpb24oYW5nbGUpO1xuXG4gICAgICAvLyBBZGQgZ2xvdyBlZmZlY3RcbiAgICAgIGxhc2VyLnNldFBvc3RQaXBlbGluZShcIkdsb3dQb3N0RlhcIik7XG5cbiAgICAgIHRoaXMucmFuZG9tRXhwbG9zaW9uRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICB0aGlzLnJhbmRvbUJsb29kRWZmZWN0KGNoYXJhY3RlclBvcyk7XG5cbiAgICAgIC8vIEFwcGx5IGRhbWFnZVxuICAgICAgY29uc3QgZGFtYWdlID1cbiAgICAgICAgY2hhcmdlZERhbWFnZSB8fCB0aGlzLmdldEN1cnJlbnRXZWFwb25Db25maWcoKT8uZGFtYWdlIHx8IDAuMDU7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiaGVhbHRoLWNoYW5nZWRcIiwgZGFtYWdlKTtcblxuICAgICAgLy8gRmFkZSBvdXQgYW5kIGRlc3Ryb3kgdGhlIGxhc2VyXG4gICAgICB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICB0YXJnZXRzOiBsYXNlcixcbiAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgIGR1cmF0aW9uOiAxMDAsXG4gICAgICAgIGVhc2U6IFwiUG93ZXIyXCIsXG4gICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICBsYXNlci5kZXN0cm95KCk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgLy8gU3Bhd24gY29pbnMgYXQgY2hhcmFjdGVyIHBvc2l0aW9uXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICB0aGlzLmVmZmVjdHMuc3Bhd25Db2luKGNoYXJhY3RlclBvcy54LCBjaGFyYWN0ZXJQb3MueSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzcGVlZCA9IGNvbmZpZy5wcm9qZWN0aWxlU3BlZWQgfHwgNTA7XG4gICAgY29uc3QgcHJvamVjdGlsZUNvbmZpZyA9IHtcbiAgICAgIGZyaWN0aW9uOiAwLFxuICAgICAgZnJpY3Rpb25TdGF0aWM6IDAsXG4gICAgICBmcmljdGlvbkFpcjogMC4wMDUsIC8vIEFkZCBhaXIgZnJpY3Rpb24gZm9yIGFyY2luZyBtb3Rpb25cbiAgICAgIHJlc3RpdHV0aW9uOiAwLjMsIC8vIFJlZHVjZSBib3VuY2VcbiAgICAgIGFuZ2xlOiBhbmdsZSArIE1hdGguUEksXG4gICAgICBkZW5zaXR5OiAwLjAwMSwgLy8gTGlnaHQgZW5vdWdoIHRvIGFyY1xuICAgICAgaWdub3JlUG9pbnRlcjogdHJ1ZSxcbiAgICAgIC4uLmNvbmZpZy5wcm9qZWN0aWxlQ29uZmlnLFxuICAgIH07XG4gICAgY29uc3QgZGlzdGFuY2UgPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKFxuICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgdGhpcy5iYXJyZWxQb2ludC55LFxuICAgICAgY2hhcmFjdGVyUG9zLngsXG4gICAgICBjaGFyYWN0ZXJQb3MueVxuICAgICk7XG4gICAgY29uc3QgdGhyb3dGb3JjZSA9IE1hdGgubWluKGRpc3RhbmNlICogMC4wMiwgMjUpO1xuICAgIGNvbnN0IHByb2plY3RpbGUgPSB0aGlzLnNjZW5lLmFkZFxuICAgICAgLmltYWdlKFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LngsXG4gICAgICAgIHRoaXMuYmFycmVsUG9pbnQueSxcbiAgICAgICAgY29uZmlnLnByb2plY3RpbGVUZXh0dXJlID8/IFwiXCJcbiAgICAgIClcbiAgICAgIC5zZXROYW1lKHRoaXMud2VhcG9uID8/IFwiXCIpXG4gICAgICAuc2V0RmxpcFkodGhpcy5mbGlwWSk7XG5cbiAgICBpZiAoY29uZmlnLnByb2plY3RpbGVEaXNwbGF5U2l6ZSkge1xuICAgICAgcHJvamVjdGlsZS5zZXREaXNwbGF5U2l6ZShcbiAgICAgICAgY29uZmlnLnByb2plY3RpbGVEaXNwbGF5U2l6ZS53aWR0aCxcbiAgICAgICAgY29uZmlnLnByb2plY3RpbGVEaXNwbGF5U2l6ZS5oZWlnaHRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2plY3RpbGUuc2V0U2NhbGUoXG4gICAgICAgIGNvbmZpZy5wcm9qZWN0aWxlU2NhbGU/LnggPz8gMSxcbiAgICAgICAgY29uZmlnLnByb2plY3RpbGVTY2FsZT8ueSA/PyAxXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIGxldCBwcm9qZWN0aWxlQ29uZmlnID0ge1xuICAgIC8vICAgZnJpY3Rpb246IDAsXG4gICAgLy8gICBmcmljdGlvblN0YXRpYzogMCxcbiAgICAvLyAgIGZyaWN0aW9uQWlyOiAwLjAwNSwgLy8gQWRkIGFpciBmcmljdGlvbiBmb3IgYXJjaW5nIG1vdGlvblxuICAgIC8vICAgcmVzdGl0dXRpb246IDAuMywgLy8gUmVkdWNlIGJvdW5jZVxuICAgIC8vICAgYW5nbGU6IGFuZ2xlICsgTWF0aC5QSSxcbiAgICAvLyAgIGRlbnNpdHk6IDAuMDAxLCAvLyBMaWdodCBlbm91Z2ggdG8gYXJjXG4gICAgLy8gICBpZ25vcmVQb2ludGVyOiB0cnVlLFxuICAgIC8vIH07XG4gICAgLy8gc3dpdGNoICh0aGlzLndlYXBvbikge1xuICAgIC8vICAgY2FzZSBcImRlYWdsZVwiOlxuICAgIC8vICAgICBzcGVlZCA9IDc1O1xuICAgIC8vICAgICBwcm9qZWN0aWxlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAvLyAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwiZGVhZ2xlLWJ1bGxldFwiKVxuICAgIC8vICAgICAgIC5zZXRTY2FsZSgwLjA2LCAwLjEpO1xuICAgIC8vICAgICBicmVhaztcbiAgICAvLyAgIGNhc2UgXCJ0b21teVwiOlxuICAgIC8vICAgICBzcGVlZCA9IDUwO1xuICAgIC8vICAgICBwcm9qZWN0aWxlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAvLyAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwidG9tbXktYnVsbGV0XCIpXG4gICAgLy8gICAgICAgLnNldFNjYWxlKDAuMDQsIDAuMDgpO1xuICAgIC8vICAgICBicmVhaztcbiAgICAvLyAgIGNhc2UgXCJycGdcIjpcbiAgICAvLyAgICAgc3BlZWQgPSA1MDtcbiAgICAvLyAgICAgcHJvamVjdGlsZSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgLy8gICAgICAgLmltYWdlKHRoaXMuYmFycmVsUG9pbnQueCwgdGhpcy5iYXJyZWxQb2ludC55LCBcInJwZy1idWxsZXRcIilcbiAgICAvLyAgICAgICAuc2V0U2NhbGUoMC4xLCAwLjEpO1xuICAgIC8vICAgICBicmVhaztcbiAgICAvLyAgIGNhc2UgXCJrbmlmZVwiOlxuICAgIC8vICAgICBzcGVlZCA9IDQwO1xuICAgIC8vICAgICBwcm9qZWN0aWxlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAvLyAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwia25pZmVcIilcbiAgICAvLyAgICAgICAuc2V0U2NhbGUoMC4wOCwgMC4wOCk7XG4gICAgLy8gICAgIGJyZWFrO1xuICAgIC8vICAgY2FzZSBcInJheWd1blwiOlxuICAgIC8vICAgICBzcGVlZCA9IDUwO1xuICAgIC8vICAgICBwcm9qZWN0aWxlID0gdGhpcy5zY2VuZS5hZGRcbiAgICAvLyAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwicmF5Z3VuLWJ1bGxldFwiKVxuICAgIC8vICAgICAgIC5zZXRTY2FsZSgxLCAxKTtcbiAgICAvLyAgICAgYnJlYWs7XG4gICAgLy8gICBjYXNlIFwibWdcIjpcbiAgICAvLyAgICAgc3BlZWQgPSA1MDtcbiAgICAvLyAgICAgcHJvamVjdGlsZSA9IHRoaXMuc2NlbmUuYWRkXG4gICAgLy8gICAgICAgLmltYWdlKHRoaXMuYmFycmVsUG9pbnQueCwgdGhpcy5iYXJyZWxQb2ludC55LCBcIm1nLWJ1bGxldFwiKVxuICAgIC8vICAgICAgIC5zZXRTY2FsZSgwLjA4LCAwLjA4KTtcbiAgICAvLyAgICAgYnJlYWs7XG4gICAgLy8gICBjYXNlIFwiZ3JlbmFkZVwiOlxuICAgIC8vICAgY2FzZSBcInN0aWNreS1ib21iXCI6XG4gICAgLy8gICBjYXNlIFwiZmlyZS1ib21iXCI6XG4gICAgLy8gICAgIHByb2plY3RpbGUgPSB0aGlzLnNjZW5lLmFkZFxuICAgIC8vICAgICAgIC5pbWFnZSh0aGlzLmJhcnJlbFBvaW50LngsIHRoaXMuYmFycmVsUG9pbnQueSwgdGhpcy53ZWFwb24pXG4gICAgLy8gICAgICAgLnNldFNjYWxlKDAuMTUpXG4gICAgLy8gICAgICAgLnNldE5hbWUodGhpcy53ZWFwb24pO1xuXG4gICAgLy8gICAgIC8vIEFkZCByb3RhdGlvbiB0byB0aGUgdGhyb3dhYmxlXG4gICAgLy8gICAgIHByb2plY3RpbGVDb25maWcgPSB7XG4gICAgLy8gICAgICAgLi4ucHJvamVjdGlsZUNvbmZpZyxcbiAgICAvLyAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAvLyBzaGFwZTogeyB0eXBlOiBcImNpcmNsZVwiLCByYWRpdXM6IDE1IH0sXG4gICAgLy8gYW5ndWxhclZlbG9jaXR5OiAwLjIsIC8vIEluY3JlYXNlZCByb3RhdGlvbiBzcGVlZFxuICAgIC8vIGxhYmVsOiB0aGlzLndlYXBvbiwgLy8gVXNlZCB0byBpZGVudGlmeSBwcm9qZWN0aWxlIHR5cGUgaW4gY29sbGlzaW9uXG4gICAgLy8gICAgIH07XG5cbiAgICAvLyAgICAgLy8gQ2FsY3VsYXRlIHRocm93IGZvcmNlIGJhc2VkIG9uIGRpc3RhbmNlIHRvIHRhcmdldCB3aXRoIGluY3JlYXNlZCBmb3JjZVxuICAgIC8vICAgICBjb25zdCBkaXN0YW5jZSA9IFBoYXNlci5NYXRoLkRpc3RhbmNlLkJldHdlZW4oXG4gICAgLy8gICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgIC8vICAgICAgIHRoaXMuYmFycmVsUG9pbnQueSxcbiAgICAvLyAgICAgICBjaGFyYWN0ZXJQb3MueCxcbiAgICAvLyAgICAgICBjaGFyYWN0ZXJQb3MueVxuICAgIC8vICAgICApO1xuICAgIC8vICAgICB0aHJvd0ZvcmNlID0gTWF0aC5taW4oZGlzdGFuY2UgKiAwLjAyLCAyNSk7IC8vIFNsaWdodGx5IHJlZHVjZWQgbXVsdGlwbGllciBhbmQgbWF4IGZvcmNlXG5cbiAgICAvLyAgICAgYnJlYWs7XG4gICAgLy8gICBkZWZhdWx0OlxuICAgIC8vICAgICByZXR1cm47XG4gICAgLy8gfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy53ZWFwb24gPT09IFwiZ3JlbmFkZVwiIHx8XG4gICAgICB0aGlzLndlYXBvbiA9PT0gXCJzdGlja3ktYm9tYlwiIHx8XG4gICAgICB0aGlzLndlYXBvbiA9PT0gXCJmaXJlLWJvbWJcIiB8fFxuICAgICAgdGhpcy53ZWFwb24gPT09IFwiZHluYW1pdGVcIlxuICAgICkge1xuICAgICAgY29uc29sZS5sb2coXCJzcGF3biBwcm9qZWN0aWxlIGJvbWJcIik7XG4gICAgICBjb25zdCBtYXR0ZXJCb21iID0gdGhpcy5zY2VuZS5tYXR0ZXIuYWRkLmdhbWVPYmplY3QocHJvamVjdGlsZSwge1xuICAgICAgICAuLi5wcm9qZWN0aWxlQ29uZmlnLFxuICAgICAgICBpZ25vcmVQb2ludGVyOiB0cnVlLFxuICAgICAgICBvbkNvbGxpZGVDYWxsYmFjazogKGNvbGxpc2lvbjogTWF0dGVySlMuSUNvbGxpc2lvblBhaXIpID0+IHtcbiAgICAgICAgICBpZiAoaGFzQ29sbGlkZWQpIHJldHVybjtcbiAgICAgICAgICBoYXNDb2xsaWRlZCA9IHRydWU7XG5cbiAgICAgICAgICBzd2l0Y2ggKHRoaXMud2VhcG9uKSB7XG4gICAgICAgICAgICBjYXNlIFwic3RpY2t5LWJvbWJcIjoge1xuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJzdGlja3ktYm9tYi1pbXBhY3RcIik7XG4gICAgICAgICAgICAgIHRoaXMucmFuZG9tRXhwbG9zaW9uRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICAgICAgICAgIG1hdHRlckJvbWIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJmaXJlLWJvbWJcIjoge1xuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJmaXJlLWJvbWItaW1wYWN0XCIpO1xuICAgICAgICAgICAgICB0aGlzLnJhbmRvbUZpcmVFZmZlY3QoY2hhcmFjdGVyUG9zKTtcbiAgICAgICAgICAgICAgbWF0dGVyQm9tYi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImdyZW5hZGVcIjoge1xuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJleHBsb2RlXCIpO1xuICAgICAgICAgICAgICB0aGlzLnJhbmRvbUV4cGxvc2lvbkVmZmVjdChjaGFyYWN0ZXJQb3MpO1xuICAgICAgICAgICAgICBtYXR0ZXJCb21iLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZHluYW1pdGVcIjoge1xuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJleHBsb2RlXCIpO1xuICAgICAgICAgICAgICB0aGlzLnJhbmRvbUV4cGxvc2lvbkVmZmVjdChjaGFyYWN0ZXJQb3MpO1xuICAgICAgICAgICAgICBtYXR0ZXJCb21iLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5yYW5kb21CbG9vZEVmZmVjdChjaGFyYWN0ZXJQb3MpO1xuXG4gICAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiY29pbi1kcm9wXCIpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmVmZmVjdHMuc3Bhd25Db2luKGNoYXJhY3RlclBvcy54LCBjaGFyYWN0ZXJQb3MueSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgZGFtYWdlID0gdGhpcy5nZXRDdXJyZW50V2VhcG9uQ29uZmlnKCk/LmRhbWFnZSB8fCAwLjA1O1xuXG4gICAgICAgICAgRXZlbnRCdXMuZW1pdChcImhlYWx0aC1jaGFuZ2VkXCIsIGRhbWFnZSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc3RpY2t5Qm9tYk51bWJlcisrO1xuXG4gICAgICAvLyBBcHBseSBhcmMgdHJhamVjdG9yeVxuICAgICAgdGhpcy5zY2VuZS5tYXR0ZXIuc2V0VmVsb2NpdHkoXG4gICAgICAgIG1hdHRlckJvbWIsXG4gICAgICAgIE1hdGguY29zKGFuZ2xlKSAqIHRocm93Rm9yY2UsXG4gICAgICAgIE1hdGguc2luKGFuZ2xlKSAqIHRocm93Rm9yY2UgLSA1IC8vIE5lZ2F0aXZlIFkgZm9yIHVwd2FyZCBhcmNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwic3Bhd24gcHJvamVjdGlsZVwiKTtcbiAgICAgIGNvbnN0IG1hdHRlckJ1bGxldCA9IHRoaXMuc2NlbmUubWF0dGVyLmFkZC5nYW1lT2JqZWN0KHByb2plY3RpbGUsIHtcbiAgICAgICAgZnJpY3Rpb246IDAsXG4gICAgICAgIGZyaWN0aW9uU3RhdGljOiAwLFxuICAgICAgICBmcmljdGlvbkFpcjogMCxcbiAgICAgICAgcmVzdGl0dXRpb246IDEsXG4gICAgICAgIGRlbnNpdHk6IDAuMDA1LFxuICAgICAgICBhbmdsZTogYW5nbGUgKyBNYXRoLlBJLFxuICAgICAgICBpZ25vcmVQb2ludGVyOiB0cnVlLFxuICAgICAgICBzaGFwZToge1xuICAgICAgICAgIHR5cGU6IFwiY2lyY2xlXCIsXG4gICAgICAgICAgcmFkaXVzOiAxMCxcbiAgICAgICAgfSxcbiAgICAgICAgb25Db2xsaWRlQ2FsbGJhY2s6IChjb2xsaXNpb246IE1hdHRlckpTLklDb2xsaXNpb25QYWlyKSA9PiB7XG4gICAgICAgICAgaWYgKGhhc0NvbGxpZGVkKSByZXR1cm47XG4gICAgICAgICAgaGFzQ29sbGlkZWQgPSB0cnVlO1xuXG4gICAgICAgICAgY29uc3QgY29sbGlzaW9uUG9pbnQgPSB7XG4gICAgICAgICAgICB4OiBjb2xsaXNpb24uY29sbGlzaW9uLnN1cHBvcnRzWzBdPy54LFxuICAgICAgICAgICAgeTogY29sbGlzaW9uLmNvbGxpc2lvbi5zdXBwb3J0c1swXT8ueSxcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgICAgICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJycGdcIjpcbiAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwiZXhwbG9kZVwiKTtcbiAgICAgICAgICAgICAgdGhpcy5yYW5kb21FeHBsb3Npb25FZmZlY3QoY2hhcmFjdGVyUG9zKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmF5Z3VuXCI6XG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcInJheWd1bi1pbXBhY3RcIik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImtuaWZlXCI6XG4gICAgICAgICAgICAgIHRoaXMuc2NlbmUuc291bmQucGxheShcInRocm93a25pZmUtaW1wYWN0XCIpO1xuICAgICAgICAgICAgICB0aGlzLnJhbmRvbVNsYXNoRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImthdGFuYVwiOlxuICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJ0aHJvd2tuaWZlLWltcGFjdFwiKTtcbiAgICAgICAgICAgICAgdGhpcy5yYW5kb21TbGFzaEVmZmVjdChjaGFyYWN0ZXJQb3MpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBkYW1hZ2UgPSB0aGlzLmdldEN1cnJlbnRXZWFwb25Db25maWcoKT8uZGFtYWdlIHx8IDAuMDU7XG5cbiAgICAgICAgICB0aGlzLnJhbmRvbUJsb29kRWZmZWN0KGNoYXJhY3RlclBvcyk7XG5cbiAgICAgICAgICBFdmVudEJ1cy5lbWl0KFwiaGVhbHRoLWNoYW5nZWRcIiwgZGFtYWdlKTtcbiAgICAgICAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJjb2luLWRyb3BcIik7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuZWZmZWN0cy5zcGF3bkNvaW4oY2hhcmFjdGVyUG9zLngsIGNoYXJhY3RlclBvcy55KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWF0dGVyQnVsbGV0LmRlc3Ryb3koKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBTZXQgdmVsb2NpdHkgYmFzZWQgb24gYW5nbGUgdG8gdGFyZ2V0XG4gICAgICB0aGlzLnNjZW5lLm1hdHRlci5zZXRWZWxvY2l0eShcbiAgICAgICAgbWF0dGVyQnVsbGV0LFxuICAgICAgICBzcGVlZCAqIE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgc3BlZWQgKiBNYXRoLnNpbihhbmdsZSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByYW5kb21CbG9vZEVmZmVjdChjaGFyYWN0ZXJQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcbiAgICB0aGlzLnNjZW5lLnNvdW5kLnBsYXkoXCJibG9vZHNwdXJ0XCIpO1xuICAgIGNvbnN0IGJsb29kRWZmZWN0ID0gYGIke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMpICsgMX1gIGFzIEVmZmVjdFR5cGU7XG4gICAgY29uc3Qgb2Zmc2V0ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDUwLFxuICAgIH07XG4gICAgdGhpcy5lZmZlY3RzLnBsYXlFZmZlY3QoXG4gICAgICBibG9vZEVmZmVjdCxcbiAgICAgIGNoYXJhY3RlclBvcy54ICsgb2Zmc2V0LngsXG4gICAgICBjaGFyYWN0ZXJQb3MueSArIG9mZnNldC55XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmFuZG9tRXhwbG9zaW9uRWZmZWN0KGNoYXJhY3RlclBvczogUGhhc2VyLk1hdGguVmVjdG9yMik6IHZvaWQge1xuICAgIGNvbnN0IGV4cGxvc2lvbkVmZmVjdCA9IGBleHBsb3Npb24ke1xuICAgICAgTWF0aC5yYW5kb20oKSA8IDAuNSA/IDEgOiAyXG4gICAgfWAgYXMgRWZmZWN0VHlwZTtcbiAgICBjb25zdCBvZmZzZXQgPSB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMCxcbiAgICB9O1xuICAgIHRoaXMuZWZmZWN0cy5wbGF5RWZmZWN0KFxuICAgICAgZXhwbG9zaW9uRWZmZWN0LFxuICAgICAgY2hhcmFjdGVyUG9zLnggKyBvZmZzZXQueCxcbiAgICAgIGNoYXJhY3RlclBvcy55ICsgb2Zmc2V0LnlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByYW5kb21TbGFzaEVmZmVjdChjaGFyYWN0ZXJQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcbiAgICBjb25zdCBzbGFzaEVmZmVjdCA9IGBzbGFzaCR7XG4gICAgICBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDFcbiAgICB9YCBhcyBFZmZlY3RUeXBlO1xuICAgIGNvbnN0IG9mZnNldCA9IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwLFxuICAgIH07XG4gICAgdGhpcy5lZmZlY3RzLnBsYXlFZmZlY3QoXG4gICAgICBzbGFzaEVmZmVjdCxcbiAgICAgIGNoYXJhY3RlclBvcy54ICsgb2Zmc2V0LngsXG4gICAgICBjaGFyYWN0ZXJQb3MueSArIG9mZnNldC55XG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmFuZG9tRmlyZUVmZmVjdChjaGFyYWN0ZXJQb3M6IFBoYXNlci5NYXRoLlZlY3RvcjIpOiB2b2lkIHtcbiAgICBjb25zdCBmaXJlRWZmZWN0ID0gYGZpcmUke01hdGgucmFuZG9tKCkgPCAwLjUgPyAxIDogMn1gIGFzIEVmZmVjdFR5cGU7XG4gICAgY29uc3Qgb2Zmc2V0ID0ge1xuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgfTtcbiAgICB0aGlzLmVmZmVjdHMucGxheUVmZmVjdChcbiAgICAgIGZpcmVFZmZlY3QsXG4gICAgICBjaGFyYWN0ZXJQb3MueCArIG9mZnNldC54LFxuICAgICAgY2hhcmFjdGVyUG9zLnkgKyBvZmZzZXQueVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdXBkYXRlV2VhcG9uUG9zaXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLmN1cnJlbnRXZWFwb24gfHwgIXRoaXMuY2hhcmFjdGVyKSByZXR1cm47XG4gICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcbiAgICBjb25zdCBwb2ludGVyID0gdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyO1xuXG4gICAgY29uc3Qgd29ybGRQb2ludCA9IHBvaW50ZXIucG9zaXRpb25Ub0NhbWVyYShcbiAgICAgIHRoaXMuc2NlbmUuY2FtZXJhcy5tYWluXG4gICAgKSBhcyBQaGFzZXIuTWF0aC5WZWN0b3IyO1xuXG4gICAgdGhpcy5jdXJyZW50V2VhcG9uLnNldFBvc2l0aW9uKHdvcmxkUG9pbnQueCwgd29ybGRQb2ludC55KTtcblxuICAgIC8vIENhbGN1bGF0ZSBhbmdsZSBiZXR3ZWVuIHdlYXBvbiBhbmQgYm9keVxuICAgIGNvbnN0IGFuZ2xlID0gUGhhc2VyLk1hdGguQW5nbGUuQmV0d2VlbihcbiAgICAgIHRoaXMuY3VycmVudFdlYXBvbi54LFxuICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnksXG4gICAgICBjaGFyYWN0ZXJQb3MueCxcbiAgICAgIGNoYXJhY3RlclBvcy55XG4gICAgKTtcblxuICAgIC8vIEFkZCAxODAgZGVncmVlcyB0byBwb2ludCBiYXJyZWwgYXQgYm9keVxuICAgIGNvbnN0IGFkanVzdGVkQW5nbGUgPSBhbmdsZSArIE1hdGguUEk7XG5cbiAgICAvLyBOb3JtYWxpemUgYW5nbGUgYmV0d2VlbiAtz4AgYW5kIM+AXG4gICAgY29uc3Qgbm9ybWFsaXplZEFuZ2xlID1cbiAgICAgICgoYWRqdXN0ZWRBbmdsZSArIE1hdGguUEkpICUgKE1hdGguUEkgKiAyKSkgLSBNYXRoLlBJO1xuXG4gICAgLy8gRmxpcCB3ZWFwb24gd2hlbiBhbmdsZSB3b3VsZCBtYWtlIGl0IGFwcGVhciB1cHNpZGUgZG93blxuICAgIHRoaXMuZmxpcFggPVxuICAgICAgbm9ybWFsaXplZEFuZ2xlID4gTWF0aC5QSSAvIDIgfHwgbm9ybWFsaXplZEFuZ2xlIDwgLU1hdGguUEkgLyAyO1xuXG4gICAgdGhpcy5mbGlwWSA9XG4gICAgICBub3JtYWxpemVkQW5nbGUgPiBNYXRoLlBJIC8gMiB8fCBub3JtYWxpemVkQW5nbGUgPCAtTWF0aC5QSSAvIDI7XG4gICAgdGhpcy5jdXJyZW50V2VhcG9uLnNldEZsaXBYKHRoaXMuZmxpcFgpO1xuXG4gICAgLy8gU2V0IHJvdGF0aW9uIHdpdGggZmxpcCBhZGp1c3RtZW50XG4gICAgdGhpcy5jdXJyZW50V2VhcG9uLnNldFJvdGF0aW9uKFxuICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLmZsaXBYID8gYWRqdXN0ZWRBbmdsZSArIE1hdGguUEkgOiBhZGp1c3RlZEFuZ2xlXG4gICAgKTtcblxuICAgIC8vIFNjYWxlIGNvbnN0YW50cyBmb3Igd2VhcG9uIHRpcCBwb3NpdGlvbmluZ1xuICAgIC8vIERpZmZlcmVudCB3ZWFwb25zIG5lZWQgZGlmZmVyZW50IHNjYWxlIG11bHRpcGxpZXJzXG4gICAgbGV0IEdVTl9TQ0FMRTtcblxuICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbiAgICAgIGNhc2UgXCJrbmlmZVwiOlxuICAgICAgICBHVU5fU0NBTEUgPSB7XG4gICAgICAgICAgbGVuZ3RoOiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheVdpZHRoICogMC4zLFxuICAgICAgICAgIGJhcnJlbE9mZnNldDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlIZWlnaHQgKiAwLjAwMSxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmFpbGd1blwiOlxuICAgICAgICBHVU5fU0NBTEUgPSB7XG4gICAgICAgICAgbGVuZ3RoOiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheVdpZHRoICogMC4zLFxuICAgICAgICAgIGJhcnJlbE9mZnNldDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlIZWlnaHQgKiAwLjAwMSxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidG9tbXlcIjpcbiAgICAgICAgR1VOX1NDQUxFID0ge1xuICAgICAgICAgIGxlbmd0aDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlXaWR0aCAqIDAuNSxcbiAgICAgICAgICBiYXJyZWxPZmZzZXQ6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5SGVpZ2h0ICogMC4wOCxcbiAgICAgICAgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicnBnXCI6XG4gICAgICAgIEdVTl9TQ0FMRSA9IHtcbiAgICAgICAgICBsZW5ndGg6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5V2lkdGggKiAwLjMsXG4gICAgICAgICAgYmFycmVsT2Zmc2V0OiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheUhlaWdodCAqIDAuMDUsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm1nXCI6XG4gICAgICAgIEdVTl9TQ0FMRSA9IHtcbiAgICAgICAgICBsZW5ndGg6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5V2lkdGggKiAwLjMsXG4gICAgICAgICAgYmFycmVsT2Zmc2V0OiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheUhlaWdodCAqIDAuMTUsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImthcjk4XCI6XG4gICAgICAgIEdVTl9TQ0FMRSA9IHtcbiAgICAgICAgICBsZW5ndGg6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5V2lkdGggKiAwLjMsXG4gICAgICAgICAgYmFycmVsT2Zmc2V0OiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheUhlaWdodCAqIDAuMDUsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZsYW1ldGhyb3dlclwiOlxuICAgICAgICBHVU5fU0NBTEUgPSB7XG4gICAgICAgICAgbGVuZ3RoOiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheVdpZHRoICogMC4zLFxuICAgICAgICAgIGJhcnJlbE9mZnNldDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlIZWlnaHQgKiAwLjIsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBvZmZzZXQgYmFzZWQgb24gcm90YXRpb25cbiAgICAgICAgY29uc3QgRkxBTUVUSFJPV0VSX09GRlNFVCA9IDIwMDsgLy8gQWRqdXN0IHRoaXMgdmFsdWUgYXMgbmVlZGVkXG4gICAgICAgIGNvbnN0IG9mZnNldFggPSBNYXRoLmNvcyhub3JtYWxpemVkQW5nbGUpICogRkxBTUVUSFJPV0VSX09GRlNFVDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IE1hdGguc2luKG5vcm1hbGl6ZWRBbmdsZSkgKiBGTEFNRVRIUk9XRVJfT0ZGU0VUO1xuXG4gICAgICAgIC8vIEFkanVzdCB0aGUgd29ybGQgcG9pbnQgcG9zaXRpb24gYmVmb3JlIHNldHRpbmcgd2VhcG9uIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGFkanVzdGVkV29ybGRQb2ludCA9IHtcbiAgICAgICAgICB4OiB3b3JsZFBvaW50LnggLSBvZmZzZXRYLFxuICAgICAgICAgIHk6IHdvcmxkUG9pbnQueSAtIG9mZnNldFksXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gU2V0IHBvc2l0aW9uIHdpdGggb2Zmc2V0XG4gICAgICAgIHRoaXMuY3VycmVudFdlYXBvbi5zZXRQb3NpdGlvbihcbiAgICAgICAgICBhZGp1c3RlZFdvcmxkUG9pbnQueCxcbiAgICAgICAgICBhZGp1c3RlZFdvcmxkUG9pbnQueVxuICAgICAgICApO1xuICAgICAgICAvLyBVcGRhdGUgZmxhbWUgZGFtYWdlIGlmIHdlYXBvbiBpcyBhY3RpdmVcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMud2VhcG9uID09PSBcImZsYW1ldGhyb3dlclwiICYmXG4gICAgICAgICAgdGhpcy5zY2VuZS5pbnB1dC5hY3RpdmVQb2ludGVyLmlzRG93blxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUZsYW1lRGFtYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBHVU5fU0NBTEUgPSB7XG4gICAgICAgICAgbGVuZ3RoOiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheVdpZHRoICogMC4zLFxuICAgICAgICAgIGJhcnJlbE9mZnNldDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlIZWlnaHQgKiAwLjIsXG4gICAgICAgIH07XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB3ZWFwb24gdGlwIHBvc2l0aW9uXG4gICAgY29uc3QgdG90YWxBbmdsZSA9XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucm90YXRpb24gKyAodGhpcy5jdXJyZW50V2VhcG9uLmZsaXBYID8gTWF0aC5QSSA6IDApO1xuICAgIGNvbnN0IHBlcnBBbmdsZSA9IHRvdGFsQW5nbGUgKyBNYXRoLlBJIC8gMjtcblxuICAgIGNvbnN0IHRpcFggPVxuICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnggK1xuICAgICAgTWF0aC5jb3ModG90YWxBbmdsZSkgKiAtR1VOX1NDQUxFLmxlbmd0aCArXG4gICAgICBNYXRoLmNvcyhwZXJwQW5nbGUpICpcbiAgICAgICAgKHRoaXMuY3VycmVudFdlYXBvbi5mbGlwWFxuICAgICAgICAgID8gR1VOX1NDQUxFLmJhcnJlbE9mZnNldFxuICAgICAgICAgIDogLUdVTl9TQ0FMRS5iYXJyZWxPZmZzZXQpO1xuXG4gICAgY29uc3QgdGlwWSA9XG4gICAgICB0aGlzLmN1cnJlbnRXZWFwb24ueSArXG4gICAgICBNYXRoLnNpbih0b3RhbEFuZ2xlKSAqIC1HVU5fU0NBTEUubGVuZ3RoICtcbiAgICAgIE1hdGguc2luKHBlcnBBbmdsZSkgKlxuICAgICAgICAodGhpcy5jdXJyZW50V2VhcG9uLmZsaXBYXG4gICAgICAgICAgPyBHVU5fU0NBTEUuYmFycmVsT2Zmc2V0XG4gICAgICAgICAgOiAtR1VOX1NDQUxFLmJhcnJlbE9mZnNldCk7XG5cbiAgICB0aGlzLmJhcnJlbFBvaW50LnNldCh0aXBYLCB0aXBZKTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCk6IHZvaWQge1xuICAgIHRoaXMuc3RvcEZpcmluZygpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVDaGFpbnNhd0RhbWFnZSgpOiB2b2lkIHtcbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgaW5wdXQgaXMgbG9ja2VkXG4gICAgaWYgKHRoaXMuaW5wdXRTdGF0ZS5pc0xvY2tlZCkge1xuICAgICAgdGhpcy5zY2VuZS5zb3VuZC5zdG9wQnlLZXkoXCJjaGFpbnNhdy1maXJlXCIpO1xuICAgICAgaWYgKHRoaXMuZmlyaW5nVGltZXIpIHtcbiAgICAgICAgdGhpcy5maXJpbmdUaW1lci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZmlyaW5nVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xuXG4gICAgLy8gQ2hlY2sgaWYgZW5vdWdoIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSBsYXN0IGRhbWFnZVxuICAgIGlmIChcbiAgICAgIGN1cnJlbnRUaW1lIC0gdGhpcy5sYXN0RGFtYWdlVGltZSA8XG4gICAgICBXZWFwb24uQ0hBSU5TQVdfQ09ORklHLmRhbWFnZUludGVydmFsXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcblxuICAgIGlmICghdGhpcy5jdXJyZW50V2VhcG9uKSByZXR1cm47XG5cbiAgICAvLyBDYWxjdWxhdGUgZGlzdGFuY2UgYmV0d2VlbiBjaGFpbnNhdyB0aXAgYW5kIGNoYXJhY3RlclxuICAgIGNvbnN0IGRpc3RhbmNlID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2VlbihcbiAgICAgIHRoaXMuYmFycmVsUG9pbnQueCxcbiAgICAgIHRoaXMuYmFycmVsUG9pbnQueSxcbiAgICAgIGNoYXJhY3RlclBvcy54LFxuICAgICAgY2hhcmFjdGVyUG9zLnlcbiAgICApO1xuXG4gICAgLy8gT25seSBhcHBseSBkYW1hZ2UgaWYgd2l0aGluIHJhbmdlXG4gICAgaWYgKGRpc3RhbmNlIDw9IFdlYXBvbi5DSEFJTlNBV19DT05GSUcucmFuZ2UpIHtcbiAgICAgIC8vIEFwcGx5IGRhbWFnZVxuICAgICAgRXZlbnRCdXMuZW1pdChcImhlYWx0aC1jaGFuZ2VkXCIsIFdlYXBvbi5DSEFJTlNBV19DT05GSUcuZGFtYWdlUGVyVGljayk7XG5cbiAgICAgIC8vIFZpc3VhbCBlZmZlY3RzXG4gICAgICB0aGlzLnJhbmRvbUJsb29kRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICB0aGlzLnJhbmRvbVNsYXNoRWZmZWN0KGNoYXJhY3RlclBvcyk7XG5cbiAgICAgIC8vIFNwYXduIGZld2VyIGNvaW5zIHRoYW4gZmxhbWV0aHJvd2VyIGJ1dCBtb3JlIGZyZXF1ZW50bHlcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0cy5zcGF3bkNvaW4oY2hhcmFjdGVyUG9zLngsIGNoYXJhY3RlclBvcy55KTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5sYXN0RGFtYWdlVGltZSA9IGN1cnJlbnRUaW1lO1xuICAgIH1cblxuICAgIC8vIE9wdGlvbmFsOiBEZWJ1ZyB2aXN1YWxpemF0aW9uIG9mIHJhbmdlXG4gICAgaWYgKHRoaXMuZGVidWdHcmFwaGljcykge1xuICAgICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLmNsZWFyKCk7XG4gICAgICB0aGlzLmRlYnVnR3JhcGhpY3MubGluZVN0eWxlKDIsIDB4ZmYwMDAwLCAwLjUpO1xuICAgICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLnN0cm9rZUNpcmNsZShcbiAgICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICAgIFdlYXBvbi5DSEFJTlNBV19DT05GSUcucmFuZ2VcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIG5ldyBtZXRob2RzIGZvciBsaWdodHNhYmVyIGhhbmRsaW5nXG4gIHByaXZhdGUgc3RhcnRMaWdodHNhYmVyU3dpbmcoKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzTGlnaHRzYWJlck9wZW4pIHJldHVybjtcblxuICAgIHRoaXMuY3VycmVudFdlYXBvbj8ucGxheShcInNhYmVyc3dpcGVcIik7XG5cbiAgICAvLyBTdGFydCBkYW1hZ2UgY2hlY2tpbmdcbiAgICB0aGlzLmxpZ2h0c2FiZXJTd2luZ1RpbWVyID0gdGhpcy5zY2VuZS50aW1lLmFkZEV2ZW50KHtcbiAgICAgIGRlbGF5OiBXZWFwb24uTElHSFRTQUJFUl9DT05GSUcuZGFtYWdlSW50ZXJ2YWwsXG4gICAgICBjYWxsYmFjazogdGhpcy5jaGVja0xpZ2h0c2FiZXJEYW1hZ2UsXG4gICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2hlY2tMaWdodHNhYmVyRGFtYWdlKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5jdXJyZW50V2VhcG9uIHx8ICF0aGlzLmlzTGlnaHRzYWJlck9wZW4pIHJldHVybjtcblxuICAgIGNvbnN0IGNoYXJhY3RlclBvcyA9IHRoaXMuY2hhcmFjdGVyLmdldFBvc2l0aW9uKCk7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKFxuICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgdGhpcy5iYXJyZWxQb2ludC55LFxuICAgICAgY2hhcmFjdGVyUG9zLngsXG4gICAgICBjaGFyYWN0ZXJQb3MueVxuICAgICk7XG5cbiAgICBpZiAoZGlzdGFuY2UgPD0gV2VhcG9uLkxJR0hUU0FCRVJfQ09ORklHLnJhbmdlKSB7XG4gICAgICBFdmVudEJ1cy5lbWl0KFwiaGVhbHRoLWNoYW5nZWRcIiwgV2VhcG9uLkxJR0hUU0FCRVJfQ09ORklHLmRhbWFnZVBlclRpY2spO1xuICAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KFwibGlnaHRzYWJlci1oaXRcIik7XG4gICAgICB0aGlzLnJhbmRvbUJsb29kRWZmZWN0KGNoYXJhY3RlclBvcyk7XG4gICAgICB0aGlzLnJhbmRvbVNsYXNoRWZmZWN0KGNoYXJhY3RlclBvcyk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XG4gICAgICAgIHRoaXMuZWZmZWN0cy5zcGF3bkNvaW4oY2hhcmFjdGVyUG9zLngsIGNoYXJhY3RlclBvcy55KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWJ1ZyB2aXN1YWxpemF0aW9uXG4gICAgaWYgKHRoaXMuZGVidWdHcmFwaGljcykge1xuICAgICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLmNsZWFyKCk7XG4gICAgICB0aGlzLmRlYnVnR3JhcGhpY3MubGluZVN0eWxlKDIsIDB4MDBmZjAwLCAwLjUpO1xuICAgICAgdGhpcy5kZWJ1Z0dyYXBoaWNzLnN0cm9rZUNpcmNsZShcbiAgICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuICAgICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4gICAgICAgIFdlYXBvbi5MSUdIVFNBQkVSX0NPTkZJRy5yYW5nZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gcHJpdmF0ZSBwbGF5V2VhcG9uQW5pbWF0aW9uKCk6IHZvaWQge1xuLy8gICBpZiAoIXRoaXMuY3VycmVudFdlYXBvbiB8fCAhdGhpcy53ZWFwb24pIHJldHVybjtcblxuLy8gICBzd2l0Y2ggKHRoaXMud2VhcG9uKSB7XG4vLyAgICAgY2FzZSBcImRlYWdsZVwiOlxuLy8gICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnBsYXkoXCJkZWFnbGVGaXJlXCIpO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgY2FzZSBcInRvbW15XCI6XG4vLyAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucGxheShcInRvbW15RmlyZVwiKTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJycGdcIjpcbi8vICAgICAgIHRoaXMuY3VycmVudFdlYXBvbi5wbGF5KFwicnBnRmlyZVwiKTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJtZ1wiOlxuLy8gICAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnBsYXkoXCJtZ0ZpcmVcIik7XG4vLyAgICAgICBicmVhaztcbi8vICAgICBjYXNlIFwicmF5Z3VuXCI6XG4vLyAgICAgICB0aGlzLmN1cnJlbnRXZWFwb24ucGxheShcInJheWd1bkZpcmVcIik7XG4vLyAgICAgICBicmVhaztcbi8vICAgICBkZWZhdWx0OlxuLy8gICAgICAgcmV0dXJuO1xuLy8gICB9XG4vLyB9XG5cbi8vIHByaXZhdGUgcGxheVdlYXBvblNvdW5kKGNvbmZpZzogV2VhcG9uQ29uZmlnKTogdm9pZCB7XG4vLyAgIGlmIChjb25maWcuZmlyZVNvdW5kKSB7XG4vLyAgICAgdGhpcy5zY2VuZS5zb3VuZC5wbGF5KGNvbmZpZy5maXJlU291bmQpO1xuLy8gICB9XG4vLyB9XG5cbiJdLCJuYW1lcyI6WyJFdmVudEJ1cyIsIklucHV0U3RhdGUiLCJXZWFwb24iLCJUUklHR0VSX0RFTEFZIiwiRkxBTUVUSFJPV0VSX0NPTkZJRyIsImRhbWFnZVBlclRpY2siLCJkYW1hZ2VJbnRlcnZhbCIsInJhbmdlIiwiV0VBUE9OX0NPTkZJR1MiLCJrbmlmZSIsInRleHR1cmUiLCJ3aWR0aCIsImhlaWdodCIsIm5hbWUiLCJmaXJlU291bmQiLCJpbXBhY3RTb3VuZCIsImZpcmVSYXRlIiwiYnVyc3RTaXplIiwiZGFtYWdlIiwiaXNUaHJvd2FibGUiLCJzcGVjaWFsQ2FzZSIsInByb2plY3RpbGVTcGVlZCIsInByb2plY3RpbGVEaXNwbGF5U2l6ZSIsInByb2plY3RpbGVUZXh0dXJlIiwiZGVhZ2xlIiwiYW5pbWF0aW9uS2V5IiwicHJvamVjdGlsZVNjYWxlIiwieCIsInkiLCJncmVuYWRlIiwicHJvamVjdGlsZUNvbmZpZyIsInNoYXBlIiwidHlwZSIsInJhZGl1cyIsImFuZ3VsYXJWZWxvY2l0eSIsImxhYmVsIiwidG9tbXkiLCJidXJzdERlbGF5IiwiY2hhaW5zYXciLCJycGciLCJtZyIsImxpZ2h0c2FiZXIiLCJyYWlsZ3VuIiwicmF5Z3VuIiwiZHluYW1pdGUiLCJrYXRhbmEiLCJrYXI5OCIsImZsYW1ldGhyb3dlciIsIkNIQUlOU0FXX0NPTkZJRyIsIkxJR0hUU0FCRVJfQ09ORklHIiwic3dpbmdEZWxheSIsImNvbnN0cnVjdG9yIiwic2NlbmUiLCJjaGFyYWN0ZXIiLCJlZmZlY3RzIiwiZmxpcFgiLCJmbGlwWSIsImlzT3ZlcmNoYXJnZWQiLCJzdGlja3lCb21iTnVtYmVyIiwiaXNDaGFyZ2luZyIsImxhc3RGbGFtZURhbWFnZVRpbWUiLCJSQUlMR1VOX0NPTkZJRyIsIm1pbkNoYXJnZVRpbWUiLCJtYXhDaGFyZ2VUaW1lIiwib3ZlcmNoYXJnZURlbGF5IiwiaG9sZFNvdW5kIiwiY2hhcmdlU291bmQiLCJvdmVyY2hhcmdlU291bmQiLCJsYXN0RGFtYWdlVGltZSIsImlzTGlnaHRzYWJlck9wZW4iLCJ1cGRhdGVSYWlsZ3VuQ2hhcmdlIiwiY2hhcmdlU3RhcnRUaW1lIiwiY3VycmVudFRpbWUiLCJ0aW1lIiwibm93IiwiY2hhcmdlVGltZSIsInVwZGF0ZUNoYXJnZUVmZmVjdCIsInJhaWxndW5PdmVyY2hhcmdlIiwiaW5wdXRTdGF0ZSIsImdldEluc3RhbmNlIiwiYmFycmVsUG9pbnQiLCJQaGFzZXIiLCJNYXRoIiwiVmVjdG9yMiIsInNldHVwRXZlbnRMaXN0ZW5lcnMiLCJvbiIsInNldFdlYXBvbiIsInN0b3BGaXJpbmciLCJnZXRDdXJyZW50V2VhcG9uQ29uZmlnIiwid2VhcG9uIiwidW5kZWZpbmVkIiwiY3VycmVudFdlYXBvbiIsImRlc3Ryb3kiLCJjb25maWciLCJhZGQiLCJzcHJpdGUiLCJzZXREaXNwbGF5U2l6ZSIsInNldE5hbWUiLCJyZW1vdmVGcm9tRGlzcGxheUxpc3QiLCJzb3VuZCIsInN0b3BCeUtleSIsInBsYXkiLCJwbGF5RWZmZWN0Iiwic3RvcCIsImdldERpc3BsYXlMaXN0IiwiZGVsYXllZENhbGwiLCJmaXJpbmdUaW1lciIsImNoYXJnZVBlcmNlbnQiLCJtaW4iLCJzZXRUaW50IiwiaW50ZW5zaXR5IiwiZmxvb3IiLCJEaXNwbGF5IiwiQ29sb3IiLCJHZXRDb2xvciIsInN0YXJ0UmFpbGd1bkNoYXJnZSIsInZvbHVtZSIsImFkZEV2ZW50IiwiZGVsYXkiLCJjYWxsYmFjayIsImNhbGxiYWNrU2NvcGUiLCJsb29wIiwiZmlyZVJhaWxndW4iLCJiYXNlRGFtYWdlIiwiY2hhcmdlZERhbWFnZSIsInNwYXduUHJvamVjdGlsZSIsInVwZGF0ZUZsYW1lRGFtYWdlIiwiaXNMb2NrZWQiLCJjaGFyYWN0ZXJQb3MiLCJnZXRQb3NpdGlvbiIsImRpc3RhbmNlIiwiRGlzdGFuY2UiLCJCZXR3ZWVuIiwiZW1pdCIsInJhbmRvbUJsb29kRWZmZWN0IiwicmFuZG9tRmlyZUVmZmVjdCIsImkiLCJzcGF3bkNvaW4iLCJkZWJ1Z0dyYXBoaWNzIiwiY2xlYXIiLCJsaW5lU3R5bGUiLCJzdHJva2VDaXJjbGUiLCJzdGFydEZpcmluZyIsInRyaWdnZXJIb2xkU3RhcnRUaW1lIiwiYWRkVG9EaXNwbGF5TGlzdCIsInN0YXJ0TGlnaHRzYWJlclN3aW5nIiwidXBkYXRlQ2hhaW5zYXdEYW1hZ2UiLCJmb3JFYWNoIiwibGFzdEZpcmVkIiwiYnVyc3RDb3VudCIsImNhbkZpcmUiLCJhdHRlbXB0RmlyZSIsImlucHV0IiwiYWN0aXZlUG9pbnRlciIsImlzRG93biIsImZpcmVXZWFwb24iLCJsaWdodHNhYmVyU3dpbmdUaW1lciIsImRlYnVnRHJhd0ZsYW1lQXJlYSIsImdyYXBoaWNzIiwiZmlsbFN0eWxlIiwiZmlsbENpcmNsZSIsImhhc0NvbGxpZGVkIiwiYW5nbGUiLCJBbmdsZSIsImxhc2VyIiwicmVjdGFuZ2xlIiwic2V0T3JpZ2luIiwic2V0Um90YXRpb24iLCJzZXRQb3N0UGlwZWxpbmUiLCJyYW5kb21FeHBsb3Npb25FZmZlY3QiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJkdXJhdGlvbiIsImVhc2UiLCJvbkNvbXBsZXRlIiwic3BlZWQiLCJmcmljdGlvbiIsImZyaWN0aW9uU3RhdGljIiwiZnJpY3Rpb25BaXIiLCJyZXN0aXR1dGlvbiIsIlBJIiwiZGVuc2l0eSIsImlnbm9yZVBvaW50ZXIiLCJ0aHJvd0ZvcmNlIiwicHJvamVjdGlsZSIsImltYWdlIiwic2V0RmxpcFkiLCJzZXRTY2FsZSIsImNvbnNvbGUiLCJsb2ciLCJtYXR0ZXJCb21iIiwibWF0dGVyIiwiZ2FtZU9iamVjdCIsIm9uQ29sbGlkZUNhbGxiYWNrIiwiY29sbGlzaW9uIiwic2V0VmVsb2NpdHkiLCJjb3MiLCJzaW4iLCJtYXR0ZXJCdWxsZXQiLCJjb2xsaXNpb25Qb2ludCIsInN1cHBvcnRzIiwicmFuZG9tU2xhc2hFZmZlY3QiLCJibG9vZEVmZmVjdCIsInJhbmRvbSIsIm9mZnNldCIsImV4cGxvc2lvbkVmZmVjdCIsInNsYXNoRWZmZWN0IiwiZmlyZUVmZmVjdCIsInVwZGF0ZVdlYXBvblBvc2l0aW9uIiwicG9pbnRlciIsIndvcmxkUG9pbnQiLCJwb3NpdGlvblRvQ2FtZXJhIiwiY2FtZXJhcyIsIm1haW4iLCJzZXRQb3NpdGlvbiIsImFkanVzdGVkQW5nbGUiLCJub3JtYWxpemVkQW5nbGUiLCJzZXRGbGlwWCIsIkdVTl9TQ0FMRSIsImxlbmd0aCIsImRpc3BsYXlXaWR0aCIsImJhcnJlbE9mZnNldCIsImRpc3BsYXlIZWlnaHQiLCJGTEFNRVRIUk9XRVJfT0ZGU0VUIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJhZGp1c3RlZFdvcmxkUG9pbnQiLCJ0b3RhbEFuZ2xlIiwicm90YXRpb24iLCJwZXJwQW5nbGUiLCJ0aXBYIiwidGlwWSIsInNldCIsImNoZWNrTGlnaHRzYWJlckRhbWFnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/game/classes/Weapon.ts\n");

/***/ }),

/***/ "./src/game/config.ts":
/*!****************************!*\
  !*** ./src/game/config.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CHARACTER_HEIGHT: () => (/* binding */ CHARACTER_HEIGHT),\n/* harmony export */   CHARACTER_WIDTH: () => (/* binding */ CHARACTER_WIDTH),\n/* harmony export */   GAME_HEIGHT: () => (/* binding */ GAME_HEIGHT),\n/* harmony export */   GAME_WIDTH: () => (/* binding */ GAME_WIDTH),\n/* harmony export */   JOINT_LENGTH: () => (/* binding */ JOINT_LENGTH),\n/* harmony export */   JOINT_STIFFNESS: () => (/* binding */ JOINT_STIFFNESS),\n/* harmony export */   SLOP: () => (/* binding */ SLOP)\n/* harmony export */ });\nconst GAME_WIDTH = 1280;\nconst GAME_HEIGHT = 720;\nconst JOINT_LENGTH = 10;\nconst JOINT_STIFFNESS = 1;\nconst CHARACTER_HEIGHT = 100;\nconst CHARACTER_WIDTH = 100;\nconst SLOP = 10;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9jb25maWcudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFPLE1BQU1BLGFBQWEsS0FBSztBQUN4QixNQUFNQyxjQUFjLElBQUk7QUFFeEIsTUFBTUMsZUFBZSxHQUFHO0FBQ3hCLE1BQU1DLGtCQUFrQixFQUFFO0FBQzFCLE1BQU1DLG1CQUFtQixJQUFJO0FBQzdCLE1BQU1DLGtCQUFrQixJQUFJO0FBQzVCLE1BQU1DLE9BQU8sR0FBRyIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvY29uZmlnLnRzP2ZiNmEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IEdBTUVfV0lEVEggPSAxMjgwO1xuZXhwb3J0IGNvbnN0IEdBTUVfSEVJR0hUID0gNzIwO1xuXG5leHBvcnQgY29uc3QgSk9JTlRfTEVOR1RIID0gMTA7XG5leHBvcnQgY29uc3QgSk9JTlRfU1RJRkZORVNTID0gMTtcbmV4cG9ydCBjb25zdCBDSEFSQUNURVJfSEVJR0hUID0gMTAwO1xuZXhwb3J0IGNvbnN0IENIQVJBQ1RFUl9XSURUSCA9IDEwMDtcbmV4cG9ydCBjb25zdCBTTE9QID0gMTA7Il0sIm5hbWVzIjpbIkdBTUVfV0lEVEgiLCJHQU1FX0hFSUdIVCIsIkpPSU5UX0xFTkdUSCIsIkpPSU5UX1NUSUZGTkVTUyIsIkNIQVJBQ1RFUl9IRUlHSFQiLCJDSEFSQUNURVJfV0lEVEgiLCJTTE9QIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/config.ts\n");

/***/ }),

/***/ "./src/game/main.ts":
/*!**************************!*\
  !*** ./src/game/main.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _scenes_Boot__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scenes/Boot */ \"./src/game/scenes/Boot.ts\");\n/* harmony import */ var _scenes_Game__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scenes/Game */ \"./src/game/scenes/Game.ts\");\n/* harmony import */ var _scenes_Preloader__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scenes/Preloader */ \"./src/game/scenes/Preloader.ts\");\n/* harmony import */ var _scenes_MainMenu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./scenes/MainMenu */ \"./src/game/scenes/MainMenu.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nconst config = {\n    type: phaser__WEBPACK_IMPORTED_MODULE_4__.AUTO,\n    width: 1280,\n    height: 720,\n    parent: \"game-container\",\n    scale: {\n        mode: Phaser.Scale.FIT,\n        parent: \"game-container\",\n        autoCenter: Phaser.Scale.CENTER_BOTH,\n        min: {\n            width: 640,\n            height: 360\n        },\n        max: {\n            width: 1280,\n            height: 720\n        },\n        zoom: 1\n    },\n    autoRound: false,\n    backgroundColor: \"#30cfd0\",\n    scene: [\n        _scenes_Boot__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n        _scenes_MainMenu__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        _scenes_Preloader__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n        _scenes_Game__WEBPACK_IMPORTED_MODULE_1__[\"default\"]\n    ],\n    plugins: {},\n    physics: {\n        default: \"matter\",\n        matter: {\n            // constraintIterations: 10,\n            enableSleeping: true\n        }\n    }\n};\nconst StartGame = (parent)=>{\n    return new phaser__WEBPACK_IMPORTED_MODULE_4__.Game({\n        ...config,\n        parent\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (StartGame);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9tYWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUM7QUFDSTtBQUNNO0FBQ0Y7QUFDTDtBQUVwQyxNQUFNTSxTQUF1QztJQUMzQ0MsTUFBTUgsd0NBQUlBO0lBQ1ZJLE9BQU87SUFDUEMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLE9BQU87UUFDTEMsTUFBTUMsT0FBT0MsS0FBSyxDQUFDQyxHQUFHO1FBQ3RCTCxRQUFRO1FBQ1JNLFlBQVlILE9BQU9DLEtBQUssQ0FBQ0csV0FBVztRQUNwQ0MsS0FBSztZQUNIVixPQUFPO1lBQ1BDLFFBQVE7UUFDVjtRQUNBVSxLQUFLO1lBQ0hYLE9BQU87WUFDUEMsUUFBUTtRQUNWO1FBQ0FXLE1BQU07SUFDUjtJQUNBQyxXQUFXO0lBRVhDLGlCQUFpQjtJQUNqQkMsT0FBTztRQUFDdkIsb0RBQUlBO1FBQUVHLHdEQUFRQTtRQUFFRCx5REFBU0E7UUFBRUQsb0RBQVFBO0tBQUM7SUFDNUN1QixTQUFTLENBQUM7SUFDVkMsU0FBUztRQUNQQyxTQUFTO1FBQ1RDLFFBQVE7WUFDTiw0QkFBNEI7WUFDNUJDLGdCQUFnQjtRQWtFbEI7SUFDRjtBQUNGO0FBRUEsTUFBTUMsWUFBWSxDQUFDbkI7SUFDakIsT0FBTyxJQUFJTCx3Q0FBSUEsQ0FBQztRQUFFLEdBQUdDLE1BQU07UUFBRUk7SUFBTztBQUN0QztBQUVBLGlFQUFlbUIsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3BoYXNlci1lZGl0b3ItdGVtcGxhdGUtbmV4dGpzLy4vc3JjL2dhbWUvbWFpbi50cz81MDc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCb290IGZyb20gXCIuL3NjZW5lcy9Cb290XCI7XG5pbXBvcnQgTWFpbkdhbWUgZnJvbSBcIi4vc2NlbmVzL0dhbWVcIjtcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSBcIi4vc2NlbmVzL1ByZWxvYWRlclwiO1xuaW1wb3J0IE1haW5NZW51IGZyb20gXCIuL3NjZW5lcy9NYWluTWVudVwiO1xuaW1wb3J0IHsgQVVUTywgR2FtZSB9IGZyb20gXCJwaGFzZXJcIjtcblxuY29uc3QgY29uZmlnOiBQaGFzZXIuVHlwZXMuQ29yZS5HYW1lQ29uZmlnID0ge1xuICB0eXBlOiBBVVRPLFxuICB3aWR0aDogMTI4MCxcbiAgaGVpZ2h0OiA3MjAsXG4gIHBhcmVudDogXCJnYW1lLWNvbnRhaW5lclwiLFxuICBzY2FsZToge1xuICAgIG1vZGU6IFBoYXNlci5TY2FsZS5GSVQsXG4gICAgcGFyZW50OiBcImdhbWUtY29udGFpbmVyXCIsXG4gICAgYXV0b0NlbnRlcjogUGhhc2VyLlNjYWxlLkNFTlRFUl9CT1RILFxuICAgIG1pbjoge1xuICAgICAgd2lkdGg6IDY0MCxcbiAgICAgIGhlaWdodDogMzYwLFxuICAgIH0sXG4gICAgbWF4OiB7XG4gICAgICB3aWR0aDogMTI4MCxcbiAgICAgIGhlaWdodDogNzIwLFxuICAgIH0sXG4gICAgem9vbTogMSxcbiAgfSxcbiAgYXV0b1JvdW5kOiBmYWxzZSxcblxuICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMwY2ZkMFwiLFxuICBzY2VuZTogW0Jvb3QsIE1haW5NZW51LCBQcmVsb2FkZXIsIE1haW5HYW1lXSxcbiAgcGx1Z2luczoge30sXG4gIHBoeXNpY3M6IHtcbiAgICBkZWZhdWx0OiBcIm1hdHRlclwiLFxuICAgIG1hdHRlcjoge1xuICAgICAgLy8gY29uc3RyYWludEl0ZXJhdGlvbnM6IDEwLFxuICAgICAgZW5hYmxlU2xlZXBpbmc6IHRydWUsXG4gICAgICAvLyBkZWJ1Zzoge1xuICAgICAgLy8gICBzaG93QXhlczogZmFsc2UsXG4gICAgICAvLyAgIHNob3dBbmdsZUluZGljYXRvcjogdHJ1ZSxcbiAgICAgIC8vICAgYW5nbGVDb2xvcjogMHhlODExNTMsXG5cbiAgICAgIC8vICAgLy8gc2hvd0Jyb2FkcGhhc2U6IGZhbHNlLFxuICAgICAgLy8gICAvLyBicm9hZHBoYXNlQ29sb3I6IDB4ZmZiNDAwLFxuXG4gICAgICAvLyAgIHNob3dCb3VuZHM6IHRydWUsXG4gICAgICAvLyAgIGJvdW5kc0NvbG9yOiAweGZmMDAwMCxcblxuICAgICAgLy8gICBzaG93VmVsb2NpdHk6IHRydWUsXG4gICAgICAvLyAgIHZlbG9jaXR5Q29sb3I6IDB4MDBhZWVmLFxuXG4gICAgICAvLyAgIHNob3dDb2xsaXNpb25zOiB0cnVlLFxuICAgICAgLy8gICBjb2xsaXNpb25Db2xvcjogMHhmNTk1MGMsXG5cbiAgICAgIC8vICAgc2hvd1NlcGFyYXRpb246IGZhbHNlLFxuICAgICAgLy8gICBzZXBhcmF0aW9uQ29sb3I6IDB4ZmZhNTAwLFxuXG4gICAgICAvLyAgIHNob3dCb2R5OiB0cnVlLFxuICAgICAgLy8gICBzaG93U3RhdGljQm9keTogdHJ1ZSxcbiAgICAgIC8vICAgc2hvd0ludGVybmFsRWRnZXM6IHRydWUsXG5cbiAgICAgIC8vICAgcmVuZGVyRmlsbDogZmFsc2UsXG4gICAgICAvLyAgIHJlbmRlckxpbmU6IHRydWUsXG5cbiAgICAgIC8vICAgZmlsbENvbG9yOiAweDEwNjkwOSxcbiAgICAgIC8vICAgZmlsbE9wYWNpdHk6IDEsXG4gICAgICAvLyAgIGxpbmVDb2xvcjogMHgyOGRlMTksXG4gICAgICAvLyAgIGxpbmVPcGFjaXR5OiAxLFxuICAgICAgLy8gICBsaW5lVGhpY2tuZXNzOiAxLFxuXG4gICAgICAvLyAgIHN0YXRpY0ZpbGxDb2xvcjogMHgwZDE3N2IsXG4gICAgICAvLyAgIHN0YXRpY0xpbmVDb2xvcjogMHgxMzI3ZTQsXG5cbiAgICAgIC8vICAgc2hvd1NsZWVwaW5nOiB0cnVlLFxuICAgICAgLy8gICBzdGF0aWNCb2R5U2xlZXBPcGFjaXR5OiAxLFxuICAgICAgLy8gICBzbGVlcEZpbGxDb2xvcjogMHg0NjQ2NDYsXG4gICAgICAvLyAgIHNsZWVwTGluZUNvbG9yOiAweDk5OWE5OSxcblxuICAgICAgLy8gICBzaG93U2Vuc29yczogdHJ1ZSxcbiAgICAgIC8vICAgc2Vuc29yRmlsbENvbG9yOiAweDBkMTc3YixcbiAgICAgIC8vICAgc2Vuc29yTGluZUNvbG9yOiAweDEzMjdlNCxcblxuICAgICAgLy8gICBzaG93UG9zaXRpb25zOiB0cnVlLFxuICAgICAgLy8gICBwb3NpdGlvblNpemU6IDQsXG4gICAgICAvLyAgIHBvc2l0aW9uQ29sb3I6IDB4ZTA0MmRhLFxuXG4gICAgICAvLyAgIHNob3dKb2ludDogdHJ1ZSxcbiAgICAgIC8vICAgam9pbnRDb2xvcjogMHhlMGUwNDIsXG4gICAgICAvLyAgIGpvaW50TGluZU9wYWNpdHk6IDEsXG4gICAgICAvLyAgIGpvaW50TGluZVRoaWNrbmVzczogMixcblxuICAgICAgLy8gICBwaW5TaXplOiA0LFxuICAgICAgLy8gICBwaW5Db2xvcjogMHg0MmUwZTAsXG5cbiAgICAgIC8vICAgc3ByaW5nQ29sb3I6IDB4ZTA0MmUwLFxuXG4gICAgICAvLyAgIGFuY2hvckNvbG9yOiAweGVmZWZlZixcbiAgICAgIC8vICAgYW5jaG9yU2l6ZTogNCxcblxuICAgICAgLy8gICBzaG93Q29udmV4SHVsbHM6IHRydWUsXG4gICAgICAvLyAgIGh1bGxDb2xvcjogMHhkNzAzZDAsXG4gICAgICAvLyB9LFxuICAgIH0sXG4gIH0sXG59O1xuXG5jb25zdCBTdGFydEdhbWUgPSAocGFyZW50OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIG5ldyBHYW1lKHsgLi4uY29uZmlnLCBwYXJlbnQgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTdGFydEdhbWU7XG5cbiJdLCJuYW1lcyI6WyJCb290IiwiTWFpbkdhbWUiLCJQcmVsb2FkZXIiLCJNYWluTWVudSIsIkFVVE8iLCJHYW1lIiwiY29uZmlnIiwidHlwZSIsIndpZHRoIiwiaGVpZ2h0IiwicGFyZW50Iiwic2NhbGUiLCJtb2RlIiwiUGhhc2VyIiwiU2NhbGUiLCJGSVQiLCJhdXRvQ2VudGVyIiwiQ0VOVEVSX0JPVEgiLCJtaW4iLCJtYXgiLCJ6b29tIiwiYXV0b1JvdW5kIiwiYmFja2dyb3VuZENvbG9yIiwic2NlbmUiLCJwbHVnaW5zIiwicGh5c2ljcyIsImRlZmF1bHQiLCJtYXR0ZXIiLCJlbmFibGVTbGVlcGluZyIsIlN0YXJ0R2FtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/game/main.ts\n");

/***/ }),

/***/ "./src/game/scenes/Boot.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Boot.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Boot)\n/* harmony export */ });\n/* harmony import */ var _lib_sets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/sets */ \"./src/lib/sets.ts\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass Boot extends phaser__WEBPACK_IMPORTED_MODULE_1__.Scene {\n    constructor(){\n        super(\"Boot\");\n    }\n    preload() {\n        this.load.pack(\"pack\", \"assets/boot-asset-pack.json\");\n    }\n    createMarketcap() {\n        this.registry.set(\"marketcap\", _lib_sets__WEBPACK_IMPORTED_MODULE_0__.MARKETCAP);\n    }\n    create() {\n        this.createMarketcap();\n        this.scene.start(\"MainMenu\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS9zY2VuZXMvQm9vdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXVDO0FBQ1I7QUFFaEIsTUFBTUUsYUFBYUQseUNBQUtBO0lBQ3JDRSxhQUFjO1FBQ1osS0FBSyxDQUFDO0lBQ1I7SUFFQUMsVUFBVTtRQUNSLElBQUksQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUMsUUFBUTtJQUN6QjtJQUVRQyxrQkFBd0I7UUFDOUIsSUFBSSxDQUFDQyxRQUFRLENBQUNDLEdBQUcsQ0FBQyxhQUFhVCxnREFBU0E7SUFDMUM7SUFFQVUsU0FBUztRQUNQLElBQUksQ0FBQ0gsZUFBZTtRQUNwQixJQUFJLENBQUNJLEtBQUssQ0FBQ0MsS0FBSyxDQUFDO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waGFzZXItZWRpdG9yLXRlbXBsYXRlLW5leHRqcy8uL3NyYy9nYW1lL3NjZW5lcy9Cb290LnRzPzhlZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTUFSS0VUQ0FQIH0gZnJvbSBcIkAvbGliL3NldHNcIjtcbmltcG9ydCB7IFNjZW5lIH0gZnJvbSBcInBoYXNlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCb290IGV4dGVuZHMgU2NlbmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcIkJvb3RcIik7XG4gIH1cblxuICBwcmVsb2FkKCkge1xuICAgIHRoaXMubG9hZC5wYWNrKFwicGFja1wiLCBcImFzc2V0cy9ib290LWFzc2V0LXBhY2suanNvblwiKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlTWFya2V0Y2FwKCk6IHZvaWQge1xuICAgIHRoaXMucmVnaXN0cnkuc2V0KFwibWFya2V0Y2FwXCIsIE1BUktFVENBUCk7XG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgdGhpcy5jcmVhdGVNYXJrZXRjYXAoKTtcbiAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiTWFpbk1lbnVcIik7XG4gIH1cbn1cblxuIl0sIm5hbWVzIjpbIk1BUktFVENBUCIsIlNjZW5lIiwiQm9vdCIsImNvbnN0cnVjdG9yIiwicHJlbG9hZCIsImxvYWQiLCJwYWNrIiwiY3JlYXRlTWFya2V0Y2FwIiwicmVnaXN0cnkiLCJzZXQiLCJjcmVhdGUiLCJzY2VuZSIsInN0YXJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/scenes/Boot.ts\n");

/***/ }),

/***/ "./src/game/scenes/Game.ts":
/*!*********************************!*\
  !*** ./src/game/scenes/Game.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Game)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _classes_Character__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../classes/Character */ \"./src/game/classes/Character.ts\");\n/* harmony import */ var _classes_GameButtons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../classes/GameButtons */ \"./src/game/classes/GameButtons.ts\");\n/* harmony import */ var _classes_Journal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../classes/Journal */ \"./src/game/classes/Journal.ts\");\n/* harmony import */ var _classes_ScoreBar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../classes/ScoreBar */ \"./src/game/classes/ScoreBar.ts\");\n/* harmony import */ var _classes_Weapon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../classes/Weapon */ \"./src/game/classes/Weapon.ts\");\n/* harmony import */ var _classes_Effects__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../classes/Effects */ \"./src/game/classes/Effects.ts\");\n\n\n\n\n\n\n\n\n//TODO: Fix sticky bomb, and lightsaber\n//TODO: make big coin drop on death\n//TODO: add buddy sounds\n//TODO: fix blob asset key for social buttons\n//TODO: optimize pack loading, split into smaller packs to make parallel loading possible\nclass Game extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(){\n        super(\"MainGame\");\n        this.pointerOver = false;\n        this.characterTiers = [\n            \"paper\",\n            \"sol\",\n            \"mil\",\n            \"musk\"\n        ];\n    }\n    init() {\n        this.matter.world.autoUpdate = false;\n        this.matter.world.setBounds(50, 50, 1180, 620, 1000);\n        // this.pointerConstraint = new Phaser.Physics.Matter.PointerConstraint(\n        //   this.scene.scene,\n        //   this.matter.world,\n        //   {\n        //     length: 0.1,\n        //     stiffness: 1,\n        //   }\n        // );\n        // this.matter.add.pointerConstraint({});\n        const canDrag = this.matter.world.nextGroup();\n        // this.matter.add.pointerConstraint({\n        //   collisionFilter: {\n        //     category: COLLISION_CATEGORIES.POINTER,\n        //     mask: COLLISION_CATEGORIES.BOUNDS,\n        //   },\n        // });\n        // this.matter.add.mouse\n        this.matter.add.mouseSpring({\n            length: 1,\n            stiffness: 1,\n            // @ts-ignore\n            collisionFilter: {\n                group: canDrag\n            }\n        });\n        // this.soundManager = new SoundManager(this);\n        this.scoreBar = new _classes_ScoreBar__WEBPACK_IMPORTED_MODULE_5__.ScoreBar({\n            scene: this,\n            x: 640,\n            y: 30,\n            width: 300,\n            health: 100\n        });\n        this.gameButtons = new _classes_GameButtons__WEBPACK_IMPORTED_MODULE_3__.GameButtons({\n            scene: this,\n            x: 75,\n            y: 200,\n            spacing: 110\n        });\n        this.journalManager = new _classes_Journal__WEBPACK_IMPORTED_MODULE_4__.JournalManager({\n            scene: this,\n            x: 1450,\n            // x: this.HIDDEN_X,\n            y: 360\n        });\n        this.effects = new _classes_Effects__WEBPACK_IMPORTED_MODULE_7__.Effects(this);\n        this.character = new _classes_Character__WEBPACK_IMPORTED_MODULE_2__.Character({\n            scene: this,\n            x: 512,\n            y: 200,\n            tier: this.characterTiers[this.data.get(\"tier\")] ?? \"paper\",\n            collisionGroup: canDrag\n        }, this.effects);\n        this.weaponObject = new _classes_Weapon__WEBPACK_IMPORTED_MODULE_6__.Weapon(this, this.character, this.effects);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"bg-change\", (bg)=>{\n            this.bg.setTexture(bg);\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"pointer-over-button\", ()=>{\n            this.pointerOver = true;\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"pointer-out-button\", ()=>{\n            this.pointerOver = false;\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"skin-equipped\", (skin)=>{\n            this.character.changeSkin(skin);\n        });\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.on(\"character-out-of-bounds\", ()=>{\n        // this.pointerConstraint.stopDrag();\n        });\n        this.input.on(\"pointerdown\", ()=>{\n            if (!this.weaponObject) return;\n            // this.pointerConstraint.active = false;\n            this.weaponObject.startFiring();\n        });\n        this.input.on(\"pointerup\", ()=>{\n            if (!this.weaponObject) return;\n            // this.pointerConstraint.active = true;\n            this.weaponObject.stopFiring();\n        });\n        this.events.emit(\"scene-awake\");\n    }\n    create() {\n        this.bg = this.add.image(1280 / 2, 720 / 2, \"bg-main\").setDisplaySize(1280, 720).setDepth(-2);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"current-scene-ready\", this);\n    }\n    update(time, delta) {\n        this.updatePhysics(delta);\n        // Display FPS counter\n        this.character.update();\n        this.weaponObject.updateWeaponPosition();\n    }\n    updatePhysics(delta) {\n        // Run physics at 60Hz (16.666ms per step) for smooth simulation\n        // This is a common refresh rate that balances smoothness and performance\n        const fixedTimeStep = 1000 / 300; // Increased to 120Hz for smoother physics\n        // Allow up to 3 steps per frame to prevent spiral of death\n        // if frame rate drops temporarily\n        const maxSteps = Math.min(3, Math.floor(delta / fixedTimeStep));\n        // Run physics updates to catch up with any accumulated time\n        for(let i = 0; i < maxSteps; i++){\n            this.matter.world.step(fixedTimeStep);\n        }\n    }\n    changeScene() {\n        this.scene.start(\"GameOver\");\n    }\n    shutdown() {\n        this.character.destroy();\n        this.weaponObject.destroy();\n        this.fpsText.destroy();\n        this.bg.destroy();\n        this.input.destroy();\n        this.events.destroy();\n        this.sound.destroy();\n        this.scoreBar.destroy();\n        this.journalManager.destroy();\n    }\n} // private head!: Phaser.Physics.Matter.Image;\n // private body!: Phaser.Physics.Matter.Image;\n // private leftArm!: Phaser.Physics.Matter.Image;\n // private rightArm!: Phaser.Physics.Matter.Image;\n // private leftLeg!: Phaser.Physics.Matter.Image;\n // private rightLeg!: Phaser.Physics.Matter.Image;\n // private bloodSplatter!: Phaser.GameObjects.Sprite;\n // private explosion!: Phaser.GameObjects.Sprite;\n // private currentTierText!: Phaser.GameObjects.Text;\n // private currentWeapon?: Phaser.GameObjects.Sprite;\n // private pointerOver: boolean = false;\n // private barrelPoint!: Phaser.Math.Vector2;\n // private killCountText!: Phaser.GameObjects.Text;\n // // Weapons\n // private showWeapon = false;\n // private weapon?: GameWeaponKey;\n // private weaponText!: Phaser.GameObjects.Text;\n // private weaponButtons: Map<string, TextButton> = new Map();\n // private weaponSelectionArea!: Phaser.GameObjects.Rectangle;\n // private firingTimer?: Phaser.Time.TimerEvent;\n // private debugButton!: TextButton;\n // this.weaponText = this.add.text(\n //   850,\n //   30,\n //   `Weapon: ${this.weapon ?? \"none\"}`,\n //   {\n //     fontSize: \"16px\",\n //     color: \"#ffffff\",\n //   }\n // );\n // this.currentTierText = this.add.text(\n //   1150,\n //   90,\n //   `Tier: ${this.data.get(\"tier\") ?? \"none\"}`,\n //   {\n //     fontSize: \"16px\",\n //     color: \"#ffffff\",\n //   }\n // );\n // this.updateWeaponPosition();\n // Hide weapon if pointer is in weapon selection area and weapon is equipped\n // this.weaponSelectionAreaPointerOver();\n // this.weaponText.setText(`Weapon: ${this.weapon ?? \"none\"}`);\n // this.currentTierText.setText(`Tier: ${this.data.get(\"tier\") ?? \"none\"}`);\n // updateWeaponPosition() {\n //   if (!this.currentWeapon) {\n //     return;\n //   }\n //   const characterPos = this.character.getPosition();\n //   const pointer = this.input.activePointer;\n //   const worldPoint = pointer.positionToCamera(\n //     this.cameras.main\n //   ) as Phaser.Math.Vector2;\n //   this.currentWeapon.setPosition(worldPoint.x, worldPoint.y);\n //   // Calculate angle between weapon and body\n //   const angle = Phaser.Math.Angle.Between(\n //     this.currentWeapon.x,\n //     this.currentWeapon.y,\n //     characterPos.x,\n //     characterPos.y\n //   );\n //   // Add 180 degrees to point barrel at body\n //   const adjustedAngle = angle + Math.PI;\n //   // Normalize angle between -π and π\n //   const normalizedAngle =\n //     ((adjustedAngle + Math.PI) % (Math.PI * 2)) - Math.PI;\n //   // Flip weapon when angle would make it appear upside down\n //   this.currentWeapon.setFlipX(\n //     normalizedAngle > Math.PI / 2 || normalizedAngle < -Math.PI / 2\n //   );\n //   // Set rotation with flip adjustment\n //   this.currentWeapon.setRotation(\n //     this.currentWeapon.flipX ? adjustedAngle + Math.PI : adjustedAngle\n //   );\n //   // Scale constants for weapon tip positioning\n //   // Different weapons need different scale multipliers\n //   const GUN_SCALE =\n //     this.weapon === \"tommy\"\n //       ? {\n //           length: this.currentWeapon.displayWidth * 0.5,\n //           barrelOffset: this.currentWeapon.displayHeight * 0.08,\n //         }\n //       : {\n //           length: this.currentWeapon.displayWidth * 0.3,\n //           barrelOffset: this.currentWeapon.displayHeight * 0.2,\n //         };\n //   // Calculate weapon tip position\n //   const totalAngle =\n //     this.currentWeapon.rotation + (this.currentWeapon.flipX ? Math.PI : 0);\n //   const perpAngle = totalAngle + Math.PI / 2;\n //   const tipX =\n //     this.currentWeapon.x +\n //     Math.cos(totalAngle) * -GUN_SCALE.length +\n //     Math.cos(perpAngle) *\n //       (this.currentWeapon.flipX\n //         ? GUN_SCALE.barrelOffset\n //         : -GUN_SCALE.barrelOffset);\n //   const tipY =\n //     this.currentWeapon.y +\n //     Math.sin(totalAngle) * -GUN_SCALE.length +\n //     Math.sin(perpAngle) *\n //       (this.currentWeapon.flipX\n //         ? GUN_SCALE.barrelOffset\n //         : -GUN_SCALE.barrelOffset);\n //   // this.weaponTip.setPosition(tipX, tipY);\n //   this.barrelPoint = new Phaser.Math.Vector2(tipX, tipY);\n // }\n // updateEffectPosition() {\n //   this.bloodSplatter.setPosition(this.body.x, this.body.y);\n //   this.explosion.setPosition(this.body.x, this.body.y);\n // }\n // weaponSelectionAreaPointerOver() {\n //   if (\n //     Phaser.Geom.Rectangle.Contains(\n //       this.weaponSelectionArea.getBounds(),\n //       this.input.activePointer.x,\n //       this.input.activePointer.y\n //     )\n //   ) {\n //     this.showWeapon = false;\n //   } else if (\n //     !Phaser.Geom.Rectangle.Contains(\n //       this.weaponSelectionArea.getBounds(),\n //       this.input.activePointer.x,\n //       this.input.activePointer.y\n //     ) &&\n //     !this.showWeapon\n //   ) {\n //     this.showWeapon = true;\n //   }\n // }\n // ensureCharacterBounds() {\n //   const isOutOfBounds = (part: Phaser.Physics.Matter.Image) => {\n //     return (\n //       part &&\n //       (part.x > GAME_WIDTH || part.x < 0) &&\n //       (part.y > GAME_HEIGHT || part.y < 0)\n //     );\n //   };\n //   if (\n //     isOutOfBounds(this.head) ||\n //     isOutOfBounds(this.body) ||\n //     isOutOfBounds(this.leftArm) ||\n //     isOutOfBounds(this.rightArm) ||\n //     isOutOfBounds(this.leftLeg) ||\n //     isOutOfBounds(this.rightLeg)\n //   ) {\n //     this.pointerConstraint.stopDrag();\n //     const centerX = this.game.renderer.width / 2;\n //     const centerY = this.game.renderer.height / 2;\n //     this.head.setPosition(512, 200);\n //     this.body.setPosition(512, 384);\n //     this.leftArm.setPosition(750, 200);\n //     this.rightArm.setPosition(350, 200);\n //     this.leftLeg.setPosition(350, 500);\n //     this.rightLeg.setPosition(750, 500);\n //   }\n // }\n // private createHealthBar() {\n //   // Create health bar background\n //   const healthBarBackground = this.add.rectangle(\n //     1280 / 2,\n //     30,\n //     300,\n //     20,\n //     0x000000\n //   );\n //   healthBarBackground.setScrollFactor(0);\n //   // Create health bar fill\n //   const healthBarFill = this.add.rectangle(1280 / 2, 30, 300, 20, 0xff0000);\n //   healthBarFill.setScrollFactor(0);\n //   // Create health text\n //   const healthText = this.add.text(1280 / 2, 30, `${this.health}%`, {\n //     fontSize: \"16px\",\n //     color: \"#ffffff\",\n //   });\n //   healthText.setOrigin(0.5);\n //   healthText.setScrollFactor(0);\n //   this.killCountText = this.add.text(1150, 60, `Kills: 0`, {\n //     fontSize: \"16px\",\n //     color: \"#ffffff\",\n //   });\n //   // Update health bar when health changes\n //   this.events.on(\"health-changed\", () => {\n //     console.log(\"health changed\", this.health);\n //     const healthPercent = this.health / 100;\n //     healthBarFill.setScale(healthPercent, 1);\n //     healthBarFill.setX(GAME_WIDTH / 2 - (300 * (1 - healthPercent)) / 2);\n //     healthText.setText(`${this.health.toFixed(2)}%`);\n //   });\n // }\n // export class Weapon extends Phaser.GameObjects.Sprite {\n //   private weaponType:\n //     | \"fist\"\n //     | \"knives\"\n //     | \"desert-eagle\"\n //     | \"tommy-gun\"\n //     | \"rocket-launcher\";\n //   public barrelPoint: Phaser.GameObjects.Arc;\n //   constructor(\n //     scene: Scene,\n //     x: number,\n //     y: number,\n //     weaponType:\n //       | \"fist\"\n //       | \"knives\"\n //       | \"desert-eagle\"\n //       | \"tommy-gun\"\n //       | \"rocket-launcher\",\n //     texture: string\n //   ) {\n //     super(scene, x, y, texture);\n //     this.weaponType = weaponType;\n //     this.barrelPoint = scene.add.circle(x, y, 4, 0xff0000);\n //   }\n //   init() {\n //     this.setDisplaySize(200, 100);\n //     return this;\n //   }\n //   fire() {\n //     // Don't fire if using fists\n //     if (this.weaponType === \"fist\") {\n //       return;\n //     }\n //     // Calculate spawn position offset based on gun angle and flip\n //     const spawnOffset = this.flipX ? -100 : 100;\n //     const spawnX = this.x + spawnOffset;\n //     // Play weapon firing animation if it exists\n //     if (this.weaponType === \"desert-eagle\") {\n //       this.play(\"fireDeagle\").on(\n //         Phaser.Animations.Events.ANIMATION_COMPLETE,\n //         () => {\n //           this.scene.events.emit(\"weapon-fired\");\n //         }\n //       );\n //     } else if (this.weaponType === \"tommy-gun\") {\n //       this.play(\"fireTommy\");\n //     }\n //     // Spawn the projectile\n //     this.spawnProjectile(\n //       new Phaser.Math.Vector2(spawnX, this.y),\n //       new Phaser.Math.Vector2(\n //         this.scene.children.getByName(\"body\")?.body?.position.x,\n //         this.scene.children.getByName(\"body\")?.body?.position.y\n //       )\n //     );\n //   }\n //   spawnProjectile(\n //     startPoint: Phaser.Math.Vector2,\n //     targetPoint: Phaser.Math.Vector2\n //   ): void {\n //     // Calculate angle between start and target points\n //     const angle = Phaser.Math.Angle.Between(\n //       startPoint.x,\n //       startPoint.y,\n //       targetPoint.x,\n //       targetPoint.y\n //     );\n //     const speed = 50;\n //     const bullet = this.scene.add\n //       .image(this.barrelPoint.x, this.barrelPoint.y, \"deg-bullet\")\n //       .setScale(0.06, 0.1);\n //     const matterBullet = this.scene.matter.add.gameObject(bullet, {\n //       friction: 0,\n //       frictionStatic: 0,\n //       frictionAir: 0,\n //       restitution: 1,\n //       angle: angle + Math.PI,\n //       ignorePointer: true,\n //       shape: {\n //         type: \"circle\",\n //         radius: 10,\n //       },\n //       onCollideCallback: () => {\n //         matterBullet.destroy();\n //         // Reduce health on impact\n //         this.scene.health -= 2;\n //         if (this.scene.health < 0) this.scene.health = 0;\n //         this.scene.events.emit(\"health-changed\", this.scene.health);\n //       },\n //     });\n //     // Set velocity based on angle to target\n //     this.scene.matter.setVelocity(\n //       matterBullet,\n //       speed * Math.cos(angle),\n //       speed * Math.sin(angle)\n //     );\n //   }\n // }\n // private renderCharacter() {\n //   const characterShapes = this.cache.json.get(\"characterShapes\");\n //   // Create body parts with more realistic physics properties\n //   this.head = this.matter.add\n //     .image(\n //       512,\n //       200,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Head`,\n //       undefined,\n //       {\n //         shape: characterShapes.head,\n //         friction: 0.1,\n //         restitution: 0.3,\n //         density: 0.001, // Light head for better swinging\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH, CHARACTER_HEIGHT)\n //     .setCollisionCategory(1)\n //     .setDepth(3);\n //   this.body = this.matter.add\n //     .image(\n //       512,\n //       384,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Body`,\n //       undefined,\n //       {\n //         shape: characterShapes.body,\n //         friction: 0.1,\n //         restitution: 0.3,\n //         density: 0.005, // Heavier body acts as center of mass\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH, CHARACTER_HEIGHT)\n //     .setCollisionCategory(1)\n //     .setDepth(2);\n //   this.bloodSplatter = this.add.sprite(512, 384, \"blood1_00018\").setDepth(4);\n //   this.explosion = this.add\n //     .sprite(512, 384, \"firstexplosion_00094\")\n //     .setDepth(4);\n //   this.leftArm = this.matter.add\n //     .image(\n //       750,\n //       200,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Rarm`,\n //       undefined,\n //       {\n //         shape: characterShapes.larm,\n //         friction: 0.1,\n //         density: 0.001,\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH, CHARACTER_HEIGHT)\n //     .setCollisionCategory(1)\n //     .setDepth(1);\n //   this.rightArm = this.matter.add\n //     .image(\n //       350,\n //       200,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Larm`,\n //       undefined,\n //       {\n //         shape: characterShapes.rarm,\n //         friction: 0.1,\n //         density: 0.001,\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH, CHARACTER_HEIGHT)\n //     .setCollisionCategory(1)\n //     .setDepth(1);\n //   this.rightLeg = this.matter.add\n //     .image(\n //       350,\n //       500,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Lleg`,\n //       undefined,\n //       {\n //         shape: characterShapes.rleg,\n //         friction: 0.1,\n //         density: 0.002,\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH - 30, CHARACTER_HEIGHT - 30)\n //     .setDepth(1);\n //   this.leftLeg = this.matter.add\n //     .image(\n //       350,\n //       500,\n //       `${this.characterTiers[this.data.get(\"tier\")] ?? \"paper\"}-Rleg`,\n //       undefined,\n //       {\n //         shape: characterShapes.lleg,\n //         friction: 0.1,\n //         density: 0.002,\n //       }\n //     )\n //     .setDisplaySize(CHARACTER_WIDTH - 30, CHARACTER_HEIGHT - 30)\n //     .setDepth(1);\n //   // Create joints with more flexibility for swinging\n //   //@ts-ignore\n //   const neckLeft = this.matter.add.joint(this.head, this.body, 10, 0.1, {\n //     pointA: { x: 0, y: CHARACTER_HEIGHT / 2.6 },\n //     pointB: { x: -25, y: -CHARACTER_HEIGHT / 2.6 },\n //     angularStiffness: 0.2,\n //     stiffness: 0.2,\n //   });\n //   //@ts-ignore\n //   const neckRight = this.matter.add.joint(this.head, this.body, 10, 0.1, {\n //     pointA: { x: 0, y: CHARACTER_HEIGHT / 2.6 },\n //     pointB: { x: 25, y: -CHARACTER_HEIGHT / 2.6 },\n //     angularStiffness: 0.2,\n //     stiffness: 0.2,\n //   });\n //   const leftShoulder = this.matter.add.joint(\n //     //@ts-ignore\n //     this.leftArm,\n //     this.body,\n //     JOINT_LENGTH,\n //     0.3,\n //     {\n //       pointA: { x: 35, y: -15 },\n //       pointB: { x: -25, y: -35 },\n //       angularStiffness: 0.2,\n //     }\n //   );\n //   const rightShoulder = this.matter.add.joint(\n //     //@ts-ignore\n //     this.rightArm,\n //     this.body,\n //     JOINT_LENGTH,\n //     0.3,\n //     {\n //       pointA: { x: -35, y: -15 },\n //       pointB: { x: 25, y: -35 },\n //       angularStiffness: 0.2,\n //     }\n //   );\n //   const leftKnee = this.matter.add.joint(\n //     //@ts-ignore\n //     this.leftLeg,\n //     this.body,\n //     1,\n //     0.4,\n //     {\n //       pointA: { x: 0, y: -20 },\n //       pointB: { x: -25, y: 35 },\n //       angularStiffness: 0.3,\n //     }\n //   );\n //   const rightKnee = this.matter.add.joint(\n //     //@ts-ignore\n //     this.rightLeg,\n //     this.body,\n //     1,\n //     0.4,\n //     {\n //       pointA: { x: 0, y: -20 },\n //       pointB: { x: 25, y: 35 },\n //       angularStiffness: 0.3,\n //     }\n //   );\n // }\n // private renderButtons() {\n //   this.debugButton = new TextButton(\n //     this,\n //     10,\n //     20,\n //     \"Journal\",\n //     {\n //       color: \"#ffffff\",\n //       backgroundColor: \"black\",\n //       padding: { left: 10, right: 10, top: 10, bottom: 10 },\n //       shadow: { color: \"#000\", offsetX: 1, offsetY: 1, blur: 1 },\n //     },\n //     () => {\n //       this.soundManager.play(\"click\");\n //       // Toggle debug state\n //       this.data.set(\"debug\", !this.data.get(\"debug\"));\n //       // Update button text to show current state\n //       this.debugButton.setText(\n //         this.data.get(\"debug\") ? \"Hide Journal\" : \"Journal\"\n //       );\n //       // if (this.data.get(\"debug\")) {\n //       //   this.classSelection.hide(false);\n //       // } else {\n //       //   this.classSelection.hide(true);\n //       // }\n //     }\n //   );\n //   this.add.existing(this.debugButton);\n //   const weapons: Array<{\n //     key: GameWeaponKey | undefined;\n //     label: string;\n //     y: number;\n //   }> = [\n //     { key: undefined, label: \"Fists\", y: 60 },\n //     { key: \"knife\", label: \"Knives\", y: 100 },\n //     { key: \"deagle\", label: \"Deagle\", y: 140 },\n //     { key: \"grenade\", label: \"Grenade\", y: 180 },\n //     { key: \"fire-bomb\", label: \"Fire Bomb\", y: 220 },\n //     { key: \"sticky-bomb\", label: \"Sticky Bomb\", y: 260 },\n //     { key: \"chainsaw\", label: \"Chainsaw\", y: 300 },\n //     { key: \"lightsaber\", label: \"Lightsaber\", y: 340 },\n //     { key: \"tommy\", label: \"Tommy Gun\", y: 380 },\n //     { key: \"mg\", label: \"Machine Gun\", y: 420 },\n //     { key: \"railgun\", label: \"Rail Gun\", y: 460 },\n //     { key: \"raygun\", label: \"Ray Gun\", y: 500 },\n //     { key: \"rpg\", label: \"Rocket Launcher\", y: 540 },\n //   ];\n //   weapons.forEach(({ key, label, y }) => {\n //     this.weaponButtons.set(\n //       key || \"fist\",\n //       new TextButton(\n //         this,\n //         10,\n //         y,\n //         label,\n //         {\n //           color: \"#ffffff\",\n //           backgroundColor: \"black\",\n //           padding: { left: 10, right: 10, top: 10, bottom: 10 },\n //           shadow: { color: \"#000\", offsetX: 1, offsetY: 1, blur: 1 },\n //         },\n //         () => {\n //           this.soundManager.play(\"click\");\n //           this.setWeapon(key);\n //         }\n //       )\n //     );\n //   });\n //   this.weaponButtons.forEach((button) => {\n //     this.add.existing(button);\n //   });\n // }\n // private createWeaponSelectionArea() {\n //   const text = this.add.text(0, 728, `Pointer Over ${this.pointerOver}`, {\n //     fontSize: \"16px\",\n //     color: \"#ffffff\",\n //   });\n //   this.weaponSelectionArea = this.add\n //     .rectangle(0, 0, 200, 768 * 2, 0x000000, 0)\n //     .setDepth(-1)\n //     .setInteractive()\n //     .on(\"pointerover\", () => {\n //       this.pointerOver = true;\n //       // text.setText(`Pointer Over ${this.pointerOver}`);\n //       // this.weaponSelectionArea.setFillStyle(0xff0000, 0.5);\n //     })\n //     .on(\"pointerout\", () => {\n //       this.pointerOver = false;\n //       // text.setText(`Pointer Over ${this.pointerOver}`);\n //       // this.weaponSelectionArea.setFillStyle(0x000000, 0.5);\n //     })\n //     .on(\"pointerdown\", () => {\n //       // this.weaponSelectionArea.setFillStyle(0x00ff00, 0.5);\n //     })\n //     .on(\"pointerup\", () => {\n //       // this.weaponSelectionArea.setFillStyle(0x000000, 0.5);\n //     });\n // }\n // setWeapon(weapon: GameWeaponKey | undefined) {\n //   // Remove current weapon from display\n //   if (this.currentWeapon) {\n //     this.currentWeapon.removeFromDisplayList();\n //   }\n //   // Destroy any previous weapon\n //   if (this.weapon && this.currentWeapon) {\n //     this.currentWeapon.destroy();\n //     this.weapon = undefined;\n //   }\n //   // Set and show the appropriate weapon\n //   if (!weapon) {\n //     this.currentWeapon = undefined;\n //     return;\n //   }\n //   const weaponConfig: Record<GameWeaponKey, WeaponConfig> = {\n //     deagle: {\n //       texture: \"deaglefiring_00018\",\n //       width: 200,\n //       height: 100,\n //       name: \"deagle\",\n //     },\n //     tommy: { texture: \"tommy\", width: 300, height: 150, name: \"tommy\" },\n //     knife: { texture: \"knife\", width: 300, height: 150, name: \"knife\" },\n //     rpg: { texture: \"rpg\", width: 300, height: 150, name: \"rpg\" },\n //     grenade: { texture: \"grenade\", width: 100, height: 100, name: \"grenade\" },\n //     \"fire-bomb\": {\n //       texture: \"fire-bomb\",\n //       width: 120,\n //       height: 70,\n //       name: \"fire-bomb\",\n //     },\n //     \"sticky-bomb\": {\n //       texture: \"sticky-bomb\",\n //       width: 100,\n //       height: 100,\n //       name: \"sticky-bomb\",\n //     },\n //     chainsaw: {\n //       texture: \"chainsaw\",\n //       width: 300,\n //       height: 150,\n //       name: \"chainsaw\",\n //     },\n //     lightsaber: {\n //       texture: \"lightsaber\",\n //       width: 300,\n //       height: 150,\n //       name: \"lightsaber\",\n //     },\n //     mg: { texture: \"mg\", width: 300, height: 150, name: \"mg\" },\n //     railgun: { texture: \"railgun\", width: 300, height: 150, name: \"railgun\" },\n //     raygun: { texture: \"raygun\", width: 300, height: 150, name: \"raygun\" },\n //   };\n //   const config = weapon ? weaponConfig[weapon] : undefined;\n //   if (config) {\n //     this.weapon = weapon;\n //     this.currentWeapon = this.add\n //       .sprite(1024 / 2, 768 / 2, config.texture)\n //       .setDisplaySize(config.width, config.height)\n //       .removeFromDisplayList()\n //       .setName(config.name);\n //   }\n // }\n // spawnProjectile(startPoint: Phaser.Math.Vector2): void {\n //   const characterPos = this.character.getPosition();\n //   const targetPoint = new Phaser.Math.Vector2(characterPos.x, characterPos.y);\n //   // Calculate angle between start and target points\n //   const angle = Phaser.Math.Angle.Between(\n //     startPoint.x,\n //     startPoint.y,\n //     targetPoint.x,\n //     targetPoint.y\n //   );\n //   let speed = 50;\n //   let projectile;\n //   let throwForce = 0;\n //   let projectileConfig = {\n //     friction: 0,\n //     frictionStatic: 0,\n //     frictionAir: 0.005, // Add air friction for arcing motion\n //     restitution: 0.3, // Reduce bounce\n //     angle: angle + Math.PI,\n //     density: 0.001, // Light enough to arc\n //     ignorePointer: true,\n //   };\n //   switch (this.weapon) {\n //     case \"deagle\":\n //       speed = 75;\n //       projectile = this.add\n //         .image(this.barrelPoint.x, this.barrelPoint.y, \"deagle-bullet\")\n //         .setScale(0.06, 0.1);\n //       break;\n //     case \"tommy\":\n //       speed = 50;\n //       projectile = this.add\n //         .image(this.barrelPoint.x, this.barrelPoint.y, \"tommy-bullet\")\n //         .setScale(0.04, 0.08);\n //       break;\n //     case \"rpg\":\n //       speed = 50;\n //       projectile = this.add\n //         .image(this.barrelPoint.x, this.barrelPoint.y, \"rpg-bullet\")\n //         .setScale(0.1, 0.1);\n //       break;\n //     case \"knife\":\n //       speed = 40;\n //       projectile = this.add\n //         .image(this.barrelPoint.x, this.barrelPoint.y, \"knife\")\n //         .setScale(0.08, 0.08);\n //       break;\n //     case \"raygun\":\n //       speed = 50;\n //       projectile = this.add.image(\n //         this.barrelPoint.x,\n //         this.barrelPoint.y,\n //         \"raygun-bullet\"\n //       );\n //       break;\n //     case \"mg\":\n //       speed = 50;\n //       projectile = this.add\n //         .image(this.barrelPoint.x, this.barrelPoint.y, \"mg-bullet\")\n //         .setScale(0.08, 0.08);\n //       break;\n //     case \"grenade\":\n //     case \"sticky-bomb\":\n //     case \"fire-bomb\":\n //       projectile = this.add\n //         .image(startPoint.x, startPoint.y, this.weapon)\n //         .setScale(0.15);\n //       // Add rotation to the throwable\n //       projectileConfig = {\n //         ...projectileConfig,\n //         //@ts-ignore\n //         shape: { type: \"circle\", radius: 15 },\n //         angularVelocity: 0.2, // Increased rotation speed\n //         label: this.weapon, // Used to identify projectile type in collision\n //       };\n //       // Calculate throw force based on distance to target with increased force\n //       const distance = Phaser.Math.Distance.Between(\n //         startPoint.x,\n //         startPoint.y,\n //         targetPoint.x,\n //         targetPoint.y\n //       );\n //       throwForce = Math.min(distance * 0.02, 25); // Slightly reduced multiplier and max force\n //       break;\n //     default:\n //       return;\n //   }\n //   if (\n //     this.weapon === \"grenade\" ||\n //     this.weapon === \"sticky-bomb\" ||\n //     this.weapon === \"fire-bomb\"\n //   ) {\n //     const matterBomb = this.matter.add.gameObject(projectile, {\n //       ...projectileConfig,\n //       onCollideCallback: (collision: MatterJS.ICollisionPair) => {\n //         const bodyA = collision.bodyA;\n //         const bodyB = collision.bodyB;\n //         const collisionPoint = {\n //           x: collision.collision.supports[0]?.x,\n //           y: collision.collision.supports[0]?.y,\n //         };\n //         switch (this.weapon) {\n //           case \"sticky-bomb\": {\n //             // Stick to the first thing hit\n //             if (!matterBomb.getData(\"stuck\")) {\n //               matterBomb.setData(\"stuck\", true);\n //               //@ts-ignore\n //               this.matter.add.joint(bodyA, bodyB, {\n //                 pointA: { x: 0, y: 0 },\n //                 pointB: { x: 0, y: 0 },\n //               });\n //               // this.matter.setStatic(matterBomb, true);\n //               // Explode after delay\n //               this.time.delayedCall(2000, () => {\n //                 this.createExplosion(collisionPoint.x, collisionPoint.y);\n //                 matterBomb.destroy();\n //               });\n //             }\n //             break;\n //           }\n //           case \"fire-bomb\": {\n //             // Create fire effect and DOT damage\n //             this.createFireEffect(collisionPoint.x, collisionPoint.y);\n //             matterBomb.destroy();\n //             break;\n //           }\n //           case \"grenade\": {\n //             // Explode immediately on impact\n //             this.createExplosion(collisionPoint.x, collisionPoint.y);\n //             matterBomb.destroy();\n //             break;\n //           }\n //         }\n //       },\n //     });\n //     // Apply arc trajectory\n //     this.matter.setVelocity(\n //       matterBomb,\n //       Math.cos(angle) * throwForce,\n //       Math.sin(angle) * throwForce - 5 // Negative Y for upward arc\n //     );\n //   } else {\n //     const matterBullet = this.matter.add.gameObject(projectile, {\n //       friction: 0,\n //       frictionStatic: 0,\n //       frictionAir: 0,\n //       restitution: 1,\n //       angle: angle + Math.PI,\n //       ignorePointer: true,\n //       shape: {\n //         type: \"circle\",\n //         radius: 10,\n //       },\n //       onCollideCallback: () => {\n //         if (this.weapon === \"rpg\") {\n //           this.soundManager.play(\"explode\");\n //         } else if (this.weapon === \"raygun\") {\n //           this.soundManager.play(\"raygun-impact\");\n //         }\n //         // Calculate damage based on weapon type\n //         let damage = 0.05; // default damage\n //         switch (this.weapon) {\n //           case \"rpg\":\n //             damage = 1;\n //             break;\n //           case \"deagle\":\n //             damage = 0.5;\n //             break;\n //           case \"tommy\":\n //             damage = 0.3;\n //             break;\n //           case \"mg\":\n //             damage = 0.4;\n //             break;\n //           case \"raygun\":\n //             damage = 0.3;\n //             break;\n //           // Add other weapon damage values as needed\n //         }\n //         const isExplosion = this.weapon === \"rpg\";\n //         EventBus.emit(\"projectile-hit\", { damage, isExplosion });\n //         matterBullet.destroy();\n //       },\n //     });\n //     // Set velocity based on angle to target\n //     this.matter.setVelocity(\n //       matterBullet,\n //       speed * Math.cos(angle),\n //       speed * Math.sin(angle)\n //     );\n //   }\n // }\n // fireWeapon() {\n //   const characterPos = this.character.getPosition();\n //   // Don't fire if pointer is over weapon selection area\n //   if (this.pointerOver) {\n //     return;\n //   }\n //   // Don't fire if using fists\n //   if (this.weapon === undefined) {\n //     return;\n //   }\n //   // Don't fire if no weapon equipped or weapon not visible\n //   if (!this.currentWeapon || !this.currentWeapon.getDisplayList()) {\n //     return;\n //   }\n //   // Calculate spawn position offset based on gun angle and flip\n //   const spawnOffset = this.currentWeapon.flipX ? -100 : 100;\n //   const spawnX = this.currentWeapon.x + spawnOffset;\n //   switch (this.weapon) {\n //     case \"deagle\":\n //       this.soundManager.play(\"deagle-cock\");\n //       this.soundManager.play(\"deagle-fire\");\n //       this.currentWeapon\n //         .play(\"deagleFire\")\n //         .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //           this.events.emit(\"deagle-fired\");\n //         });\n //       break;\n //     case \"tommy\":\n //       this.soundManager.play(\"deagle-fire\");\n //       this.currentWeapon\n //         .play(\"tommyFire\")\n //         .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //           this.events.emit(\"tommy-fired\");\n //         });\n //       break;\n //     case \"rpg\":\n //       this.soundManager.play(\"rpg-fire\");\n //       this.currentWeapon\n //         .play(\"rpgFire\")\n //         .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //           this.events.emit(\"rocket-fired\");\n //         });\n //       break;\n //     case \"mg\":\n //       this.soundManager.play(\"deagle-fire\");\n //       this.currentWeapon\n //         .play(\"mgFire\")\n //         .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //           this.events.emit(\"mg-fired\");\n //         });\n //       break;\n //     case \"raygun\":\n //       this.soundManager.play(\"raygun-fire\");\n //       this.currentWeapon\n //         .play(\"raygunFire\")\n //         .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //           this.events.emit(\"raygun-fired\");\n //         });\n //       break;\n //     case \"knife\":\n //       console.log(\"knives\");\n //       // this.soundManager.play()\n //       // this.currentWeapon\n //       //   .play(\"knifeThrow\")\n //       //   .on(Phaser.Animations.Events.ANIMATION_COMPLETE, () => {\n //       //     this.events.emit(\"knives-fired\");\n //       //   });\n //       break;\n //     case \"grenade\":\n //     case \"sticky-bomb\":\n //     case \"fire-bomb\":\n //       this.soundManager.play(\"fire-bomb-fire\");\n //       break;\n //     default:\n //       return;\n //   }\n //   this.spawnProjectile(new Phaser.Math.Vector2(spawnX, this.currentWeapon.y));\n // }\n // showAndFireWeapon() {\n //   if (!this.showWeapon || !this.weapon || this.pointerOver) {\n //     return;\n //   }\n //   // Show current weapon if it exists but isn't displayed\n //   if (this.currentWeapon && !this.currentWeapon.getDisplayList()) {\n //     this.currentWeapon.addToDisplayList();\n //   }\n //   // Clear any existing firing timer when changing weapons\n //   if (this.firingTimer) {\n //     this.firingTimer.destroy();\n //     this.firingTimer = undefined;\n //   }\n //   // Weapon configurations\n //   const weaponConfigs = {\n //     grenade: {\n //       fireRate: 1000,\n //       burstSize: 1,\n //       sound: \"fire-bomb-fire\",\n //     },\n //     \"sticky-bomb\": {\n //       fireRate: 1000,\n //       burstSize: 1,\n //       sound: \"fire-bomb-fire\",\n //     },\n //     \"fire-bomb\": {\n //       fireRate: 1000,\n //       burstSize: 1,\n //       sound: \"fire-bomb-fire\",\n //     },\n //     knives: {\n //       fireRate: 500,\n //       burstSize: 1,\n //     },\n //     \"tommy-gun\": {\n //       fireRate: 50, // Faster fire rate for tommy gun\n //       burstSize: 3, // Number of bullets per burst\n //       burstDelay: 300, // Delay between bursts\n //       sound: \"deagle-fire\",\n //     },\n //     \"desert-eagle\": {\n //       fireRate: 500, // Consistent delay between shots\n //       burstSize: 1,\n //       sound: \"deagle-fire\",\n //     },\n //     rpg: {\n //       fireRate: 1000,\n //       burstSize: 1,\n //       sound: \"rpg-fire\",\n //     },\n //     mg: {\n //       fireRate: 100,\n //       burstSize: 1,\n //       sound: \"deagle-fire\",\n //     },\n //     raygun: {\n //       fireRate: 200,\n //       burstSize: 1,\n //       sound: \"raygun-fire\",\n //     },\n //   };\n //   //@ts-ignore\n //   const config = weaponConfigs[this.weapon];\n //   if (!config) return;\n //   let lastFired = 0;\n //   let burstCount = 0;\n //   let canFire = true;\n //   // Initial fire on pointer down\n //   if (this.input.activePointer.isDown) {\n //     this.fireWeapon();\n //     lastFired = this.time.now;\n //   }\n //   this.firingTimer = this.time.addEvent({\n //     delay: 16, // Run at ~60fps for smooth firing checks\n //     callback: () => {\n //       const currentTime = this.time.now;\n //       if (!this.input.activePointer.isDown) {\n //         canFire = true;\n //         burstCount = 0;\n //         return;\n //       }\n //       // Check if enough time has passed since last shot\n //       if (currentTime - lastFired >= config.fireRate && canFire) {\n //         if (config.burstSize > 1) {\n //           // Burst fire logic\n //           this.fireWeapon();\n //           burstCount++;\n //           lastFired = currentTime;\n //           if (burstCount >= config.burstSize) {\n //             canFire = false;\n //             burstCount = 0;\n //             // Reset after burst delay\n //             this.time.delayedCall(config.burstDelay || 300, () => {\n //               canFire = true;\n //             });\n //           }\n //         } else {\n //           // Single shot logic\n //           this.fireWeapon();\n //           lastFired = currentTime;\n //         }\n //         // Play weapon sound\n //         if (config.sound) {\n //           this.soundManager.play(config.sound);\n //         }\n //       }\n //     },\n //     loop: true,\n //   });\n // }\n // hideWeapon() {\n //   if (this.currentWeapon && this.currentWeapon.getDisplayList()) {\n //     this.currentWeapon.removeFromDisplayList();\n //   }\n // }\n // private createFireEffect(x: number, y: number) {\n //   const fireEffect = this.add.sprite(x, y, \"groundfire_00016\").play(\"fire\");\n //   this.soundManager.play(\"fire-bomb-impact\");\n //   // Create damage over time effect\n //   let tickCount = 0;\n //   const maxTicks = 5;\n //   const fireDamage = this.time.addEvent({\n //     delay: 500, // Damage every 0.5 seconds\n //     callback: () => {\n //       const characterPos = this.character.getPosition();\n //       const distance = Phaser.Math.Distance.Between(\n //         x,\n //         y,\n //         characterPos.x,\n //         characterPos.y\n //       );\n //       if (distance <= 50) {\n //         // Fire damage radius\n //         EventBus.emit(\"projectile-hit\", {\n //           damage: 5,\n //           isExplosion: false,\n //         });\n //       }\n //       tickCount++;\n //       if (tickCount >= maxTicks) {\n //         fireDamage.destroy();\n //         fireEffect.destroy();\n //       }\n //     },\n //     loop: true,\n //   });\n // }\n // private createExplosion(x: number, y: number) {\n //   // Visual effect\n //   const explosion = this.add\n //     .sprite(x, y, \"firstexplosion_00094\")\n //     .play(\"explosion\");\n //   // Sound effect\n //   this.soundManager.play(\"explode\");\n //   // Damage calculation based on distance\n //   const blastRadius = 100;\n //   const characterPos = this.character.getPosition();\n //   const distance = Phaser.Math.Distance.Between(\n //     x,\n //     y,\n //     characterPos.x,\n //     characterPos.y\n //   );\n //   if (distance <= blastRadius) {\n //     const damage = 1 - distance / blastRadius; // More damage closer to explosion\n //     EventBus.emit(\"projectile-hit\", {\n //       damage: damage * 20, // Scale damage appropriately\n //       isExplosion: true,\n //     });\n //   }\n // }\n // showAndFireWeapon() {\n //   if (!this.showWeapon) {\n //     return;\n //   }\n //   // Show current weapon if it exists but isn't displayed\n //   if (this.currentWeapon && !this.currentWeapon.getDisplayList()) {\n //     this.currentWeapon.addToDisplayList();\n //   }\n //   // Clear any existing firing timer when changing weapons\n //   if (this.firingTimer) {\n //     this.firingTimer.destroy();\n //     this.firingTimer = undefined;\n //   }\n //   // Set up weapon-specific firing behavior\n //   let fireRate = 0;\n //   let fireEvent = \"\";\n //   let bulletsPerBurst = 1;\n //   let burstDelay = 0;\n //   let currentWeaponType = this.weapon; // Store current weapon type\n //   switch (this.weapon) {\n //     case \"tommy-gun\":\n //       fireRate = 100;\n //       fireEvent = \"tommy-fired\";\n //       bulletsPerBurst = 20;\n //       burstDelay = 50;\n //       break;\n //     case \"desert-eagle\":\n //       fireRate = 500;\n //       fireEvent = \"deagle-fired\";\n //       bulletsPerBurst = 1;\n //       break;\n //     case \"rpg\":\n //       fireRate = 1000;\n //       fireEvent = \"rocket-fired\";\n //       bulletsPerBurst = 1;\n //       break;\n //     case \"knives\":\n //       fireRate = 1000;\n //       fireEvent = \"knives-fired\";\n //       bulletsPerBurst = 1;\n //       break;\n //     case \"mg\":\n //       fireRate = 100;\n //       fireEvent = \"mg-fired\";\n //       bulletsPerBurst = 1;\n //       break;\n //     case \"raygun\":\n //       fireRate = 100;\n //       fireEvent = \"raygun-fired\";\n //       bulletsPerBurst = 1;\n //       break;\n //     default:\n //       return;\n //   }\n //   let canFire = true;\n //   let burstTimer: Phaser.Time.TimerEvent;\n //   // Start firing immediately on pointerdown\n //   if (this.input.activePointer.isDown) {\n //     this.fireWeapon();\n //   }\n //   this.firingTimer = this.time.addEvent({\n //     delay: fireRate,\n //     callback: () => {\n //       // Check if weapon has changed since starting the burst\n //       if (this.weapon !== currentWeaponType) {\n //         if (burstTimer) {\n //           burstTimer.destroy();\n //         }\n //         canFire = true;\n //         return;\n //       }\n //       if (this.input.activePointer.isDown && canFire) {\n //         canFire = false;\n //         if (bulletsPerBurst > 1) {\n //           // For burst weapons like tommy gun\n //           let bulletsShot = 0;\n //           burstTimer = this.time.addEvent({\n //             delay: burstDelay,\n //             callback: () => {\n //               // Check weapon hasn't changed during burst\n //               if (this.weapon === currentWeaponType) {\n //                 this.fireWeapon();\n //                 bulletsShot++;\n //                 if (bulletsShot >= bulletsPerBurst) {\n //                   burstTimer.destroy();\n //                   // Allow next burst after a short delay\n //                   this.time.delayedCall(300, () => {\n //                     canFire = true;\n //                   });\n //                 }\n //               } else {\n //                 burstTimer.destroy();\n //                 canFire = true;\n //               }\n //             },\n //             repeat: bulletsPerBurst - 1,\n //           });\n //         } else {\n //           // For single shot weapons like desert eagle\n //           this.fireWeapon();\n //           // Re-enable firing after animation completes\n //           this.events.once(fireEvent, () => {\n //             canFire = true;\n //           });\n //         }\n //       }\n //     },\n //     loop: true,\n //   });\n // }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztDQUNqQyx3REFBd0Q7Q0FDeEQsMENBQTBDO0NBQzFDLDREQUE0RDtDQUM1RCx1REFBdUQ7Q0FDdkQsc0NBQXNDO0NBQ3RDLHdCQUF3QjtDQUN4QixvQkFBb0I7Q0FDcEIseUJBQXlCO0NBQ3pCLHdDQUF3QztDQUN4QyxrQ0FBa0M7Q0FDbEMsa0JBQWtCO0NBQ2xCLGlCQUFpQjtDQUNqQiwyQ0FBMkM7Q0FDM0MsZ0JBQWdCO0NBQ2hCLG1CQUFtQjtDQUNuQix5REFBeUQ7Q0FDekQsK0JBQStCO0NBQy9CLDBEQUEwRDtDQUMxRCxnREFBZ0Q7Q0FDaEQsOEJBQThCO0NBQzlCLGdCQUFnQjtDQUNoQixZQUFZO0NBQ1osVUFBVTtDQUNWLFNBQVM7Q0FDVCxrQkFBa0I7Q0FDbEIsUUFBUTtDQUNSLElBQUkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9waGFzZXItZWRpdG9yLXRlbXBsYXRlLW5leHRqcy8uL3NyYy9nYW1lL3NjZW5lcy9HYW1lLnRzP2E0NmIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5pbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gXCIuLi9FdmVudEJ1c1wiO1xuaW1wb3J0IHsgQ2hhcmFjdGVyIH0gZnJvbSBcIi4uL2NsYXNzZXMvQ2hhcmFjdGVyXCI7XG5pbXBvcnQgeyBHYW1lQnV0dG9ucyB9IGZyb20gXCIuLi9jbGFzc2VzL0dhbWVCdXR0b25zXCI7XG5pbXBvcnQgeyBKb3VybmFsTWFuYWdlciB9IGZyb20gXCIuLi9jbGFzc2VzL0pvdXJuYWxcIjtcbmltcG9ydCB7IFNjb3JlQmFyIH0gZnJvbSBcIi4uL2NsYXNzZXMvU2NvcmVCYXJcIjtcbmltcG9ydCB7IFNvdW5kTWFuYWdlciB9IGZyb20gXCIuLi9jbGFzc2VzL1NvdW5kTWFuYWdlclwiO1xuaW1wb3J0IHsgV2VhcG9uIH0gZnJvbSBcIi4uL2NsYXNzZXMvV2VhcG9uXCI7XG5pbXBvcnQgeyBFZmZlY3RzIH0gZnJvbSBcIi4uL2NsYXNzZXMvRWZmZWN0c1wiO1xuXG4vL1RPRE86IEZpeCBzdGlja3kgYm9tYiwgYW5kIGxpZ2h0c2FiZXJcbi8vVE9ETzogbWFrZSBiaWcgY29pbiBkcm9wIG9uIGRlYXRoXG4vL1RPRE86IGFkZCBidWRkeSBzb3VuZHNcbi8vVE9ETzogZml4IGJsb2IgYXNzZXQga2V5IGZvciBzb2NpYWwgYnV0dG9uc1xuLy9UT0RPOiBvcHRpbWl6ZSBwYWNrIGxvYWRpbmcsIHNwbGl0IGludG8gc21hbGxlciBwYWNrcyB0byBtYWtlIHBhcmFsbGVsIGxvYWRpbmcgcG9zc2libGVcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gIHByaXZhdGUgYmchOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG4gIHByaXZhdGUgY2hhcmFjdGVyITogQ2hhcmFjdGVyO1xuICBwcml2YXRlIGVmZmVjdHMhOiBFZmZlY3RzO1xuICBwcml2YXRlIGdhbWVCdXR0b25zITogR2FtZUJ1dHRvbnM7XG4gIHByaXZhdGUgam91cm5hbE1hbmFnZXIhOiBKb3VybmFsTWFuYWdlcjtcbiAgLy8gcHJpdmF0ZSBzb3VuZE1hbmFnZXIhOiBTb3VuZE1hbmFnZXI7XG4gIHByaXZhdGUgc2NvcmVCYXIhOiBTY29yZUJhcjtcbiAgcHJpdmF0ZSB3ZWFwb25PYmplY3QhOiBXZWFwb247XG4gIHByaXZhdGUgcG9pbnRlckNvbnN0cmFpbnQhOiBQaGFzZXIuUGh5c2ljcy5NYXR0ZXIuUG9pbnRlckNvbnN0cmFpbnQ7XG4gIHByaXZhdGUgZnBzVGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuICBwcml2YXRlIHBvaW50ZXJPdmVyOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhcmFjdGVyVGllcnM6IHN0cmluZ1tdID0gW1wicGFwZXJcIiwgXCJzb2xcIiwgXCJtaWxcIiwgXCJtdXNrXCJdO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiTWFpbkdhbWVcIik7XG4gIH1cblxuICBpbml0KCkge1xuICAgIHRoaXMubWF0dGVyLndvcmxkLmF1dG9VcGRhdGUgPSBmYWxzZTtcbiAgICB0aGlzLm1hdHRlci53b3JsZC5zZXRCb3VuZHMoNTAsIDUwLCAxMTgwLCA2MjAsIDEwMDApO1xuICAgIC8vIHRoaXMucG9pbnRlckNvbnN0cmFpbnQgPSBuZXcgUGhhc2VyLlBoeXNpY3MuTWF0dGVyLlBvaW50ZXJDb25zdHJhaW50KFxuICAgIC8vICAgdGhpcy5zY2VuZS5zY2VuZSxcbiAgICAvLyAgIHRoaXMubWF0dGVyLndvcmxkLFxuICAgIC8vICAge1xuICAgIC8vICAgICBsZW5ndGg6IDAuMSxcbiAgICAvLyAgICAgc3RpZmZuZXNzOiAxLFxuICAgIC8vICAgfVxuICAgIC8vICk7XG4gICAgLy8gdGhpcy5tYXR0ZXIuYWRkLnBvaW50ZXJDb25zdHJhaW50KHt9KTtcbiAgICBjb25zdCBjYW5EcmFnID0gdGhpcy5tYXR0ZXIud29ybGQubmV4dEdyb3VwKCk7XG4gICAgLy8gdGhpcy5tYXR0ZXIuYWRkLnBvaW50ZXJDb25zdHJhaW50KHtcbiAgICAvLyAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgIC8vICAgICBjYXRlZ29yeTogQ09MTElTSU9OX0NBVEVHT1JJRVMuUE9JTlRFUixcbiAgICAvLyAgICAgbWFzazogQ09MTElTSU9OX0NBVEVHT1JJRVMuQk9VTkRTLFxuICAgIC8vICAgfSxcbiAgICAvLyB9KTtcblxuICAgIC8vIHRoaXMubWF0dGVyLmFkZC5tb3VzZVxuXG4gICAgdGhpcy5tYXR0ZXIuYWRkLm1vdXNlU3ByaW5nKHtcbiAgICAgIGxlbmd0aDogMSxcbiAgICAgIHN0aWZmbmVzczogMSxcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGNvbGxpc2lvbkZpbHRlcjogeyBncm91cDogY2FuRHJhZyB9LFxuICAgIH0pO1xuXG4gICAgLy8gdGhpcy5zb3VuZE1hbmFnZXIgPSBuZXcgU291bmRNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc2NvcmVCYXIgPSBuZXcgU2NvcmVCYXIoe1xuICAgICAgc2NlbmU6IHRoaXMsXG4gICAgICB4OiA2NDAsIC8vIEFkanVzdCBiYXNlZCBvbiB5b3VyIGdhbWUgd2lkdGhcbiAgICAgIHk6IDMwLCAvLyBBZGp1c3QgYmFzZWQgb24geW91ciBnYW1lIGhlaWdodFxuICAgICAgd2lkdGg6IDMwMCxcbiAgICAgIGhlYWx0aDogMTAwLFxuICAgIH0pO1xuICAgIHRoaXMuZ2FtZUJ1dHRvbnMgPSBuZXcgR2FtZUJ1dHRvbnMoe1xuICAgICAgc2NlbmU6IHRoaXMsXG4gICAgICB4OiA3NSxcbiAgICAgIHk6IDIwMCxcbiAgICAgIHNwYWNpbmc6IDExMCwgLy8gT3B0aW9uYWw6IGFkanVzdCBidXR0b24gc3BhY2luZ1xuICAgIH0pO1xuICAgIHRoaXMuam91cm5hbE1hbmFnZXIgPSBuZXcgSm91cm5hbE1hbmFnZXIoe1xuICAgICAgc2NlbmU6IHRoaXMsXG4gICAgICB4OiAxNDUwLFxuICAgICAgLy8geDogdGhpcy5ISURERU5fWCxcbiAgICAgIHk6IDM2MCwgLy8gVmVydGljYWwgY2VudGVyIG9mIHRoZSBzY3JlZW5cbiAgICB9KTtcbiAgICB0aGlzLmVmZmVjdHMgPSBuZXcgRWZmZWN0cyh0aGlzKTtcbiAgICB0aGlzLmNoYXJhY3RlciA9IG5ldyBDaGFyYWN0ZXIoXG4gICAgICB7XG4gICAgICAgIHNjZW5lOiB0aGlzLFxuICAgICAgICB4OiA1MTIsXG4gICAgICAgIHk6IDIwMCxcbiAgICAgICAgdGllcjogdGhpcy5jaGFyYWN0ZXJUaWVyc1t0aGlzLmRhdGEuZ2V0KFwidGllclwiKV0gPz8gXCJwYXBlclwiLFxuICAgICAgICBjb2xsaXNpb25Hcm91cDogY2FuRHJhZyxcbiAgICAgIH0sXG4gICAgICB0aGlzLmVmZmVjdHNcbiAgICApO1xuXG4gICAgdGhpcy53ZWFwb25PYmplY3QgPSBuZXcgV2VhcG9uKHRoaXMsIHRoaXMuY2hhcmFjdGVyLCB0aGlzLmVmZmVjdHMpO1xuICAgIEV2ZW50QnVzLm9uKFwiYmctY2hhbmdlXCIsIChiZzogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLmJnLnNldFRleHR1cmUoYmcpO1xuICAgIH0pO1xuICAgIEV2ZW50QnVzLm9uKFwicG9pbnRlci1vdmVyLWJ1dHRvblwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnBvaW50ZXJPdmVyID0gdHJ1ZTtcbiAgICB9KTtcbiAgICBFdmVudEJ1cy5vbihcInBvaW50ZXItb3V0LWJ1dHRvblwiLCAoKSA9PiB7XG4gICAgICB0aGlzLnBvaW50ZXJPdmVyID0gZmFsc2U7XG4gICAgfSk7XG4gICAgRXZlbnRCdXMub24oXCJza2luLWVxdWlwcGVkXCIsIChza2luOiBzdHJpbmcpID0+IHtcbiAgICAgIHRoaXMuY2hhcmFjdGVyLmNoYW5nZVNraW4oc2tpbik7XG4gICAgfSk7XG4gICAgRXZlbnRCdXMub24oXCJjaGFyYWN0ZXItb3V0LW9mLWJvdW5kc1wiLCAoKSA9PiB7XG4gICAgICAvLyB0aGlzLnBvaW50ZXJDb25zdHJhaW50LnN0b3BEcmFnKCk7XG4gICAgfSk7XG4gICAgdGhpcy5pbnB1dC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgIGlmICghdGhpcy53ZWFwb25PYmplY3QpIHJldHVybjtcbiAgICAgIC8vIHRoaXMucG9pbnRlckNvbnN0cmFpbnQuYWN0aXZlID0gZmFsc2U7XG4gICAgICB0aGlzLndlYXBvbk9iamVjdC5zdGFydEZpcmluZygpO1xuICAgIH0pO1xuICAgIHRoaXMuaW5wdXQub24oXCJwb2ludGVydXBcIiwgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLndlYXBvbk9iamVjdCkgcmV0dXJuO1xuICAgICAgLy8gdGhpcy5wb2ludGVyQ29uc3RyYWludC5hY3RpdmUgPSB0cnVlO1xuICAgICAgdGhpcy53ZWFwb25PYmplY3Quc3RvcEZpcmluZygpO1xuICAgIH0pO1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJzY2VuZS1hd2FrZVwiKTtcbiAgfVxuXG4gIGNyZWF0ZSgpIHtcbiAgICB0aGlzLmJnID0gdGhpcy5hZGRcbiAgICAgIC5pbWFnZSgxMjgwIC8gMiwgNzIwIC8gMiwgXCJiZy1tYWluXCIpXG4gICAgICAuc2V0RGlzcGxheVNpemUoMTI4MCwgNzIwKVxuICAgICAgLnNldERlcHRoKC0yKTtcblxuICAgIEV2ZW50QnVzLmVtaXQoXCJjdXJyZW50LXNjZW5lLXJlYWR5XCIsIHRoaXMpO1xuICB9XG5cbiAgdXBkYXRlKHRpbWU6IG51bWJlciwgZGVsdGE6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlUGh5c2ljcyhkZWx0YSk7XG4gICAgLy8gRGlzcGxheSBGUFMgY291bnRlclxuICAgIHRoaXMuY2hhcmFjdGVyLnVwZGF0ZSgpO1xuICAgIHRoaXMud2VhcG9uT2JqZWN0LnVwZGF0ZVdlYXBvblBvc2l0aW9uKCk7XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZVBoeXNpY3MoZGVsdGE6IG51bWJlcikge1xuICAgIC8vIFJ1biBwaHlzaWNzIGF0IDYwSHogKDE2LjY2Nm1zIHBlciBzdGVwKSBmb3Igc21vb3RoIHNpbXVsYXRpb25cbiAgICAvLyBUaGlzIGlzIGEgY29tbW9uIHJlZnJlc2ggcmF0ZSB0aGF0IGJhbGFuY2VzIHNtb290aG5lc3MgYW5kIHBlcmZvcm1hbmNlXG4gICAgY29uc3QgZml4ZWRUaW1lU3RlcCA9IDEwMDAgLyAzMDA7IC8vIEluY3JlYXNlZCB0byAxMjBIeiBmb3Igc21vb3RoZXIgcGh5c2ljc1xuXG4gICAgLy8gQWxsb3cgdXAgdG8gMyBzdGVwcyBwZXIgZnJhbWUgdG8gcHJldmVudCBzcGlyYWwgb2YgZGVhdGhcbiAgICAvLyBpZiBmcmFtZSByYXRlIGRyb3BzIHRlbXBvcmFyaWx5XG4gICAgY29uc3QgbWF4U3RlcHMgPSBNYXRoLm1pbigzLCBNYXRoLmZsb29yKGRlbHRhIC8gZml4ZWRUaW1lU3RlcCkpO1xuXG4gICAgLy8gUnVuIHBoeXNpY3MgdXBkYXRlcyB0byBjYXRjaCB1cCB3aXRoIGFueSBhY2N1bXVsYXRlZCB0aW1lXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhTdGVwczsgaSsrKSB7XG4gICAgICB0aGlzLm1hdHRlci53b3JsZC5zdGVwKGZpeGVkVGltZVN0ZXApO1xuICAgIH1cbiAgfVxuXG4gIGNoYW5nZVNjZW5lKCkge1xuICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJHYW1lT3ZlclwiKTtcbiAgfVxuXG4gIHNodXRkb3duKCkge1xuICAgIHRoaXMuY2hhcmFjdGVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLndlYXBvbk9iamVjdC5kZXN0cm95KCk7XG4gICAgdGhpcy5mcHNUZXh0LmRlc3Ryb3koKTtcbiAgICB0aGlzLmJnLmRlc3Ryb3koKTtcbiAgICB0aGlzLmlucHV0LmRlc3Ryb3koKTtcbiAgICB0aGlzLmV2ZW50cy5kZXN0cm95KCk7XG4gICAgdGhpcy5zb3VuZC5kZXN0cm95KCk7XG4gICAgdGhpcy5zY29yZUJhci5kZXN0cm95KCk7XG4gICAgdGhpcy5qb3VybmFsTWFuYWdlci5kZXN0cm95KCk7XG4gIH1cbn1cblxuLy8gcHJpdmF0ZSBoZWFkITogUGhhc2VyLlBoeXNpY3MuTWF0dGVyLkltYWdlO1xuLy8gcHJpdmF0ZSBib2R5ITogUGhhc2VyLlBoeXNpY3MuTWF0dGVyLkltYWdlO1xuLy8gcHJpdmF0ZSBsZWZ0QXJtITogUGhhc2VyLlBoeXNpY3MuTWF0dGVyLkltYWdlO1xuLy8gcHJpdmF0ZSByaWdodEFybSE6IFBoYXNlci5QaHlzaWNzLk1hdHRlci5JbWFnZTtcbi8vIHByaXZhdGUgbGVmdExlZyE6IFBoYXNlci5QaHlzaWNzLk1hdHRlci5JbWFnZTtcbi8vIHByaXZhdGUgcmlnaHRMZWchOiBQaGFzZXIuUGh5c2ljcy5NYXR0ZXIuSW1hZ2U7XG4vLyBwcml2YXRlIGJsb29kU3BsYXR0ZXIhOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xuLy8gcHJpdmF0ZSBleHBsb3Npb24hOiBQaGFzZXIuR2FtZU9iamVjdHMuU3ByaXRlO1xuLy8gcHJpdmF0ZSBjdXJyZW50VGllclRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbi8vIHByaXZhdGUgY3VycmVudFdlYXBvbj86IFBoYXNlci5HYW1lT2JqZWN0cy5TcHJpdGU7XG4vLyBwcml2YXRlIHBvaW50ZXJPdmVyOiBib29sZWFuID0gZmFsc2U7XG4vLyBwcml2YXRlIGJhcnJlbFBvaW50ITogUGhhc2VyLk1hdGguVmVjdG9yMjtcbi8vIHByaXZhdGUga2lsbENvdW50VGV4dCE6IFBoYXNlci5HYW1lT2JqZWN0cy5UZXh0O1xuLy8gLy8gV2VhcG9uc1xuLy8gcHJpdmF0ZSBzaG93V2VhcG9uID0gZmFsc2U7XG4vLyBwcml2YXRlIHdlYXBvbj86IEdhbWVXZWFwb25LZXk7XG4vLyBwcml2YXRlIHdlYXBvblRleHQhOiBQaGFzZXIuR2FtZU9iamVjdHMuVGV4dDtcbi8vIHByaXZhdGUgd2VhcG9uQnV0dG9uczogTWFwPHN0cmluZywgVGV4dEJ1dHRvbj4gPSBuZXcgTWFwKCk7XG4vLyBwcml2YXRlIHdlYXBvblNlbGVjdGlvbkFyZWEhOiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xuLy8gcHJpdmF0ZSBmaXJpbmdUaW1lcj86IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XG4vLyBwcml2YXRlIGRlYnVnQnV0dG9uITogVGV4dEJ1dHRvbjtcblxuLy8gdGhpcy53ZWFwb25UZXh0ID0gdGhpcy5hZGQudGV4dChcbi8vICAgODUwLFxuLy8gICAzMCxcbi8vICAgYFdlYXBvbjogJHt0aGlzLndlYXBvbiA/PyBcIm5vbmVcIn1gLFxuLy8gICB7XG4vLyAgICAgZm9udFNpemU6IFwiMTZweFwiLFxuLy8gICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcbi8vICAgfVxuLy8gKTtcblxuLy8gdGhpcy5jdXJyZW50VGllclRleHQgPSB0aGlzLmFkZC50ZXh0KFxuLy8gICAxMTUwLFxuLy8gICA5MCxcbi8vICAgYFRpZXI6ICR7dGhpcy5kYXRhLmdldChcInRpZXJcIikgPz8gXCJub25lXCJ9YCxcbi8vICAge1xuLy8gICAgIGZvbnRTaXplOiBcIjE2cHhcIixcbi8vICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXG4vLyAgIH1cbi8vICk7XG5cbi8vIHRoaXMudXBkYXRlV2VhcG9uUG9zaXRpb24oKTtcbi8vIEhpZGUgd2VhcG9uIGlmIHBvaW50ZXIgaXMgaW4gd2VhcG9uIHNlbGVjdGlvbiBhcmVhIGFuZCB3ZWFwb24gaXMgZXF1aXBwZWRcbi8vIHRoaXMud2VhcG9uU2VsZWN0aW9uQXJlYVBvaW50ZXJPdmVyKCk7XG4vLyB0aGlzLndlYXBvblRleHQuc2V0VGV4dChgV2VhcG9uOiAke3RoaXMud2VhcG9uID8/IFwibm9uZVwifWApO1xuLy8gdGhpcy5jdXJyZW50VGllclRleHQuc2V0VGV4dChgVGllcjogJHt0aGlzLmRhdGEuZ2V0KFwidGllclwiKSA/PyBcIm5vbmVcIn1gKTtcblxuLy8gdXBkYXRlV2VhcG9uUG9zaXRpb24oKSB7XG4vLyAgIGlmICghdGhpcy5jdXJyZW50V2VhcG9uKSB7XG4vLyAgICAgcmV0dXJuO1xuLy8gICB9XG5cbi8vICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcblxuLy8gICBjb25zdCBwb2ludGVyID0gdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyO1xuLy8gICBjb25zdCB3b3JsZFBvaW50ID0gcG9pbnRlci5wb3NpdGlvblRvQ2FtZXJhKFxuLy8gICAgIHRoaXMuY2FtZXJhcy5tYWluXG4vLyAgICkgYXMgUGhhc2VyLk1hdGguVmVjdG9yMjtcblxuLy8gICB0aGlzLmN1cnJlbnRXZWFwb24uc2V0UG9zaXRpb24od29ybGRQb2ludC54LCB3b3JsZFBvaW50LnkpO1xuXG4vLyAgIC8vIENhbGN1bGF0ZSBhbmdsZSBiZXR3ZWVuIHdlYXBvbiBhbmQgYm9keVxuLy8gICBjb25zdCBhbmdsZSA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4oXG4vLyAgICAgdGhpcy5jdXJyZW50V2VhcG9uLngsXG4vLyAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnksXG4vLyAgICAgY2hhcmFjdGVyUG9zLngsXG4vLyAgICAgY2hhcmFjdGVyUG9zLnlcbi8vICAgKTtcblxuLy8gICAvLyBBZGQgMTgwIGRlZ3JlZXMgdG8gcG9pbnQgYmFycmVsIGF0IGJvZHlcbi8vICAgY29uc3QgYWRqdXN0ZWRBbmdsZSA9IGFuZ2xlICsgTWF0aC5QSTtcblxuLy8gICAvLyBOb3JtYWxpemUgYW5nbGUgYmV0d2VlbiAtz4AgYW5kIM+AXG4vLyAgIGNvbnN0IG5vcm1hbGl6ZWRBbmdsZSA9XG4vLyAgICAgKChhZGp1c3RlZEFuZ2xlICsgTWF0aC5QSSkgJSAoTWF0aC5QSSAqIDIpKSAtIE1hdGguUEk7XG5cbi8vICAgLy8gRmxpcCB3ZWFwb24gd2hlbiBhbmdsZSB3b3VsZCBtYWtlIGl0IGFwcGVhciB1cHNpZGUgZG93blxuLy8gICB0aGlzLmN1cnJlbnRXZWFwb24uc2V0RmxpcFgoXG4vLyAgICAgbm9ybWFsaXplZEFuZ2xlID4gTWF0aC5QSSAvIDIgfHwgbm9ybWFsaXplZEFuZ2xlIDwgLU1hdGguUEkgLyAyXG4vLyAgICk7XG5cbi8vICAgLy8gU2V0IHJvdGF0aW9uIHdpdGggZmxpcCBhZGp1c3RtZW50XG4vLyAgIHRoaXMuY3VycmVudFdlYXBvbi5zZXRSb3RhdGlvbihcbi8vICAgICB0aGlzLmN1cnJlbnRXZWFwb24uZmxpcFggPyBhZGp1c3RlZEFuZ2xlICsgTWF0aC5QSSA6IGFkanVzdGVkQW5nbGVcbi8vICAgKTtcblxuLy8gICAvLyBTY2FsZSBjb25zdGFudHMgZm9yIHdlYXBvbiB0aXAgcG9zaXRpb25pbmdcbi8vICAgLy8gRGlmZmVyZW50IHdlYXBvbnMgbmVlZCBkaWZmZXJlbnQgc2NhbGUgbXVsdGlwbGllcnNcbi8vICAgY29uc3QgR1VOX1NDQUxFID1cbi8vICAgICB0aGlzLndlYXBvbiA9PT0gXCJ0b21teVwiXG4vLyAgICAgICA/IHtcbi8vICAgICAgICAgICBsZW5ndGg6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5V2lkdGggKiAwLjUsXG4vLyAgICAgICAgICAgYmFycmVsT2Zmc2V0OiB0aGlzLmN1cnJlbnRXZWFwb24uZGlzcGxheUhlaWdodCAqIDAuMDgsXG4vLyAgICAgICAgIH1cbi8vICAgICAgIDoge1xuLy8gICAgICAgICAgIGxlbmd0aDogdGhpcy5jdXJyZW50V2VhcG9uLmRpc3BsYXlXaWR0aCAqIDAuMyxcbi8vICAgICAgICAgICBiYXJyZWxPZmZzZXQ6IHRoaXMuY3VycmVudFdlYXBvbi5kaXNwbGF5SGVpZ2h0ICogMC4yLFxuLy8gICAgICAgICB9O1xuXG4vLyAgIC8vIENhbGN1bGF0ZSB3ZWFwb24gdGlwIHBvc2l0aW9uXG4vLyAgIGNvbnN0IHRvdGFsQW5nbGUgPVxuLy8gICAgIHRoaXMuY3VycmVudFdlYXBvbi5yb3RhdGlvbiArICh0aGlzLmN1cnJlbnRXZWFwb24uZmxpcFggPyBNYXRoLlBJIDogMCk7XG4vLyAgIGNvbnN0IHBlcnBBbmdsZSA9IHRvdGFsQW5nbGUgKyBNYXRoLlBJIC8gMjtcblxuLy8gICBjb25zdCB0aXBYID1cbi8vICAgICB0aGlzLmN1cnJlbnRXZWFwb24ueCArXG4vLyAgICAgTWF0aC5jb3ModG90YWxBbmdsZSkgKiAtR1VOX1NDQUxFLmxlbmd0aCArXG4vLyAgICAgTWF0aC5jb3MocGVycEFuZ2xlKSAqXG4vLyAgICAgICAodGhpcy5jdXJyZW50V2VhcG9uLmZsaXBYXG4vLyAgICAgICAgID8gR1VOX1NDQUxFLmJhcnJlbE9mZnNldFxuLy8gICAgICAgICA6IC1HVU5fU0NBTEUuYmFycmVsT2Zmc2V0KTtcblxuLy8gICBjb25zdCB0aXBZID1cbi8vICAgICB0aGlzLmN1cnJlbnRXZWFwb24ueSArXG4vLyAgICAgTWF0aC5zaW4odG90YWxBbmdsZSkgKiAtR1VOX1NDQUxFLmxlbmd0aCArXG4vLyAgICAgTWF0aC5zaW4ocGVycEFuZ2xlKSAqXG4vLyAgICAgICAodGhpcy5jdXJyZW50V2VhcG9uLmZsaXBYXG4vLyAgICAgICAgID8gR1VOX1NDQUxFLmJhcnJlbE9mZnNldFxuLy8gICAgICAgICA6IC1HVU5fU0NBTEUuYmFycmVsT2Zmc2V0KTtcblxuLy8gICAvLyB0aGlzLndlYXBvblRpcC5zZXRQb3NpdGlvbih0aXBYLCB0aXBZKTtcbi8vICAgdGhpcy5iYXJyZWxQb2ludCA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKHRpcFgsIHRpcFkpO1xuLy8gfVxuXG4vLyB1cGRhdGVFZmZlY3RQb3NpdGlvbigpIHtcbi8vICAgdGhpcy5ibG9vZFNwbGF0dGVyLnNldFBvc2l0aW9uKHRoaXMuYm9keS54LCB0aGlzLmJvZHkueSk7XG4vLyAgIHRoaXMuZXhwbG9zaW9uLnNldFBvc2l0aW9uKHRoaXMuYm9keS54LCB0aGlzLmJvZHkueSk7XG4vLyB9XG4vLyB3ZWFwb25TZWxlY3Rpb25BcmVhUG9pbnRlck92ZXIoKSB7XG4vLyAgIGlmIChcbi8vICAgICBQaGFzZXIuR2VvbS5SZWN0YW5nbGUuQ29udGFpbnMoXG4vLyAgICAgICB0aGlzLndlYXBvblNlbGVjdGlvbkFyZWEuZ2V0Qm91bmRzKCksXG4vLyAgICAgICB0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIueCxcbi8vICAgICAgIHRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci55XG4vLyAgICAgKVxuLy8gICApIHtcbi8vICAgICB0aGlzLnNob3dXZWFwb24gPSBmYWxzZTtcbi8vICAgfSBlbHNlIGlmIChcbi8vICAgICAhUGhhc2VyLkdlb20uUmVjdGFuZ2xlLkNvbnRhaW5zKFxuLy8gICAgICAgdGhpcy53ZWFwb25TZWxlY3Rpb25BcmVhLmdldEJvdW5kcygpLFxuLy8gICAgICAgdGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLngsXG4vLyAgICAgICB0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIueVxuLy8gICAgICkgJiZcbi8vICAgICAhdGhpcy5zaG93V2VhcG9uXG4vLyAgICkge1xuLy8gICAgIHRoaXMuc2hvd1dlYXBvbiA9IHRydWU7XG4vLyAgIH1cbi8vIH1cblxuLy8gZW5zdXJlQ2hhcmFjdGVyQm91bmRzKCkge1xuLy8gICBjb25zdCBpc091dE9mQm91bmRzID0gKHBhcnQ6IFBoYXNlci5QaHlzaWNzLk1hdHRlci5JbWFnZSkgPT4ge1xuLy8gICAgIHJldHVybiAoXG4vLyAgICAgICBwYXJ0ICYmXG4vLyAgICAgICAocGFydC54ID4gR0FNRV9XSURUSCB8fCBwYXJ0LnggPCAwKSAmJlxuLy8gICAgICAgKHBhcnQueSA+IEdBTUVfSEVJR0hUIHx8IHBhcnQueSA8IDApXG4vLyAgICAgKTtcbi8vICAgfTtcbi8vICAgaWYgKFxuLy8gICAgIGlzT3V0T2ZCb3VuZHModGhpcy5oZWFkKSB8fFxuLy8gICAgIGlzT3V0T2ZCb3VuZHModGhpcy5ib2R5KSB8fFxuLy8gICAgIGlzT3V0T2ZCb3VuZHModGhpcy5sZWZ0QXJtKSB8fFxuLy8gICAgIGlzT3V0T2ZCb3VuZHModGhpcy5yaWdodEFybSkgfHxcbi8vICAgICBpc091dE9mQm91bmRzKHRoaXMubGVmdExlZykgfHxcbi8vICAgICBpc091dE9mQm91bmRzKHRoaXMucmlnaHRMZWcpXG4vLyAgICkge1xuLy8gICAgIHRoaXMucG9pbnRlckNvbnN0cmFpbnQuc3RvcERyYWcoKTtcbi8vICAgICBjb25zdCBjZW50ZXJYID0gdGhpcy5nYW1lLnJlbmRlcmVyLndpZHRoIC8gMjtcbi8vICAgICBjb25zdCBjZW50ZXJZID0gdGhpcy5nYW1lLnJlbmRlcmVyLmhlaWdodCAvIDI7XG5cbi8vICAgICB0aGlzLmhlYWQuc2V0UG9zaXRpb24oNTEyLCAyMDApO1xuLy8gICAgIHRoaXMuYm9keS5zZXRQb3NpdGlvbig1MTIsIDM4NCk7XG4vLyAgICAgdGhpcy5sZWZ0QXJtLnNldFBvc2l0aW9uKDc1MCwgMjAwKTtcbi8vICAgICB0aGlzLnJpZ2h0QXJtLnNldFBvc2l0aW9uKDM1MCwgMjAwKTtcbi8vICAgICB0aGlzLmxlZnRMZWcuc2V0UG9zaXRpb24oMzUwLCA1MDApO1xuLy8gICAgIHRoaXMucmlnaHRMZWcuc2V0UG9zaXRpb24oNzUwLCA1MDApO1xuLy8gICB9XG4vLyB9XG5cbi8vIHByaXZhdGUgY3JlYXRlSGVhbHRoQmFyKCkge1xuLy8gICAvLyBDcmVhdGUgaGVhbHRoIGJhciBiYWNrZ3JvdW5kXG4vLyAgIGNvbnN0IGhlYWx0aEJhckJhY2tncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXG4vLyAgICAgMTI4MCAvIDIsXG4vLyAgICAgMzAsXG4vLyAgICAgMzAwLFxuLy8gICAgIDIwLFxuLy8gICAgIDB4MDAwMDAwXG4vLyAgICk7XG4vLyAgIGhlYWx0aEJhckJhY2tncm91bmQuc2V0U2Nyb2xsRmFjdG9yKDApO1xuXG4vLyAgIC8vIENyZWF0ZSBoZWFsdGggYmFyIGZpbGxcbi8vICAgY29uc3QgaGVhbHRoQmFyRmlsbCA9IHRoaXMuYWRkLnJlY3RhbmdsZSgxMjgwIC8gMiwgMzAsIDMwMCwgMjAsIDB4ZmYwMDAwKTtcbi8vICAgaGVhbHRoQmFyRmlsbC5zZXRTY3JvbGxGYWN0b3IoMCk7XG5cbi8vICAgLy8gQ3JlYXRlIGhlYWx0aCB0ZXh0XG4vLyAgIGNvbnN0IGhlYWx0aFRleHQgPSB0aGlzLmFkZC50ZXh0KDEyODAgLyAyLCAzMCwgYCR7dGhpcy5oZWFsdGh9JWAsIHtcbi8vICAgICBmb250U2l6ZTogXCIxNnB4XCIsXG4vLyAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxuLy8gICB9KTtcblxuLy8gICBoZWFsdGhUZXh0LnNldE9yaWdpbigwLjUpO1xuLy8gICBoZWFsdGhUZXh0LnNldFNjcm9sbEZhY3RvcigwKTtcblxuLy8gICB0aGlzLmtpbGxDb3VudFRleHQgPSB0aGlzLmFkZC50ZXh0KDExNTAsIDYwLCBgS2lsbHM6IDBgLCB7XG4vLyAgICAgZm9udFNpemU6IFwiMTZweFwiLFxuLy8gICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcbi8vICAgfSk7XG5cbi8vICAgLy8gVXBkYXRlIGhlYWx0aCBiYXIgd2hlbiBoZWFsdGggY2hhbmdlc1xuLy8gICB0aGlzLmV2ZW50cy5vbihcImhlYWx0aC1jaGFuZ2VkXCIsICgpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcImhlYWx0aCBjaGFuZ2VkXCIsIHRoaXMuaGVhbHRoKTtcbi8vICAgICBjb25zdCBoZWFsdGhQZXJjZW50ID0gdGhpcy5oZWFsdGggLyAxMDA7XG4vLyAgICAgaGVhbHRoQmFyRmlsbC5zZXRTY2FsZShoZWFsdGhQZXJjZW50LCAxKTtcbi8vICAgICBoZWFsdGhCYXJGaWxsLnNldFgoR0FNRV9XSURUSCAvIDIgLSAoMzAwICogKDEgLSBoZWFsdGhQZXJjZW50KSkgLyAyKTtcbi8vICAgICBoZWFsdGhUZXh0LnNldFRleHQoYCR7dGhpcy5oZWFsdGgudG9GaXhlZCgyKX0lYCk7XG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBleHBvcnQgY2xhc3MgV2VhcG9uIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLlNwcml0ZSB7XG4vLyAgIHByaXZhdGUgd2VhcG9uVHlwZTpcbi8vICAgICB8IFwiZmlzdFwiXG4vLyAgICAgfCBcImtuaXZlc1wiXG4vLyAgICAgfCBcImRlc2VydC1lYWdsZVwiXG4vLyAgICAgfCBcInRvbW15LWd1blwiXG4vLyAgICAgfCBcInJvY2tldC1sYXVuY2hlclwiO1xuLy8gICBwdWJsaWMgYmFycmVsUG9pbnQ6IFBoYXNlci5HYW1lT2JqZWN0cy5BcmM7XG5cbi8vICAgY29uc3RydWN0b3IoXG4vLyAgICAgc2NlbmU6IFNjZW5lLFxuLy8gICAgIHg6IG51bWJlcixcbi8vICAgICB5OiBudW1iZXIsXG4vLyAgICAgd2VhcG9uVHlwZTpcbi8vICAgICAgIHwgXCJmaXN0XCJcbi8vICAgICAgIHwgXCJrbml2ZXNcIlxuLy8gICAgICAgfCBcImRlc2VydC1lYWdsZVwiXG4vLyAgICAgICB8IFwidG9tbXktZ3VuXCJcbi8vICAgICAgIHwgXCJyb2NrZXQtbGF1bmNoZXJcIixcbi8vICAgICB0ZXh0dXJlOiBzdHJpbmdcbi8vICAgKSB7XG4vLyAgICAgc3VwZXIoc2NlbmUsIHgsIHksIHRleHR1cmUpO1xuLy8gICAgIHRoaXMud2VhcG9uVHlwZSA9IHdlYXBvblR5cGU7XG4vLyAgICAgdGhpcy5iYXJyZWxQb2ludCA9IHNjZW5lLmFkZC5jaXJjbGUoeCwgeSwgNCwgMHhmZjAwMDApO1xuLy8gICB9XG5cbi8vICAgaW5pdCgpIHtcbi8vICAgICB0aGlzLnNldERpc3BsYXlTaXplKDIwMCwgMTAwKTtcbi8vICAgICByZXR1cm4gdGhpcztcbi8vICAgfVxuXG4vLyAgIGZpcmUoKSB7XG4vLyAgICAgLy8gRG9uJ3QgZmlyZSBpZiB1c2luZyBmaXN0c1xuLy8gICAgIGlmICh0aGlzLndlYXBvblR5cGUgPT09IFwiZmlzdFwiKSB7XG4vLyAgICAgICByZXR1cm47XG4vLyAgICAgfVxuXG4vLyAgICAgLy8gQ2FsY3VsYXRlIHNwYXduIHBvc2l0aW9uIG9mZnNldCBiYXNlZCBvbiBndW4gYW5nbGUgYW5kIGZsaXBcbi8vICAgICBjb25zdCBzcGF3bk9mZnNldCA9IHRoaXMuZmxpcFggPyAtMTAwIDogMTAwO1xuLy8gICAgIGNvbnN0IHNwYXduWCA9IHRoaXMueCArIHNwYXduT2Zmc2V0O1xuXG4vLyAgICAgLy8gUGxheSB3ZWFwb24gZmlyaW5nIGFuaW1hdGlvbiBpZiBpdCBleGlzdHNcbi8vICAgICBpZiAodGhpcy53ZWFwb25UeXBlID09PSBcImRlc2VydC1lYWdsZVwiKSB7XG4vLyAgICAgICB0aGlzLnBsYXkoXCJmaXJlRGVhZ2xlXCIpLm9uKFxuLy8gICAgICAgICBQaGFzZXIuQW5pbWF0aW9ucy5FdmVudHMuQU5JTUFUSU9OX0NPTVBMRVRFLFxuLy8gICAgICAgICAoKSA9PiB7XG4vLyAgICAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdChcIndlYXBvbi1maXJlZFwiKTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgKTtcbi8vICAgICB9IGVsc2UgaWYgKHRoaXMud2VhcG9uVHlwZSA9PT0gXCJ0b21teS1ndW5cIikge1xuLy8gICAgICAgdGhpcy5wbGF5KFwiZmlyZVRvbW15XCIpO1xuLy8gICAgIH1cblxuLy8gICAgIC8vIFNwYXduIHRoZSBwcm9qZWN0aWxlXG4vLyAgICAgdGhpcy5zcGF3blByb2plY3RpbGUoXG4vLyAgICAgICBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihzcGF3blgsIHRoaXMueSksXG4vLyAgICAgICBuZXcgUGhhc2VyLk1hdGguVmVjdG9yMihcbi8vICAgICAgICAgdGhpcy5zY2VuZS5jaGlsZHJlbi5nZXRCeU5hbWUoXCJib2R5XCIpPy5ib2R5Py5wb3NpdGlvbi54LFxuLy8gICAgICAgICB0aGlzLnNjZW5lLmNoaWxkcmVuLmdldEJ5TmFtZShcImJvZHlcIik/LmJvZHk/LnBvc2l0aW9uLnlcbi8vICAgICAgIClcbi8vICAgICApO1xuLy8gICB9XG5cbi8vICAgc3Bhd25Qcm9qZWN0aWxlKFxuLy8gICAgIHN0YXJ0UG9pbnQ6IFBoYXNlci5NYXRoLlZlY3RvcjIsXG4vLyAgICAgdGFyZ2V0UG9pbnQ6IFBoYXNlci5NYXRoLlZlY3RvcjJcbi8vICAgKTogdm9pZCB7XG4vLyAgICAgLy8gQ2FsY3VsYXRlIGFuZ2xlIGJldHdlZW4gc3RhcnQgYW5kIHRhcmdldCBwb2ludHNcbi8vICAgICBjb25zdCBhbmdsZSA9IFBoYXNlci5NYXRoLkFuZ2xlLkJldHdlZW4oXG4vLyAgICAgICBzdGFydFBvaW50LngsXG4vLyAgICAgICBzdGFydFBvaW50LnksXG4vLyAgICAgICB0YXJnZXRQb2ludC54LFxuLy8gICAgICAgdGFyZ2V0UG9pbnQueVxuLy8gICAgICk7XG4vLyAgICAgY29uc3Qgc3BlZWQgPSA1MDtcblxuLy8gICAgIGNvbnN0IGJ1bGxldCA9IHRoaXMuc2NlbmUuYWRkXG4vLyAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwiZGVnLWJ1bGxldFwiKVxuLy8gICAgICAgLnNldFNjYWxlKDAuMDYsIDAuMSk7XG5cbi8vICAgICBjb25zdCBtYXR0ZXJCdWxsZXQgPSB0aGlzLnNjZW5lLm1hdHRlci5hZGQuZ2FtZU9iamVjdChidWxsZXQsIHtcbi8vICAgICAgIGZyaWN0aW9uOiAwLFxuLy8gICAgICAgZnJpY3Rpb25TdGF0aWM6IDAsXG4vLyAgICAgICBmcmljdGlvbkFpcjogMCxcbi8vICAgICAgIHJlc3RpdHV0aW9uOiAxLFxuLy8gICAgICAgYW5nbGU6IGFuZ2xlICsgTWF0aC5QSSxcbi8vICAgICAgIGlnbm9yZVBvaW50ZXI6IHRydWUsXG4vLyAgICAgICBzaGFwZToge1xuLy8gICAgICAgICB0eXBlOiBcImNpcmNsZVwiLFxuLy8gICAgICAgICByYWRpdXM6IDEwLFxuLy8gICAgICAgfSxcbi8vICAgICAgIG9uQ29sbGlkZUNhbGxiYWNrOiAoKSA9PiB7XG4vLyAgICAgICAgIG1hdHRlckJ1bGxldC5kZXN0cm95KCk7XG4vLyAgICAgICAgIC8vIFJlZHVjZSBoZWFsdGggb24gaW1wYWN0XG4vLyAgICAgICAgIHRoaXMuc2NlbmUuaGVhbHRoIC09IDI7XG4vLyAgICAgICAgIGlmICh0aGlzLnNjZW5lLmhlYWx0aCA8IDApIHRoaXMuc2NlbmUuaGVhbHRoID0gMDtcbi8vICAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdChcImhlYWx0aC1jaGFuZ2VkXCIsIHRoaXMuc2NlbmUuaGVhbHRoKTtcbi8vICAgICAgIH0sXG4vLyAgICAgfSk7XG5cbi8vICAgICAvLyBTZXQgdmVsb2NpdHkgYmFzZWQgb24gYW5nbGUgdG8gdGFyZ2V0XG4vLyAgICAgdGhpcy5zY2VuZS5tYXR0ZXIuc2V0VmVsb2NpdHkoXG4vLyAgICAgICBtYXR0ZXJCdWxsZXQsXG4vLyAgICAgICBzcGVlZCAqIE1hdGguY29zKGFuZ2xlKSxcbi8vICAgICAgIHNwZWVkICogTWF0aC5zaW4oYW5nbGUpXG4vLyAgICAgKTtcbi8vICAgfVxuLy8gfVxuXG4vLyBwcml2YXRlIHJlbmRlckNoYXJhY3RlcigpIHtcbi8vICAgY29uc3QgY2hhcmFjdGVyU2hhcGVzID0gdGhpcy5jYWNoZS5qc29uLmdldChcImNoYXJhY3RlclNoYXBlc1wiKTtcblxuLy8gICAvLyBDcmVhdGUgYm9keSBwYXJ0cyB3aXRoIG1vcmUgcmVhbGlzdGljIHBoeXNpY3MgcHJvcGVydGllc1xuLy8gICB0aGlzLmhlYWQgPSB0aGlzLm1hdHRlci5hZGRcbi8vICAgICAuaW1hZ2UoXG4vLyAgICAgICA1MTIsXG4vLyAgICAgICAyMDAsXG4vLyAgICAgICBgJHt0aGlzLmNoYXJhY3RlclRpZXJzW3RoaXMuZGF0YS5nZXQoXCJ0aWVyXCIpXSA/PyBcInBhcGVyXCJ9LUhlYWRgLFxuLy8gICAgICAgdW5kZWZpbmVkLFxuLy8gICAgICAge1xuLy8gICAgICAgICBzaGFwZTogY2hhcmFjdGVyU2hhcGVzLmhlYWQsXG4vLyAgICAgICAgIGZyaWN0aW9uOiAwLjEsXG4vLyAgICAgICAgIHJlc3RpdHV0aW9uOiAwLjMsXG4vLyAgICAgICAgIGRlbnNpdHk6IDAuMDAxLCAvLyBMaWdodCBoZWFkIGZvciBiZXR0ZXIgc3dpbmdpbmdcbi8vICAgICAgIH1cbi8vICAgICApXG4vLyAgICAgLnNldERpc3BsYXlTaXplKENIQVJBQ1RFUl9XSURUSCwgQ0hBUkFDVEVSX0hFSUdIVClcbi8vICAgICAuc2V0Q29sbGlzaW9uQ2F0ZWdvcnkoMSlcbi8vICAgICAuc2V0RGVwdGgoMyk7XG5cbi8vICAgdGhpcy5ib2R5ID0gdGhpcy5tYXR0ZXIuYWRkXG4vLyAgICAgLmltYWdlKFxuLy8gICAgICAgNTEyLFxuLy8gICAgICAgMzg0LFxuLy8gICAgICAgYCR7dGhpcy5jaGFyYWN0ZXJUaWVyc1t0aGlzLmRhdGEuZ2V0KFwidGllclwiKV0gPz8gXCJwYXBlclwifS1Cb2R5YCxcbi8vICAgICAgIHVuZGVmaW5lZCxcbi8vICAgICAgIHtcbi8vICAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5ib2R5LFxuLy8gICAgICAgICBmcmljdGlvbjogMC4xLFxuLy8gICAgICAgICByZXN0aXR1dGlvbjogMC4zLFxuLy8gICAgICAgICBkZW5zaXR5OiAwLjAwNSwgLy8gSGVhdmllciBib2R5IGFjdHMgYXMgY2VudGVyIG9mIG1hc3Ncbi8vICAgICAgIH1cbi8vICAgICApXG4vLyAgICAgLnNldERpc3BsYXlTaXplKENIQVJBQ1RFUl9XSURUSCwgQ0hBUkFDVEVSX0hFSUdIVClcbi8vICAgICAuc2V0Q29sbGlzaW9uQ2F0ZWdvcnkoMSlcbi8vICAgICAuc2V0RGVwdGgoMik7XG5cbi8vICAgdGhpcy5ibG9vZFNwbGF0dGVyID0gdGhpcy5hZGQuc3ByaXRlKDUxMiwgMzg0LCBcImJsb29kMV8wMDAxOFwiKS5zZXREZXB0aCg0KTtcbi8vICAgdGhpcy5leHBsb3Npb24gPSB0aGlzLmFkZFxuLy8gICAgIC5zcHJpdGUoNTEyLCAzODQsIFwiZmlyc3RleHBsb3Npb25fMDAwOTRcIilcbi8vICAgICAuc2V0RGVwdGgoNCk7XG5cbi8vICAgdGhpcy5sZWZ0QXJtID0gdGhpcy5tYXR0ZXIuYWRkXG4vLyAgICAgLmltYWdlKFxuLy8gICAgICAgNzUwLFxuLy8gICAgICAgMjAwLFxuLy8gICAgICAgYCR7dGhpcy5jaGFyYWN0ZXJUaWVyc1t0aGlzLmRhdGEuZ2V0KFwidGllclwiKV0gPz8gXCJwYXBlclwifS1SYXJtYCxcbi8vICAgICAgIHVuZGVmaW5lZCxcbi8vICAgICAgIHtcbi8vICAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5sYXJtLFxuLy8gICAgICAgICBmcmljdGlvbjogMC4xLFxuLy8gICAgICAgICBkZW5zaXR5OiAwLjAwMSxcbi8vICAgICAgIH1cbi8vICAgICApXG4vLyAgICAgLnNldERpc3BsYXlTaXplKENIQVJBQ1RFUl9XSURUSCwgQ0hBUkFDVEVSX0hFSUdIVClcbi8vICAgICAuc2V0Q29sbGlzaW9uQ2F0ZWdvcnkoMSlcbi8vICAgICAuc2V0RGVwdGgoMSk7XG5cbi8vICAgdGhpcy5yaWdodEFybSA9IHRoaXMubWF0dGVyLmFkZFxuLy8gICAgIC5pbWFnZShcbi8vICAgICAgIDM1MCxcbi8vICAgICAgIDIwMCxcbi8vICAgICAgIGAke3RoaXMuY2hhcmFjdGVyVGllcnNbdGhpcy5kYXRhLmdldChcInRpZXJcIildID8/IFwicGFwZXJcIn0tTGFybWAsXG4vLyAgICAgICB1bmRlZmluZWQsXG4vLyAgICAgICB7XG4vLyAgICAgICAgIHNoYXBlOiBjaGFyYWN0ZXJTaGFwZXMucmFybSxcbi8vICAgICAgICAgZnJpY3Rpb246IDAuMSxcbi8vICAgICAgICAgZGVuc2l0eTogMC4wMDEsXG4vLyAgICAgICB9XG4vLyAgICAgKVxuLy8gICAgIC5zZXREaXNwbGF5U2l6ZShDSEFSQUNURVJfV0lEVEgsIENIQVJBQ1RFUl9IRUlHSFQpXG4vLyAgICAgLnNldENvbGxpc2lvbkNhdGVnb3J5KDEpXG4vLyAgICAgLnNldERlcHRoKDEpO1xuXG4vLyAgIHRoaXMucmlnaHRMZWcgPSB0aGlzLm1hdHRlci5hZGRcbi8vICAgICAuaW1hZ2UoXG4vLyAgICAgICAzNTAsXG4vLyAgICAgICA1MDAsXG4vLyAgICAgICBgJHt0aGlzLmNoYXJhY3RlclRpZXJzW3RoaXMuZGF0YS5nZXQoXCJ0aWVyXCIpXSA/PyBcInBhcGVyXCJ9LUxsZWdgLFxuLy8gICAgICAgdW5kZWZpbmVkLFxuLy8gICAgICAge1xuLy8gICAgICAgICBzaGFwZTogY2hhcmFjdGVyU2hhcGVzLnJsZWcsXG4vLyAgICAgICAgIGZyaWN0aW9uOiAwLjEsXG4vLyAgICAgICAgIGRlbnNpdHk6IDAuMDAyLFxuLy8gICAgICAgfVxuLy8gICAgIClcbi8vICAgICAuc2V0RGlzcGxheVNpemUoQ0hBUkFDVEVSX1dJRFRIIC0gMzAsIENIQVJBQ1RFUl9IRUlHSFQgLSAzMClcbi8vICAgICAuc2V0RGVwdGgoMSk7XG5cbi8vICAgdGhpcy5sZWZ0TGVnID0gdGhpcy5tYXR0ZXIuYWRkXG4vLyAgICAgLmltYWdlKFxuLy8gICAgICAgMzUwLFxuLy8gICAgICAgNTAwLFxuLy8gICAgICAgYCR7dGhpcy5jaGFyYWN0ZXJUaWVyc1t0aGlzLmRhdGEuZ2V0KFwidGllclwiKV0gPz8gXCJwYXBlclwifS1SbGVnYCxcbi8vICAgICAgIHVuZGVmaW5lZCxcbi8vICAgICAgIHtcbi8vICAgICAgICAgc2hhcGU6IGNoYXJhY3RlclNoYXBlcy5sbGVnLFxuLy8gICAgICAgICBmcmljdGlvbjogMC4xLFxuLy8gICAgICAgICBkZW5zaXR5OiAwLjAwMixcbi8vICAgICAgIH1cbi8vICAgICApXG4vLyAgICAgLnNldERpc3BsYXlTaXplKENIQVJBQ1RFUl9XSURUSCAtIDMwLCBDSEFSQUNURVJfSEVJR0hUIC0gMzApXG4vLyAgICAgLnNldERlcHRoKDEpO1xuXG4vLyAgIC8vIENyZWF0ZSBqb2ludHMgd2l0aCBtb3JlIGZsZXhpYmlsaXR5IGZvciBzd2luZ2luZ1xuLy8gICAvL0B0cy1pZ25vcmVcbi8vICAgY29uc3QgbmVja0xlZnQgPSB0aGlzLm1hdHRlci5hZGQuam9pbnQodGhpcy5oZWFkLCB0aGlzLmJvZHksIDEwLCAwLjEsIHtcbi8vICAgICBwb2ludEE6IHsgeDogMCwgeTogQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuLy8gICAgIHBvaW50QjogeyB4OiAtMjUsIHk6IC1DSEFSQUNURVJfSEVJR0hUIC8gMi42IH0sXG4vLyAgICAgYW5ndWxhclN0aWZmbmVzczogMC4yLFxuLy8gICAgIHN0aWZmbmVzczogMC4yLFxuLy8gICB9KTtcbi8vICAgLy9AdHMtaWdub3JlXG4vLyAgIGNvbnN0IG5lY2tSaWdodCA9IHRoaXMubWF0dGVyLmFkZC5qb2ludCh0aGlzLmhlYWQsIHRoaXMuYm9keSwgMTAsIDAuMSwge1xuLy8gICAgIHBvaW50QTogeyB4OiAwLCB5OiBDSEFSQUNURVJfSEVJR0hUIC8gMi42IH0sXG4vLyAgICAgcG9pbnRCOiB7IHg6IDI1LCB5OiAtQ0hBUkFDVEVSX0hFSUdIVCAvIDIuNiB9LFxuLy8gICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDAuMixcbi8vICAgICBzdGlmZm5lc3M6IDAuMixcbi8vICAgfSk7XG4vLyAgIGNvbnN0IGxlZnRTaG91bGRlciA9IHRoaXMubWF0dGVyLmFkZC5qb2ludChcbi8vICAgICAvL0B0cy1pZ25vcmVcbi8vICAgICB0aGlzLmxlZnRBcm0sXG4vLyAgICAgdGhpcy5ib2R5LFxuLy8gICAgIEpPSU5UX0xFTkdUSCxcbi8vICAgICAwLjMsXG4vLyAgICAge1xuLy8gICAgICAgcG9pbnRBOiB7IHg6IDM1LCB5OiAtMTUgfSxcbi8vICAgICAgIHBvaW50QjogeyB4OiAtMjUsIHk6IC0zNSB9LFxuLy8gICAgICAgYW5ndWxhclN0aWZmbmVzczogMC4yLFxuLy8gICAgIH1cbi8vICAgKTtcbi8vICAgY29uc3QgcmlnaHRTaG91bGRlciA9IHRoaXMubWF0dGVyLmFkZC5qb2ludChcbi8vICAgICAvL0B0cy1pZ25vcmVcbi8vICAgICB0aGlzLnJpZ2h0QXJtLFxuLy8gICAgIHRoaXMuYm9keSxcbi8vICAgICBKT0lOVF9MRU5HVEgsXG4vLyAgICAgMC4zLFxuLy8gICAgIHtcbi8vICAgICAgIHBvaW50QTogeyB4OiAtMzUsIHk6IC0xNSB9LFxuLy8gICAgICAgcG9pbnRCOiB7IHg6IDI1LCB5OiAtMzUgfSxcbi8vICAgICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDAuMixcbi8vICAgICB9XG4vLyAgICk7XG4vLyAgIGNvbnN0IGxlZnRLbmVlID0gdGhpcy5tYXR0ZXIuYWRkLmpvaW50KFxuLy8gICAgIC8vQHRzLWlnbm9yZVxuLy8gICAgIHRoaXMubGVmdExlZyxcbi8vICAgICB0aGlzLmJvZHksXG4vLyAgICAgMSxcbi8vICAgICAwLjQsXG4vLyAgICAge1xuLy8gICAgICAgcG9pbnRBOiB7IHg6IDAsIHk6IC0yMCB9LFxuLy8gICAgICAgcG9pbnRCOiB7IHg6IC0yNSwgeTogMzUgfSxcbi8vICAgICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDAuMyxcbi8vICAgICB9XG4vLyAgICk7XG4vLyAgIGNvbnN0IHJpZ2h0S25lZSA9IHRoaXMubWF0dGVyLmFkZC5qb2ludChcbi8vICAgICAvL0B0cy1pZ25vcmVcbi8vICAgICB0aGlzLnJpZ2h0TGVnLFxuLy8gICAgIHRoaXMuYm9keSxcbi8vICAgICAxLFxuLy8gICAgIDAuNCxcbi8vICAgICB7XG4vLyAgICAgICBwb2ludEE6IHsgeDogMCwgeTogLTIwIH0sXG4vLyAgICAgICBwb2ludEI6IHsgeDogMjUsIHk6IDM1IH0sXG4vLyAgICAgICBhbmd1bGFyU3RpZmZuZXNzOiAwLjMsXG4vLyAgICAgfVxuLy8gICApO1xuLy8gfVxuXG4vLyBwcml2YXRlIHJlbmRlckJ1dHRvbnMoKSB7XG4vLyAgIHRoaXMuZGVidWdCdXR0b24gPSBuZXcgVGV4dEJ1dHRvbihcbi8vICAgICB0aGlzLFxuLy8gICAgIDEwLFxuLy8gICAgIDIwLFxuLy8gICAgIFwiSm91cm5hbFwiLFxuLy8gICAgIHtcbi8vICAgICAgIGNvbG9yOiBcIiNmZmZmZmZcIixcbi8vICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJibGFja1wiLFxuLy8gICAgICAgcGFkZGluZzogeyBsZWZ0OiAxMCwgcmlnaHQ6IDEwLCB0b3A6IDEwLCBib3R0b206IDEwIH0sXG4vLyAgICAgICBzaGFkb3c6IHsgY29sb3I6IFwiIzAwMFwiLCBvZmZzZXRYOiAxLCBvZmZzZXRZOiAxLCBibHVyOiAxIH0sXG4vLyAgICAgfSxcbi8vICAgICAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFwiY2xpY2tcIik7XG4vLyAgICAgICAvLyBUb2dnbGUgZGVidWcgc3RhdGVcbi8vICAgICAgIHRoaXMuZGF0YS5zZXQoXCJkZWJ1Z1wiLCAhdGhpcy5kYXRhLmdldChcImRlYnVnXCIpKTtcbi8vICAgICAgIC8vIFVwZGF0ZSBidXR0b24gdGV4dCB0byBzaG93IGN1cnJlbnQgc3RhdGVcbi8vICAgICAgIHRoaXMuZGVidWdCdXR0b24uc2V0VGV4dChcbi8vICAgICAgICAgdGhpcy5kYXRhLmdldChcImRlYnVnXCIpID8gXCJIaWRlIEpvdXJuYWxcIiA6IFwiSm91cm5hbFwiXG4vLyAgICAgICApO1xuXG4vLyAgICAgICAvLyBpZiAodGhpcy5kYXRhLmdldChcImRlYnVnXCIpKSB7XG4vLyAgICAgICAvLyAgIHRoaXMuY2xhc3NTZWxlY3Rpb24uaGlkZShmYWxzZSk7XG4vLyAgICAgICAvLyB9IGVsc2Uge1xuLy8gICAgICAgLy8gICB0aGlzLmNsYXNzU2VsZWN0aW9uLmhpZGUodHJ1ZSk7XG4vLyAgICAgICAvLyB9XG4vLyAgICAgfVxuLy8gICApO1xuXG4vLyAgIHRoaXMuYWRkLmV4aXN0aW5nKHRoaXMuZGVidWdCdXR0b24pO1xuXG4vLyAgIGNvbnN0IHdlYXBvbnM6IEFycmF5PHtcbi8vICAgICBrZXk6IEdhbWVXZWFwb25LZXkgfCB1bmRlZmluZWQ7XG4vLyAgICAgbGFiZWw6IHN0cmluZztcbi8vICAgICB5OiBudW1iZXI7XG4vLyAgIH0+ID0gW1xuLy8gICAgIHsga2V5OiB1bmRlZmluZWQsIGxhYmVsOiBcIkZpc3RzXCIsIHk6IDYwIH0sXG4vLyAgICAgeyBrZXk6IFwia25pZmVcIiwgbGFiZWw6IFwiS25pdmVzXCIsIHk6IDEwMCB9LFxuLy8gICAgIHsga2V5OiBcImRlYWdsZVwiLCBsYWJlbDogXCJEZWFnbGVcIiwgeTogMTQwIH0sXG4vLyAgICAgeyBrZXk6IFwiZ3JlbmFkZVwiLCBsYWJlbDogXCJHcmVuYWRlXCIsIHk6IDE4MCB9LFxuLy8gICAgIHsga2V5OiBcImZpcmUtYm9tYlwiLCBsYWJlbDogXCJGaXJlIEJvbWJcIiwgeTogMjIwIH0sXG4vLyAgICAgeyBrZXk6IFwic3RpY2t5LWJvbWJcIiwgbGFiZWw6IFwiU3RpY2t5IEJvbWJcIiwgeTogMjYwIH0sXG4vLyAgICAgeyBrZXk6IFwiY2hhaW5zYXdcIiwgbGFiZWw6IFwiQ2hhaW5zYXdcIiwgeTogMzAwIH0sXG4vLyAgICAgeyBrZXk6IFwibGlnaHRzYWJlclwiLCBsYWJlbDogXCJMaWdodHNhYmVyXCIsIHk6IDM0MCB9LFxuLy8gICAgIHsga2V5OiBcInRvbW15XCIsIGxhYmVsOiBcIlRvbW15IEd1blwiLCB5OiAzODAgfSxcbi8vICAgICB7IGtleTogXCJtZ1wiLCBsYWJlbDogXCJNYWNoaW5lIEd1blwiLCB5OiA0MjAgfSxcbi8vICAgICB7IGtleTogXCJyYWlsZ3VuXCIsIGxhYmVsOiBcIlJhaWwgR3VuXCIsIHk6IDQ2MCB9LFxuLy8gICAgIHsga2V5OiBcInJheWd1blwiLCBsYWJlbDogXCJSYXkgR3VuXCIsIHk6IDUwMCB9LFxuLy8gICAgIHsga2V5OiBcInJwZ1wiLCBsYWJlbDogXCJSb2NrZXQgTGF1bmNoZXJcIiwgeTogNTQwIH0sXG4vLyAgIF07XG5cbi8vICAgd2VhcG9ucy5mb3JFYWNoKCh7IGtleSwgbGFiZWwsIHkgfSkgPT4ge1xuLy8gICAgIHRoaXMud2VhcG9uQnV0dG9ucy5zZXQoXG4vLyAgICAgICBrZXkgfHwgXCJmaXN0XCIsXG4vLyAgICAgICBuZXcgVGV4dEJ1dHRvbihcbi8vICAgICAgICAgdGhpcyxcbi8vICAgICAgICAgMTAsXG4vLyAgICAgICAgIHksXG4vLyAgICAgICAgIGxhYmVsLFxuLy8gICAgICAgICB7XG4vLyAgICAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxuLy8gICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJibGFja1wiLFxuLy8gICAgICAgICAgIHBhZGRpbmc6IHsgbGVmdDogMTAsIHJpZ2h0OiAxMCwgdG9wOiAxMCwgYm90dG9tOiAxMCB9LFxuLy8gICAgICAgICAgIHNoYWRvdzogeyBjb2xvcjogXCIjMDAwXCIsIG9mZnNldFg6IDEsIG9mZnNldFk6IDEsIGJsdXI6IDEgfSxcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgKCkgPT4ge1xuLy8gICAgICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoXCJjbGlja1wiKTtcbi8vICAgICAgICAgICB0aGlzLnNldFdlYXBvbihrZXkpO1xuLy8gICAgICAgICB9XG4vLyAgICAgICApXG4vLyAgICAgKTtcbi8vICAgfSk7XG5cbi8vICAgdGhpcy53ZWFwb25CdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuLy8gICAgIHRoaXMuYWRkLmV4aXN0aW5nKGJ1dHRvbik7XG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBwcml2YXRlIGNyZWF0ZVdlYXBvblNlbGVjdGlvbkFyZWEoKSB7XG4vLyAgIGNvbnN0IHRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDcyOCwgYFBvaW50ZXIgT3ZlciAke3RoaXMucG9pbnRlck92ZXJ9YCwge1xuLy8gICAgIGZvbnRTaXplOiBcIjE2cHhcIixcbi8vICAgICBjb2xvcjogXCIjZmZmZmZmXCIsXG4vLyAgIH0pO1xuLy8gICB0aGlzLndlYXBvblNlbGVjdGlvbkFyZWEgPSB0aGlzLmFkZFxuLy8gICAgIC5yZWN0YW5nbGUoMCwgMCwgMjAwLCA3NjggKiAyLCAweDAwMDAwMCwgMClcbi8vICAgICAuc2V0RGVwdGgoLTEpXG4vLyAgICAgLnNldEludGVyYWN0aXZlKClcbi8vICAgICAub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XG4vLyAgICAgICB0aGlzLnBvaW50ZXJPdmVyID0gdHJ1ZTtcbi8vICAgICAgIC8vIHRleHQuc2V0VGV4dChgUG9pbnRlciBPdmVyICR7dGhpcy5wb2ludGVyT3Zlcn1gKTtcbi8vICAgICAgIC8vIHRoaXMud2VhcG9uU2VsZWN0aW9uQXJlYS5zZXRGaWxsU3R5bGUoMHhmZjAwMDAsIDAuNSk7XG4vLyAgICAgfSlcbi8vICAgICAub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcbi8vICAgICAgIHRoaXMucG9pbnRlck92ZXIgPSBmYWxzZTtcbi8vICAgICAgIC8vIHRleHQuc2V0VGV4dChgUG9pbnRlciBPdmVyICR7dGhpcy5wb2ludGVyT3Zlcn1gKTtcbi8vICAgICAgIC8vIHRoaXMud2VhcG9uU2VsZWN0aW9uQXJlYS5zZXRGaWxsU3R5bGUoMHgwMDAwMDAsIDAuNSk7XG4vLyAgICAgfSlcbi8vICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XG4vLyAgICAgICAvLyB0aGlzLndlYXBvblNlbGVjdGlvbkFyZWEuc2V0RmlsbFN0eWxlKDB4MDBmZjAwLCAwLjUpO1xuLy8gICAgIH0pXG4vLyAgICAgLm9uKFwicG9pbnRlcnVwXCIsICgpID0+IHtcbi8vICAgICAgIC8vIHRoaXMud2VhcG9uU2VsZWN0aW9uQXJlYS5zZXRGaWxsU3R5bGUoMHgwMDAwMDAsIDAuNSk7XG4vLyAgICAgfSk7XG4vLyB9XG5cbi8vIHNldFdlYXBvbih3ZWFwb246IEdhbWVXZWFwb25LZXkgfCB1bmRlZmluZWQpIHtcbi8vICAgLy8gUmVtb3ZlIGN1cnJlbnQgd2VhcG9uIGZyb20gZGlzcGxheVxuLy8gICBpZiAodGhpcy5jdXJyZW50V2VhcG9uKSB7XG4vLyAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnJlbW92ZUZyb21EaXNwbGF5TGlzdCgpO1xuLy8gICB9XG5cbi8vICAgLy8gRGVzdHJveSBhbnkgcHJldmlvdXMgd2VhcG9uXG4vLyAgIGlmICh0aGlzLndlYXBvbiAmJiB0aGlzLmN1cnJlbnRXZWFwb24pIHtcbi8vICAgICB0aGlzLmN1cnJlbnRXZWFwb24uZGVzdHJveSgpO1xuLy8gICAgIHRoaXMud2VhcG9uID0gdW5kZWZpbmVkO1xuLy8gICB9XG5cbi8vICAgLy8gU2V0IGFuZCBzaG93IHRoZSBhcHByb3ByaWF0ZSB3ZWFwb25cbi8vICAgaWYgKCF3ZWFwb24pIHtcbi8vICAgICB0aGlzLmN1cnJlbnRXZWFwb24gPSB1bmRlZmluZWQ7XG4vLyAgICAgcmV0dXJuO1xuLy8gICB9XG5cbi8vICAgY29uc3Qgd2VhcG9uQ29uZmlnOiBSZWNvcmQ8R2FtZVdlYXBvbktleSwgV2VhcG9uQ29uZmlnPiA9IHtcbi8vICAgICBkZWFnbGU6IHtcbi8vICAgICAgIHRleHR1cmU6IFwiZGVhZ2xlZmlyaW5nXzAwMDE4XCIsXG4vLyAgICAgICB3aWR0aDogMjAwLFxuLy8gICAgICAgaGVpZ2h0OiAxMDAsXG4vLyAgICAgICBuYW1lOiBcImRlYWdsZVwiLFxuLy8gICAgIH0sXG4vLyAgICAgdG9tbXk6IHsgdGV4dHVyZTogXCJ0b21teVwiLCB3aWR0aDogMzAwLCBoZWlnaHQ6IDE1MCwgbmFtZTogXCJ0b21teVwiIH0sXG4vLyAgICAga25pZmU6IHsgdGV4dHVyZTogXCJrbmlmZVwiLCB3aWR0aDogMzAwLCBoZWlnaHQ6IDE1MCwgbmFtZTogXCJrbmlmZVwiIH0sXG4vLyAgICAgcnBnOiB7IHRleHR1cmU6IFwicnBnXCIsIHdpZHRoOiAzMDAsIGhlaWdodDogMTUwLCBuYW1lOiBcInJwZ1wiIH0sXG4vLyAgICAgZ3JlbmFkZTogeyB0ZXh0dXJlOiBcImdyZW5hZGVcIiwgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxMDAsIG5hbWU6IFwiZ3JlbmFkZVwiIH0sXG4vLyAgICAgXCJmaXJlLWJvbWJcIjoge1xuLy8gICAgICAgdGV4dHVyZTogXCJmaXJlLWJvbWJcIixcbi8vICAgICAgIHdpZHRoOiAxMjAsXG4vLyAgICAgICBoZWlnaHQ6IDcwLFxuLy8gICAgICAgbmFtZTogXCJmaXJlLWJvbWJcIixcbi8vICAgICB9LFxuLy8gICAgIFwic3RpY2t5LWJvbWJcIjoge1xuLy8gICAgICAgdGV4dHVyZTogXCJzdGlja3ktYm9tYlwiLFxuLy8gICAgICAgd2lkdGg6IDEwMCxcbi8vICAgICAgIGhlaWdodDogMTAwLFxuLy8gICAgICAgbmFtZTogXCJzdGlja3ktYm9tYlwiLFxuLy8gICAgIH0sXG4vLyAgICAgY2hhaW5zYXc6IHtcbi8vICAgICAgIHRleHR1cmU6IFwiY2hhaW5zYXdcIixcbi8vICAgICAgIHdpZHRoOiAzMDAsXG4vLyAgICAgICBoZWlnaHQ6IDE1MCxcbi8vICAgICAgIG5hbWU6IFwiY2hhaW5zYXdcIixcbi8vICAgICB9LFxuLy8gICAgIGxpZ2h0c2FiZXI6IHtcbi8vICAgICAgIHRleHR1cmU6IFwibGlnaHRzYWJlclwiLFxuLy8gICAgICAgd2lkdGg6IDMwMCxcbi8vICAgICAgIGhlaWdodDogMTUwLFxuLy8gICAgICAgbmFtZTogXCJsaWdodHNhYmVyXCIsXG4vLyAgICAgfSxcbi8vICAgICBtZzogeyB0ZXh0dXJlOiBcIm1nXCIsIHdpZHRoOiAzMDAsIGhlaWdodDogMTUwLCBuYW1lOiBcIm1nXCIgfSxcbi8vICAgICByYWlsZ3VuOiB7IHRleHR1cmU6IFwicmFpbGd1blwiLCB3aWR0aDogMzAwLCBoZWlnaHQ6IDE1MCwgbmFtZTogXCJyYWlsZ3VuXCIgfSxcbi8vICAgICByYXlndW46IHsgdGV4dHVyZTogXCJyYXlndW5cIiwgd2lkdGg6IDMwMCwgaGVpZ2h0OiAxNTAsIG5hbWU6IFwicmF5Z3VuXCIgfSxcbi8vICAgfTtcblxuLy8gICBjb25zdCBjb25maWcgPSB3ZWFwb24gPyB3ZWFwb25Db25maWdbd2VhcG9uXSA6IHVuZGVmaW5lZDtcbi8vICAgaWYgKGNvbmZpZykge1xuLy8gICAgIHRoaXMud2VhcG9uID0gd2VhcG9uO1xuLy8gICAgIHRoaXMuY3VycmVudFdlYXBvbiA9IHRoaXMuYWRkXG4vLyAgICAgICAuc3ByaXRlKDEwMjQgLyAyLCA3NjggLyAyLCBjb25maWcudGV4dHVyZSlcbi8vICAgICAgIC5zZXREaXNwbGF5U2l6ZShjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpXG4vLyAgICAgICAucmVtb3ZlRnJvbURpc3BsYXlMaXN0KClcbi8vICAgICAgIC5zZXROYW1lKGNvbmZpZy5uYW1lKTtcbi8vICAgfVxuLy8gfVxuXG4vLyBzcGF3blByb2plY3RpbGUoc3RhcnRQb2ludDogUGhhc2VyLk1hdGguVmVjdG9yMik6IHZvaWQge1xuLy8gICBjb25zdCBjaGFyYWN0ZXJQb3MgPSB0aGlzLmNoYXJhY3Rlci5nZXRQb3NpdGlvbigpO1xuLy8gICBjb25zdCB0YXJnZXRQb2ludCA9IG5ldyBQaGFzZXIuTWF0aC5WZWN0b3IyKGNoYXJhY3RlclBvcy54LCBjaGFyYWN0ZXJQb3MueSk7XG5cbi8vICAgLy8gQ2FsY3VsYXRlIGFuZ2xlIGJldHdlZW4gc3RhcnQgYW5kIHRhcmdldCBwb2ludHNcbi8vICAgY29uc3QgYW5nbGUgPSBQaGFzZXIuTWF0aC5BbmdsZS5CZXR3ZWVuKFxuLy8gICAgIHN0YXJ0UG9pbnQueCxcbi8vICAgICBzdGFydFBvaW50LnksXG4vLyAgICAgdGFyZ2V0UG9pbnQueCxcbi8vICAgICB0YXJnZXRQb2ludC55XG4vLyAgICk7XG5cbi8vICAgbGV0IHNwZWVkID0gNTA7XG4vLyAgIGxldCBwcm9qZWN0aWxlO1xuLy8gICBsZXQgdGhyb3dGb3JjZSA9IDA7XG4vLyAgIGxldCBwcm9qZWN0aWxlQ29uZmlnID0ge1xuLy8gICAgIGZyaWN0aW9uOiAwLFxuLy8gICAgIGZyaWN0aW9uU3RhdGljOiAwLFxuLy8gICAgIGZyaWN0aW9uQWlyOiAwLjAwNSwgLy8gQWRkIGFpciBmcmljdGlvbiBmb3IgYXJjaW5nIG1vdGlvblxuLy8gICAgIHJlc3RpdHV0aW9uOiAwLjMsIC8vIFJlZHVjZSBib3VuY2Vcbi8vICAgICBhbmdsZTogYW5nbGUgKyBNYXRoLlBJLFxuLy8gICAgIGRlbnNpdHk6IDAuMDAxLCAvLyBMaWdodCBlbm91Z2ggdG8gYXJjXG4vLyAgICAgaWdub3JlUG9pbnRlcjogdHJ1ZSxcbi8vICAgfTtcblxuLy8gICBzd2l0Y2ggKHRoaXMud2VhcG9uKSB7XG4vLyAgICAgY2FzZSBcImRlYWdsZVwiOlxuLy8gICAgICAgc3BlZWQgPSA3NTtcbi8vICAgICAgIHByb2plY3RpbGUgPSB0aGlzLmFkZFxuLy8gICAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwiZGVhZ2xlLWJ1bGxldFwiKVxuLy8gICAgICAgICAuc2V0U2NhbGUoMC4wNiwgMC4xKTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJ0b21teVwiOlxuLy8gICAgICAgc3BlZWQgPSA1MDtcbi8vICAgICAgIHByb2plY3RpbGUgPSB0aGlzLmFkZFxuLy8gICAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwidG9tbXktYnVsbGV0XCIpXG4vLyAgICAgICAgIC5zZXRTY2FsZSgwLjA0LCAwLjA4KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJycGdcIjpcbi8vICAgICAgIHNwZWVkID0gNTA7XG4vLyAgICAgICBwcm9qZWN0aWxlID0gdGhpcy5hZGRcbi8vICAgICAgICAgLmltYWdlKHRoaXMuYmFycmVsUG9pbnQueCwgdGhpcy5iYXJyZWxQb2ludC55LCBcInJwZy1idWxsZXRcIilcbi8vICAgICAgICAgLnNldFNjYWxlKDAuMSwgMC4xKTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJrbmlmZVwiOlxuLy8gICAgICAgc3BlZWQgPSA0MDtcbi8vICAgICAgIHByb2plY3RpbGUgPSB0aGlzLmFkZFxuLy8gICAgICAgICAuaW1hZ2UodGhpcy5iYXJyZWxQb2ludC54LCB0aGlzLmJhcnJlbFBvaW50LnksIFwia25pZmVcIilcbi8vICAgICAgICAgLnNldFNjYWxlKDAuMDgsIDAuMDgpO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgY2FzZSBcInJheWd1blwiOlxuLy8gICAgICAgc3BlZWQgPSA1MDtcbi8vICAgICAgIHByb2plY3RpbGUgPSB0aGlzLmFkZC5pbWFnZShcbi8vICAgICAgICAgdGhpcy5iYXJyZWxQb2ludC54LFxuLy8gICAgICAgICB0aGlzLmJhcnJlbFBvaW50LnksXG4vLyAgICAgICAgIFwicmF5Z3VuLWJ1bGxldFwiXG4vLyAgICAgICApO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgY2FzZSBcIm1nXCI6XG4vLyAgICAgICBzcGVlZCA9IDUwO1xuLy8gICAgICAgcHJvamVjdGlsZSA9IHRoaXMuYWRkXG4vLyAgICAgICAgIC5pbWFnZSh0aGlzLmJhcnJlbFBvaW50LngsIHRoaXMuYmFycmVsUG9pbnQueSwgXCJtZy1idWxsZXRcIilcbi8vICAgICAgICAgLnNldFNjYWxlKDAuMDgsIDAuMDgpO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgY2FzZSBcImdyZW5hZGVcIjpcbi8vICAgICBjYXNlIFwic3RpY2t5LWJvbWJcIjpcbi8vICAgICBjYXNlIFwiZmlyZS1ib21iXCI6XG4vLyAgICAgICBwcm9qZWN0aWxlID0gdGhpcy5hZGRcbi8vICAgICAgICAgLmltYWdlKHN0YXJ0UG9pbnQueCwgc3RhcnRQb2ludC55LCB0aGlzLndlYXBvbilcbi8vICAgICAgICAgLnNldFNjYWxlKDAuMTUpO1xuXG4vLyAgICAgICAvLyBBZGQgcm90YXRpb24gdG8gdGhlIHRocm93YWJsZVxuLy8gICAgICAgcHJvamVjdGlsZUNvbmZpZyA9IHtcbi8vICAgICAgICAgLi4ucHJvamVjdGlsZUNvbmZpZyxcbi8vICAgICAgICAgLy9AdHMtaWdub3JlXG4vLyAgICAgICAgIHNoYXBlOiB7IHR5cGU6IFwiY2lyY2xlXCIsIHJhZGl1czogMTUgfSxcbi8vICAgICAgICAgYW5ndWxhclZlbG9jaXR5OiAwLjIsIC8vIEluY3JlYXNlZCByb3RhdGlvbiBzcGVlZFxuLy8gICAgICAgICBsYWJlbDogdGhpcy53ZWFwb24sIC8vIFVzZWQgdG8gaWRlbnRpZnkgcHJvamVjdGlsZSB0eXBlIGluIGNvbGxpc2lvblxuLy8gICAgICAgfTtcblxuLy8gICAgICAgLy8gQ2FsY3VsYXRlIHRocm93IGZvcmNlIGJhc2VkIG9uIGRpc3RhbmNlIHRvIHRhcmdldCB3aXRoIGluY3JlYXNlZCBmb3JjZVxuLy8gICAgICAgY29uc3QgZGlzdGFuY2UgPSBQaGFzZXIuTWF0aC5EaXN0YW5jZS5CZXR3ZWVuKFxuLy8gICAgICAgICBzdGFydFBvaW50LngsXG4vLyAgICAgICAgIHN0YXJ0UG9pbnQueSxcbi8vICAgICAgICAgdGFyZ2V0UG9pbnQueCxcbi8vICAgICAgICAgdGFyZ2V0UG9pbnQueVxuLy8gICAgICAgKTtcbi8vICAgICAgIHRocm93Rm9yY2UgPSBNYXRoLm1pbihkaXN0YW5jZSAqIDAuMDIsIDI1KTsgLy8gU2xpZ2h0bHkgcmVkdWNlZCBtdWx0aXBsaWVyIGFuZCBtYXggZm9yY2VcblxuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgZGVmYXVsdDpcbi8vICAgICAgIHJldHVybjtcbi8vICAgfVxuXG4vLyAgIGlmIChcbi8vICAgICB0aGlzLndlYXBvbiA9PT0gXCJncmVuYWRlXCIgfHxcbi8vICAgICB0aGlzLndlYXBvbiA9PT0gXCJzdGlja3ktYm9tYlwiIHx8XG4vLyAgICAgdGhpcy53ZWFwb24gPT09IFwiZmlyZS1ib21iXCJcbi8vICAgKSB7XG4vLyAgICAgY29uc3QgbWF0dGVyQm9tYiA9IHRoaXMubWF0dGVyLmFkZC5nYW1lT2JqZWN0KHByb2plY3RpbGUsIHtcbi8vICAgICAgIC4uLnByb2plY3RpbGVDb25maWcsXG4vLyAgICAgICBvbkNvbGxpZGVDYWxsYmFjazogKGNvbGxpc2lvbjogTWF0dGVySlMuSUNvbGxpc2lvblBhaXIpID0+IHtcbi8vICAgICAgICAgY29uc3QgYm9keUEgPSBjb2xsaXNpb24uYm9keUE7XG4vLyAgICAgICAgIGNvbnN0IGJvZHlCID0gY29sbGlzaW9uLmJvZHlCO1xuXG4vLyAgICAgICAgIGNvbnN0IGNvbGxpc2lvblBvaW50ID0ge1xuLy8gICAgICAgICAgIHg6IGNvbGxpc2lvbi5jb2xsaXNpb24uc3VwcG9ydHNbMF0/LngsXG4vLyAgICAgICAgICAgeTogY29sbGlzaW9uLmNvbGxpc2lvbi5zdXBwb3J0c1swXT8ueSxcbi8vICAgICAgICAgfTtcblxuLy8gICAgICAgICBzd2l0Y2ggKHRoaXMud2VhcG9uKSB7XG4vLyAgICAgICAgICAgY2FzZSBcInN0aWNreS1ib21iXCI6IHtcbi8vICAgICAgICAgICAgIC8vIFN0aWNrIHRvIHRoZSBmaXJzdCB0aGluZyBoaXRcbi8vICAgICAgICAgICAgIGlmICghbWF0dGVyQm9tYi5nZXREYXRhKFwic3R1Y2tcIikpIHtcbi8vICAgICAgICAgICAgICAgbWF0dGVyQm9tYi5zZXREYXRhKFwic3R1Y2tcIiwgdHJ1ZSk7XG4vLyAgICAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxuLy8gICAgICAgICAgICAgICB0aGlzLm1hdHRlci5hZGQuam9pbnQoYm9keUEsIGJvZHlCLCB7XG4vLyAgICAgICAgICAgICAgICAgcG9pbnRBOiB7IHg6IDAsIHk6IDAgfSxcbi8vICAgICAgICAgICAgICAgICBwb2ludEI6IHsgeDogMCwgeTogMCB9LFxuLy8gICAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICAgICAgLy8gdGhpcy5tYXR0ZXIuc2V0U3RhdGljKG1hdHRlckJvbWIsIHRydWUpO1xuXG4vLyAgICAgICAgICAgICAgIC8vIEV4cGxvZGUgYWZ0ZXIgZGVsYXlcbi8vICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcbi8vICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUV4cGxvc2lvbihjb2xsaXNpb25Qb2ludC54LCBjb2xsaXNpb25Qb2ludC55KTtcbi8vICAgICAgICAgICAgICAgICBtYXR0ZXJCb21iLmRlc3Ryb3koKTtcbi8vICAgICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgICAgY2FzZSBcImZpcmUtYm9tYlwiOiB7XG4vLyAgICAgICAgICAgICAvLyBDcmVhdGUgZmlyZSBlZmZlY3QgYW5kIERPVCBkYW1hZ2Vcbi8vICAgICAgICAgICAgIHRoaXMuY3JlYXRlRmlyZUVmZmVjdChjb2xsaXNpb25Qb2ludC54LCBjb2xsaXNpb25Qb2ludC55KTtcbi8vICAgICAgICAgICAgIG1hdHRlckJvbWIuZGVzdHJveSgpO1xuLy8gICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgfVxuLy8gICAgICAgICAgIGNhc2UgXCJncmVuYWRlXCI6IHtcbi8vICAgICAgICAgICAgIC8vIEV4cGxvZGUgaW1tZWRpYXRlbHkgb24gaW1wYWN0XG4vLyAgICAgICAgICAgICB0aGlzLmNyZWF0ZUV4cGxvc2lvbihjb2xsaXNpb25Qb2ludC54LCBjb2xsaXNpb25Qb2ludC55KTtcbi8vICAgICAgICAgICAgIG1hdHRlckJvbWIuZGVzdHJveSgpO1xuLy8gICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgfVxuLy8gICAgICAgICB9XG4vLyAgICAgICB9LFxuLy8gICAgIH0pO1xuXG4vLyAgICAgLy8gQXBwbHkgYXJjIHRyYWplY3Rvcnlcbi8vICAgICB0aGlzLm1hdHRlci5zZXRWZWxvY2l0eShcbi8vICAgICAgIG1hdHRlckJvbWIsXG4vLyAgICAgICBNYXRoLmNvcyhhbmdsZSkgKiB0aHJvd0ZvcmNlLFxuLy8gICAgICAgTWF0aC5zaW4oYW5nbGUpICogdGhyb3dGb3JjZSAtIDUgLy8gTmVnYXRpdmUgWSBmb3IgdXB3YXJkIGFyY1xuLy8gICAgICk7XG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgY29uc3QgbWF0dGVyQnVsbGV0ID0gdGhpcy5tYXR0ZXIuYWRkLmdhbWVPYmplY3QocHJvamVjdGlsZSwge1xuLy8gICAgICAgZnJpY3Rpb246IDAsXG4vLyAgICAgICBmcmljdGlvblN0YXRpYzogMCxcbi8vICAgICAgIGZyaWN0aW9uQWlyOiAwLFxuLy8gICAgICAgcmVzdGl0dXRpb246IDEsXG4vLyAgICAgICBhbmdsZTogYW5nbGUgKyBNYXRoLlBJLFxuLy8gICAgICAgaWdub3JlUG9pbnRlcjogdHJ1ZSxcbi8vICAgICAgIHNoYXBlOiB7XG4vLyAgICAgICAgIHR5cGU6IFwiY2lyY2xlXCIsXG4vLyAgICAgICAgIHJhZGl1czogMTAsXG4vLyAgICAgICB9LFxuLy8gICAgICAgb25Db2xsaWRlQ2FsbGJhY2s6ICgpID0+IHtcbi8vICAgICAgICAgaWYgKHRoaXMud2VhcG9uID09PSBcInJwZ1wiKSB7XG4vLyAgICAgICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShcImV4cGxvZGVcIik7XG4vLyAgICAgICAgIH0gZWxzZSBpZiAodGhpcy53ZWFwb24gPT09IFwicmF5Z3VuXCIpIHtcbi8vICAgICAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFwicmF5Z3VuLWltcGFjdFwiKTtcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIC8vIENhbGN1bGF0ZSBkYW1hZ2UgYmFzZWQgb24gd2VhcG9uIHR5cGVcbi8vICAgICAgICAgbGV0IGRhbWFnZSA9IDAuMDU7IC8vIGRlZmF1bHQgZGFtYWdlXG4vLyAgICAgICAgIHN3aXRjaCAodGhpcy53ZWFwb24pIHtcbi8vICAgICAgICAgICBjYXNlIFwicnBnXCI6XG4vLyAgICAgICAgICAgICBkYW1hZ2UgPSAxO1xuLy8gICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgY2FzZSBcImRlYWdsZVwiOlxuLy8gICAgICAgICAgICAgZGFtYWdlID0gMC41O1xuLy8gICAgICAgICAgICAgYnJlYWs7XG4vLyAgICAgICAgICAgY2FzZSBcInRvbW15XCI6XG4vLyAgICAgICAgICAgICBkYW1hZ2UgPSAwLjM7XG4vLyAgICAgICAgICAgICBicmVhaztcbi8vICAgICAgICAgICBjYXNlIFwibWdcIjpcbi8vICAgICAgICAgICAgIGRhbWFnZSA9IDAuNDtcbi8vICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgIGNhc2UgXCJyYXlndW5cIjpcbi8vICAgICAgICAgICAgIGRhbWFnZSA9IDAuMztcbi8vICAgICAgICAgICAgIGJyZWFrO1xuLy8gICAgICAgICAgIC8vIEFkZCBvdGhlciB3ZWFwb24gZGFtYWdlIHZhbHVlcyBhcyBuZWVkZWRcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIGNvbnN0IGlzRXhwbG9zaW9uID0gdGhpcy53ZWFwb24gPT09IFwicnBnXCI7XG4vLyAgICAgICAgIEV2ZW50QnVzLmVtaXQoXCJwcm9qZWN0aWxlLWhpdFwiLCB7IGRhbWFnZSwgaXNFeHBsb3Npb24gfSk7XG4vLyAgICAgICAgIG1hdHRlckJ1bGxldC5kZXN0cm95KCk7XG4vLyAgICAgICB9LFxuLy8gICAgIH0pO1xuXG4vLyAgICAgLy8gU2V0IHZlbG9jaXR5IGJhc2VkIG9uIGFuZ2xlIHRvIHRhcmdldFxuLy8gICAgIHRoaXMubWF0dGVyLnNldFZlbG9jaXR5KFxuLy8gICAgICAgbWF0dGVyQnVsbGV0LFxuLy8gICAgICAgc3BlZWQgKiBNYXRoLmNvcyhhbmdsZSksXG4vLyAgICAgICBzcGVlZCAqIE1hdGguc2luKGFuZ2xlKVxuLy8gICAgICk7XG4vLyAgIH1cbi8vIH1cblxuLy8gZmlyZVdlYXBvbigpIHtcbi8vICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcbi8vICAgLy8gRG9uJ3QgZmlyZSBpZiBwb2ludGVyIGlzIG92ZXIgd2VhcG9uIHNlbGVjdGlvbiBhcmVhXG4vLyAgIGlmICh0aGlzLnBvaW50ZXJPdmVyKSB7XG4vLyAgICAgcmV0dXJuO1xuLy8gICB9XG5cbi8vICAgLy8gRG9uJ3QgZmlyZSBpZiB1c2luZyBmaXN0c1xuLy8gICBpZiAodGhpcy53ZWFwb24gPT09IHVuZGVmaW5lZCkge1xuLy8gICAgIHJldHVybjtcbi8vICAgfVxuXG4vLyAgIC8vIERvbid0IGZpcmUgaWYgbm8gd2VhcG9uIGVxdWlwcGVkIG9yIHdlYXBvbiBub3QgdmlzaWJsZVxuLy8gICBpZiAoIXRoaXMuY3VycmVudFdlYXBvbiB8fCAhdGhpcy5jdXJyZW50V2VhcG9uLmdldERpc3BsYXlMaXN0KCkpIHtcbi8vICAgICByZXR1cm47XG4vLyAgIH1cblxuLy8gICAvLyBDYWxjdWxhdGUgc3Bhd24gcG9zaXRpb24gb2Zmc2V0IGJhc2VkIG9uIGd1biBhbmdsZSBhbmQgZmxpcFxuLy8gICBjb25zdCBzcGF3bk9mZnNldCA9IHRoaXMuY3VycmVudFdlYXBvbi5mbGlwWCA/IC0xMDAgOiAxMDA7XG4vLyAgIGNvbnN0IHNwYXduWCA9IHRoaXMuY3VycmVudFdlYXBvbi54ICsgc3Bhd25PZmZzZXQ7XG5cbi8vICAgc3dpdGNoICh0aGlzLndlYXBvbikge1xuLy8gICAgIGNhc2UgXCJkZWFnbGVcIjpcbi8vICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoXCJkZWFnbGUtY29ja1wiKTtcbi8vICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoXCJkZWFnbGUtZmlyZVwiKTtcbi8vICAgICAgIHRoaXMuY3VycmVudFdlYXBvblxuLy8gICAgICAgICAucGxheShcImRlYWdsZUZpcmVcIilcbi8vICAgICAgICAgLm9uKFBoYXNlci5BbmltYXRpb25zLkV2ZW50cy5BTklNQVRJT05fQ09NUExFVEUsICgpID0+IHtcbi8vICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwiZGVhZ2xlLWZpcmVkXCIpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJ0b21teVwiOlxuLy8gICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShcImRlYWdsZS1maXJlXCIpO1xuLy8gICAgICAgdGhpcy5jdXJyZW50V2VhcG9uXG4vLyAgICAgICAgIC5wbGF5KFwidG9tbXlGaXJlXCIpXG4vLyAgICAgICAgIC5vbihQaGFzZXIuQW5pbWF0aW9ucy5FdmVudHMuQU5JTUFUSU9OX0NPTVBMRVRFLCAoKSA9PiB7XG4vLyAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChcInRvbW15LWZpcmVkXCIpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJycGdcIjpcbi8vICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoXCJycGctZmlyZVwiKTtcbi8vICAgICAgIHRoaXMuY3VycmVudFdlYXBvblxuLy8gICAgICAgICAucGxheShcInJwZ0ZpcmVcIilcbi8vICAgICAgICAgLm9uKFBoYXNlci5BbmltYXRpb25zLkV2ZW50cy5BTklNQVRJT05fQ09NUExFVEUsICgpID0+IHtcbi8vICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwicm9ja2V0LWZpcmVkXCIpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJtZ1wiOlxuLy8gICAgICAgdGhpcy5zb3VuZE1hbmFnZXIucGxheShcImRlYWdsZS1maXJlXCIpO1xuLy8gICAgICAgdGhpcy5jdXJyZW50V2VhcG9uXG4vLyAgICAgICAgIC5wbGF5KFwibWdGaXJlXCIpXG4vLyAgICAgICAgIC5vbihQaGFzZXIuQW5pbWF0aW9ucy5FdmVudHMuQU5JTUFUSU9OX0NPTVBMRVRFLCAoKSA9PiB7XG4vLyAgICAgICAgICAgdGhpcy5ldmVudHMuZW1pdChcIm1nLWZpcmVkXCIpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJyYXlndW5cIjpcbi8vICAgICAgIHRoaXMuc291bmRNYW5hZ2VyLnBsYXkoXCJyYXlndW4tZmlyZVwiKTtcbi8vICAgICAgIHRoaXMuY3VycmVudFdlYXBvblxuLy8gICAgICAgICAucGxheShcInJheWd1bkZpcmVcIilcbi8vICAgICAgICAgLm9uKFBoYXNlci5BbmltYXRpb25zLkV2ZW50cy5BTklNQVRJT05fQ09NUExFVEUsICgpID0+IHtcbi8vICAgICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFwicmF5Z3VuLWZpcmVkXCIpO1xuLy8gICAgICAgICB9KTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJrbmlmZVwiOlxuLy8gICAgICAgY29uc29sZS5sb2coXCJrbml2ZXNcIik7XG4vLyAgICAgICAvLyB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KClcbi8vICAgICAgIC8vIHRoaXMuY3VycmVudFdlYXBvblxuLy8gICAgICAgLy8gICAucGxheShcImtuaWZlVGhyb3dcIilcbi8vICAgICAgIC8vICAgLm9uKFBoYXNlci5BbmltYXRpb25zLkV2ZW50cy5BTklNQVRJT05fQ09NUExFVEUsICgpID0+IHtcbi8vICAgICAgIC8vICAgICB0aGlzLmV2ZW50cy5lbWl0KFwia25pdmVzLWZpcmVkXCIpO1xuLy8gICAgICAgLy8gICB9KTtcbi8vICAgICAgIGJyZWFrO1xuXG4vLyAgICAgY2FzZSBcImdyZW5hZGVcIjpcbi8vICAgICBjYXNlIFwic3RpY2t5LWJvbWJcIjpcbi8vICAgICBjYXNlIFwiZmlyZS1ib21iXCI6XG4vLyAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFwiZmlyZS1ib21iLWZpcmVcIik7XG4vLyAgICAgICBicmVhaztcbi8vICAgICBkZWZhdWx0OlxuLy8gICAgICAgcmV0dXJuO1xuLy8gICB9XG5cbi8vICAgdGhpcy5zcGF3blByb2plY3RpbGUobmV3IFBoYXNlci5NYXRoLlZlY3RvcjIoc3Bhd25YLCB0aGlzLmN1cnJlbnRXZWFwb24ueSkpO1xuLy8gfVxuXG4vLyBzaG93QW5kRmlyZVdlYXBvbigpIHtcbi8vICAgaWYgKCF0aGlzLnNob3dXZWFwb24gfHwgIXRoaXMud2VhcG9uIHx8IHRoaXMucG9pbnRlck92ZXIpIHtcbi8vICAgICByZXR1cm47XG4vLyAgIH1cblxuLy8gICAvLyBTaG93IGN1cnJlbnQgd2VhcG9uIGlmIGl0IGV4aXN0cyBidXQgaXNuJ3QgZGlzcGxheWVkXG4vLyAgIGlmICh0aGlzLmN1cnJlbnRXZWFwb24gJiYgIXRoaXMuY3VycmVudFdlYXBvbi5nZXREaXNwbGF5TGlzdCgpKSB7XG4vLyAgICAgdGhpcy5jdXJyZW50V2VhcG9uLmFkZFRvRGlzcGxheUxpc3QoKTtcbi8vICAgfVxuXG4vLyAgIC8vIENsZWFyIGFueSBleGlzdGluZyBmaXJpbmcgdGltZXIgd2hlbiBjaGFuZ2luZyB3ZWFwb25zXG4vLyAgIGlmICh0aGlzLmZpcmluZ1RpbWVyKSB7XG4vLyAgICAgdGhpcy5maXJpbmdUaW1lci5kZXN0cm95KCk7XG4vLyAgICAgdGhpcy5maXJpbmdUaW1lciA9IHVuZGVmaW5lZDtcbi8vICAgfVxuXG4vLyAgIC8vIFdlYXBvbiBjb25maWd1cmF0aW9uc1xuLy8gICBjb25zdCB3ZWFwb25Db25maWdzID0ge1xuLy8gICAgIGdyZW5hZGU6IHtcbi8vICAgICAgIGZpcmVSYXRlOiAxMDAwLFxuLy8gICAgICAgYnVyc3RTaXplOiAxLFxuLy8gICAgICAgc291bmQ6IFwiZmlyZS1ib21iLWZpcmVcIixcbi8vICAgICB9LFxuLy8gICAgIFwic3RpY2t5LWJvbWJcIjoge1xuLy8gICAgICAgZmlyZVJhdGU6IDEwMDAsXG4vLyAgICAgICBidXJzdFNpemU6IDEsXG4vLyAgICAgICBzb3VuZDogXCJmaXJlLWJvbWItZmlyZVwiLFxuLy8gICAgIH0sXG4vLyAgICAgXCJmaXJlLWJvbWJcIjoge1xuLy8gICAgICAgZmlyZVJhdGU6IDEwMDAsXG4vLyAgICAgICBidXJzdFNpemU6IDEsXG4vLyAgICAgICBzb3VuZDogXCJmaXJlLWJvbWItZmlyZVwiLFxuLy8gICAgIH0sXG4vLyAgICAga25pdmVzOiB7XG4vLyAgICAgICBmaXJlUmF0ZTogNTAwLFxuLy8gICAgICAgYnVyc3RTaXplOiAxLFxuLy8gICAgIH0sXG4vLyAgICAgXCJ0b21teS1ndW5cIjoge1xuLy8gICAgICAgZmlyZVJhdGU6IDUwLCAvLyBGYXN0ZXIgZmlyZSByYXRlIGZvciB0b21teSBndW5cbi8vICAgICAgIGJ1cnN0U2l6ZTogMywgLy8gTnVtYmVyIG9mIGJ1bGxldHMgcGVyIGJ1cnN0XG4vLyAgICAgICBidXJzdERlbGF5OiAzMDAsIC8vIERlbGF5IGJldHdlZW4gYnVyc3RzXG4vLyAgICAgICBzb3VuZDogXCJkZWFnbGUtZmlyZVwiLFxuLy8gICAgIH0sXG4vLyAgICAgXCJkZXNlcnQtZWFnbGVcIjoge1xuLy8gICAgICAgZmlyZVJhdGU6IDUwMCwgLy8gQ29uc2lzdGVudCBkZWxheSBiZXR3ZWVuIHNob3RzXG4vLyAgICAgICBidXJzdFNpemU6IDEsXG4vLyAgICAgICBzb3VuZDogXCJkZWFnbGUtZmlyZVwiLFxuLy8gICAgIH0sXG4vLyAgICAgcnBnOiB7XG4vLyAgICAgICBmaXJlUmF0ZTogMTAwMCxcbi8vICAgICAgIGJ1cnN0U2l6ZTogMSxcbi8vICAgICAgIHNvdW5kOiBcInJwZy1maXJlXCIsXG4vLyAgICAgfSxcbi8vICAgICBtZzoge1xuLy8gICAgICAgZmlyZVJhdGU6IDEwMCxcbi8vICAgICAgIGJ1cnN0U2l6ZTogMSxcbi8vICAgICAgIHNvdW5kOiBcImRlYWdsZS1maXJlXCIsXG4vLyAgICAgfSxcbi8vICAgICByYXlndW46IHtcbi8vICAgICAgIGZpcmVSYXRlOiAyMDAsXG4vLyAgICAgICBidXJzdFNpemU6IDEsXG4vLyAgICAgICBzb3VuZDogXCJyYXlndW4tZmlyZVwiLFxuLy8gICAgIH0sXG4vLyAgIH07XG5cbi8vICAgLy9AdHMtaWdub3JlXG4vLyAgIGNvbnN0IGNvbmZpZyA9IHdlYXBvbkNvbmZpZ3NbdGhpcy53ZWFwb25dO1xuLy8gICBpZiAoIWNvbmZpZykgcmV0dXJuO1xuXG4vLyAgIGxldCBsYXN0RmlyZWQgPSAwO1xuLy8gICBsZXQgYnVyc3RDb3VudCA9IDA7XG4vLyAgIGxldCBjYW5GaXJlID0gdHJ1ZTtcblxuLy8gICAvLyBJbml0aWFsIGZpcmUgb24gcG9pbnRlciBkb3duXG4vLyAgIGlmICh0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIuaXNEb3duKSB7XG4vLyAgICAgdGhpcy5maXJlV2VhcG9uKCk7XG4vLyAgICAgbGFzdEZpcmVkID0gdGhpcy50aW1lLm5vdztcbi8vICAgfVxuXG4vLyAgIHRoaXMuZmlyaW5nVGltZXIgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xuLy8gICAgIGRlbGF5OiAxNiwgLy8gUnVuIGF0IH42MGZwcyBmb3Igc21vb3RoIGZpcmluZyBjaGVja3Ncbi8vICAgICBjYWxsYmFjazogKCkgPT4ge1xuLy8gICAgICAgY29uc3QgY3VycmVudFRpbWUgPSB0aGlzLnRpbWUubm93O1xuXG4vLyAgICAgICBpZiAoIXRoaXMuaW5wdXQuYWN0aXZlUG9pbnRlci5pc0Rvd24pIHtcbi8vICAgICAgICAgY2FuRmlyZSA9IHRydWU7XG4vLyAgICAgICAgIGJ1cnN0Q291bnQgPSAwO1xuLy8gICAgICAgICByZXR1cm47XG4vLyAgICAgICB9XG5cbi8vICAgICAgIC8vIENoZWNrIGlmIGVub3VnaCB0aW1lIGhhcyBwYXNzZWQgc2luY2UgbGFzdCBzaG90XG4vLyAgICAgICBpZiAoY3VycmVudFRpbWUgLSBsYXN0RmlyZWQgPj0gY29uZmlnLmZpcmVSYXRlICYmIGNhbkZpcmUpIHtcbi8vICAgICAgICAgaWYgKGNvbmZpZy5idXJzdFNpemUgPiAxKSB7XG4vLyAgICAgICAgICAgLy8gQnVyc3QgZmlyZSBsb2dpY1xuLy8gICAgICAgICAgIHRoaXMuZmlyZVdlYXBvbigpO1xuLy8gICAgICAgICAgIGJ1cnN0Q291bnQrKztcbi8vICAgICAgICAgICBsYXN0RmlyZWQgPSBjdXJyZW50VGltZTtcblxuLy8gICAgICAgICAgIGlmIChidXJzdENvdW50ID49IGNvbmZpZy5idXJzdFNpemUpIHtcbi8vICAgICAgICAgICAgIGNhbkZpcmUgPSBmYWxzZTtcbi8vICAgICAgICAgICAgIGJ1cnN0Q291bnQgPSAwO1xuLy8gICAgICAgICAgICAgLy8gUmVzZXQgYWZ0ZXIgYnVyc3QgZGVsYXlcbi8vICAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChjb25maWcuYnVyc3REZWxheSB8fCAzMDAsICgpID0+IHtcbi8vICAgICAgICAgICAgICAgY2FuRmlyZSA9IHRydWU7XG4vLyAgICAgICAgICAgICB9KTtcbi8vICAgICAgICAgICB9XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgLy8gU2luZ2xlIHNob3QgbG9naWNcbi8vICAgICAgICAgICB0aGlzLmZpcmVXZWFwb24oKTtcbi8vICAgICAgICAgICBsYXN0RmlyZWQgPSBjdXJyZW50VGltZTtcbi8vICAgICAgICAgfVxuXG4vLyAgICAgICAgIC8vIFBsYXkgd2VhcG9uIHNvdW5kXG4vLyAgICAgICAgIGlmIChjb25maWcuc291bmQpIHtcbi8vICAgICAgICAgICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KGNvbmZpZy5zb3VuZCk7XG4vLyAgICAgICAgIH1cbi8vICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIGxvb3A6IHRydWUsXG4vLyAgIH0pO1xuLy8gfVxuXG4vLyBoaWRlV2VhcG9uKCkge1xuLy8gICBpZiAodGhpcy5jdXJyZW50V2VhcG9uICYmIHRoaXMuY3VycmVudFdlYXBvbi5nZXREaXNwbGF5TGlzdCgpKSB7XG4vLyAgICAgdGhpcy5jdXJyZW50V2VhcG9uLnJlbW92ZUZyb21EaXNwbGF5TGlzdCgpO1xuLy8gICB9XG4vLyB9XG5cbi8vIHByaXZhdGUgY3JlYXRlRmlyZUVmZmVjdCh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuLy8gICBjb25zdCBmaXJlRWZmZWN0ID0gdGhpcy5hZGQuc3ByaXRlKHgsIHksIFwiZ3JvdW5kZmlyZV8wMDAxNlwiKS5wbGF5KFwiZmlyZVwiKTtcblxuLy8gICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFwiZmlyZS1ib21iLWltcGFjdFwiKTtcblxuLy8gICAvLyBDcmVhdGUgZGFtYWdlIG92ZXIgdGltZSBlZmZlY3Rcbi8vICAgbGV0IHRpY2tDb3VudCA9IDA7XG4vLyAgIGNvbnN0IG1heFRpY2tzID0gNTtcblxuLy8gICBjb25zdCBmaXJlRGFtYWdlID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcbi8vICAgICBkZWxheTogNTAwLCAvLyBEYW1hZ2UgZXZlcnkgMC41IHNlY29uZHNcbi8vICAgICBjYWxsYmFjazogKCkgPT4ge1xuLy8gICAgICAgY29uc3QgY2hhcmFjdGVyUG9zID0gdGhpcy5jaGFyYWN0ZXIuZ2V0UG9zaXRpb24oKTtcbi8vICAgICAgIGNvbnN0IGRpc3RhbmNlID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2Vlbihcbi8vICAgICAgICAgeCxcbi8vICAgICAgICAgeSxcbi8vICAgICAgICAgY2hhcmFjdGVyUG9zLngsXG4vLyAgICAgICAgIGNoYXJhY3RlclBvcy55XG4vLyAgICAgICApO1xuXG4vLyAgICAgICBpZiAoZGlzdGFuY2UgPD0gNTApIHtcbi8vICAgICAgICAgLy8gRmlyZSBkYW1hZ2UgcmFkaXVzXG4vLyAgICAgICAgIEV2ZW50QnVzLmVtaXQoXCJwcm9qZWN0aWxlLWhpdFwiLCB7XG4vLyAgICAgICAgICAgZGFtYWdlOiA1LFxuLy8gICAgICAgICAgIGlzRXhwbG9zaW9uOiBmYWxzZSxcbi8vICAgICAgICAgfSk7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIHRpY2tDb3VudCsrO1xuLy8gICAgICAgaWYgKHRpY2tDb3VudCA+PSBtYXhUaWNrcykge1xuLy8gICAgICAgICBmaXJlRGFtYWdlLmRlc3Ryb3koKTtcbi8vICAgICAgICAgZmlyZUVmZmVjdC5kZXN0cm95KCk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICBsb29wOiB0cnVlLFxuLy8gICB9KTtcbi8vIH1cblxuLy8gcHJpdmF0ZSBjcmVhdGVFeHBsb3Npb24oeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcbi8vICAgLy8gVmlzdWFsIGVmZmVjdFxuLy8gICBjb25zdCBleHBsb3Npb24gPSB0aGlzLmFkZFxuLy8gICAgIC5zcHJpdGUoeCwgeSwgXCJmaXJzdGV4cGxvc2lvbl8wMDA5NFwiKVxuLy8gICAgIC5wbGF5KFwiZXhwbG9zaW9uXCIpO1xuXG4vLyAgIC8vIFNvdW5kIGVmZmVjdFxuLy8gICB0aGlzLnNvdW5kTWFuYWdlci5wbGF5KFwiZXhwbG9kZVwiKTtcblxuLy8gICAvLyBEYW1hZ2UgY2FsY3VsYXRpb24gYmFzZWQgb24gZGlzdGFuY2Vcbi8vICAgY29uc3QgYmxhc3RSYWRpdXMgPSAxMDA7XG4vLyAgIGNvbnN0IGNoYXJhY3RlclBvcyA9IHRoaXMuY2hhcmFjdGVyLmdldFBvc2l0aW9uKCk7XG4vLyAgIGNvbnN0IGRpc3RhbmNlID0gUGhhc2VyLk1hdGguRGlzdGFuY2UuQmV0d2Vlbihcbi8vICAgICB4LFxuLy8gICAgIHksXG4vLyAgICAgY2hhcmFjdGVyUG9zLngsXG4vLyAgICAgY2hhcmFjdGVyUG9zLnlcbi8vICAgKTtcblxuLy8gICBpZiAoZGlzdGFuY2UgPD0gYmxhc3RSYWRpdXMpIHtcbi8vICAgICBjb25zdCBkYW1hZ2UgPSAxIC0gZGlzdGFuY2UgLyBibGFzdFJhZGl1czsgLy8gTW9yZSBkYW1hZ2UgY2xvc2VyIHRvIGV4cGxvc2lvblxuLy8gICAgIEV2ZW50QnVzLmVtaXQoXCJwcm9qZWN0aWxlLWhpdFwiLCB7XG4vLyAgICAgICBkYW1hZ2U6IGRhbWFnZSAqIDIwLCAvLyBTY2FsZSBkYW1hZ2UgYXBwcm9wcmlhdGVseVxuLy8gICAgICAgaXNFeHBsb3Npb246IHRydWUsXG4vLyAgICAgfSk7XG4vLyAgIH1cbi8vIH1cblxuLy8gc2hvd0FuZEZpcmVXZWFwb24oKSB7XG4vLyAgIGlmICghdGhpcy5zaG93V2VhcG9uKSB7XG4vLyAgICAgcmV0dXJuO1xuLy8gICB9XG5cbi8vICAgLy8gU2hvdyBjdXJyZW50IHdlYXBvbiBpZiBpdCBleGlzdHMgYnV0IGlzbid0IGRpc3BsYXllZFxuLy8gICBpZiAodGhpcy5jdXJyZW50V2VhcG9uICYmICF0aGlzLmN1cnJlbnRXZWFwb24uZ2V0RGlzcGxheUxpc3QoKSkge1xuLy8gICAgIHRoaXMuY3VycmVudFdlYXBvbi5hZGRUb0Rpc3BsYXlMaXN0KCk7XG4vLyAgIH1cblxuLy8gICAvLyBDbGVhciBhbnkgZXhpc3RpbmcgZmlyaW5nIHRpbWVyIHdoZW4gY2hhbmdpbmcgd2VhcG9uc1xuLy8gICBpZiAodGhpcy5maXJpbmdUaW1lcikge1xuLy8gICAgIHRoaXMuZmlyaW5nVGltZXIuZGVzdHJveSgpO1xuLy8gICAgIHRoaXMuZmlyaW5nVGltZXIgPSB1bmRlZmluZWQ7XG4vLyAgIH1cblxuLy8gICAvLyBTZXQgdXAgd2VhcG9uLXNwZWNpZmljIGZpcmluZyBiZWhhdmlvclxuLy8gICBsZXQgZmlyZVJhdGUgPSAwO1xuLy8gICBsZXQgZmlyZUV2ZW50ID0gXCJcIjtcbi8vICAgbGV0IGJ1bGxldHNQZXJCdXJzdCA9IDE7XG4vLyAgIGxldCBidXJzdERlbGF5ID0gMDtcbi8vICAgbGV0IGN1cnJlbnRXZWFwb25UeXBlID0gdGhpcy53ZWFwb247IC8vIFN0b3JlIGN1cnJlbnQgd2VhcG9uIHR5cGVcblxuLy8gICBzd2l0Y2ggKHRoaXMud2VhcG9uKSB7XG4vLyAgICAgY2FzZSBcInRvbW15LWd1blwiOlxuLy8gICAgICAgZmlyZVJhdGUgPSAxMDA7XG4vLyAgICAgICBmaXJlRXZlbnQgPSBcInRvbW15LWZpcmVkXCI7XG4vLyAgICAgICBidWxsZXRzUGVyQnVyc3QgPSAyMDtcbi8vICAgICAgIGJ1cnN0RGVsYXkgPSA1MDtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJkZXNlcnQtZWFnbGVcIjpcbi8vICAgICAgIGZpcmVSYXRlID0gNTAwO1xuLy8gICAgICAgZmlyZUV2ZW50ID0gXCJkZWFnbGUtZmlyZWRcIjtcbi8vICAgICAgIGJ1bGxldHNQZXJCdXJzdCA9IDE7XG4vLyAgICAgICBicmVhaztcbi8vICAgICBjYXNlIFwicnBnXCI6XG4vLyAgICAgICBmaXJlUmF0ZSA9IDEwMDA7XG4vLyAgICAgICBmaXJlRXZlbnQgPSBcInJvY2tldC1maXJlZFwiO1xuLy8gICAgICAgYnVsbGV0c1BlckJ1cnN0ID0gMTtcbi8vICAgICAgIGJyZWFrO1xuLy8gICAgIGNhc2UgXCJrbml2ZXNcIjpcbi8vICAgICAgIGZpcmVSYXRlID0gMTAwMDtcbi8vICAgICAgIGZpcmVFdmVudCA9IFwia25pdmVzLWZpcmVkXCI7XG4vLyAgICAgICBidWxsZXRzUGVyQnVyc3QgPSAxO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgY2FzZSBcIm1nXCI6XG4vLyAgICAgICBmaXJlUmF0ZSA9IDEwMDtcbi8vICAgICAgIGZpcmVFdmVudCA9IFwibWctZmlyZWRcIjtcbi8vICAgICAgIGJ1bGxldHNQZXJCdXJzdCA9IDE7XG4vLyAgICAgICBicmVhaztcbi8vICAgICBjYXNlIFwicmF5Z3VuXCI6XG4vLyAgICAgICBmaXJlUmF0ZSA9IDEwMDtcbi8vICAgICAgIGZpcmVFdmVudCA9IFwicmF5Z3VuLWZpcmVkXCI7XG4vLyAgICAgICBidWxsZXRzUGVyQnVyc3QgPSAxO1xuLy8gICAgICAgYnJlYWs7XG4vLyAgICAgZGVmYXVsdDpcbi8vICAgICAgIHJldHVybjtcbi8vICAgfVxuXG4vLyAgIGxldCBjYW5GaXJlID0gdHJ1ZTtcbi8vICAgbGV0IGJ1cnN0VGltZXI6IFBoYXNlci5UaW1lLlRpbWVyRXZlbnQ7XG5cbi8vICAgLy8gU3RhcnQgZmlyaW5nIGltbWVkaWF0ZWx5IG9uIHBvaW50ZXJkb3duXG4vLyAgIGlmICh0aGlzLmlucHV0LmFjdGl2ZVBvaW50ZXIuaXNEb3duKSB7XG4vLyAgICAgdGhpcy5maXJlV2VhcG9uKCk7XG4vLyAgIH1cblxuLy8gICB0aGlzLmZpcmluZ1RpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcbi8vICAgICBkZWxheTogZmlyZVJhdGUsXG4vLyAgICAgY2FsbGJhY2s6ICgpID0+IHtcbi8vICAgICAgIC8vIENoZWNrIGlmIHdlYXBvbiBoYXMgY2hhbmdlZCBzaW5jZSBzdGFydGluZyB0aGUgYnVyc3Rcbi8vICAgICAgIGlmICh0aGlzLndlYXBvbiAhPT0gY3VycmVudFdlYXBvblR5cGUpIHtcbi8vICAgICAgICAgaWYgKGJ1cnN0VGltZXIpIHtcbi8vICAgICAgICAgICBidXJzdFRpbWVyLmRlc3Ryb3koKTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbi8vICAgICAgICAgcmV0dXJuO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBpZiAodGhpcy5pbnB1dC5hY3RpdmVQb2ludGVyLmlzRG93biAmJiBjYW5GaXJlKSB7XG4vLyAgICAgICAgIGNhbkZpcmUgPSBmYWxzZTtcblxuLy8gICAgICAgICBpZiAoYnVsbGV0c1BlckJ1cnN0ID4gMSkge1xuLy8gICAgICAgICAgIC8vIEZvciBidXJzdCB3ZWFwb25zIGxpa2UgdG9tbXkgZ3VuXG4vLyAgICAgICAgICAgbGV0IGJ1bGxldHNTaG90ID0gMDtcbi8vICAgICAgICAgICBidXJzdFRpbWVyID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcbi8vICAgICAgICAgICAgIGRlbGF5OiBidXJzdERlbGF5LFxuLy8gICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbi8vICAgICAgICAgICAgICAgLy8gQ2hlY2sgd2VhcG9uIGhhc24ndCBjaGFuZ2VkIGR1cmluZyBidXJzdFxuLy8gICAgICAgICAgICAgICBpZiAodGhpcy53ZWFwb24gPT09IGN1cnJlbnRXZWFwb25UeXBlKSB7XG4vLyAgICAgICAgICAgICAgICAgdGhpcy5maXJlV2VhcG9uKCk7XG4vLyAgICAgICAgICAgICAgICAgYnVsbGV0c1Nob3QrKztcbi8vICAgICAgICAgICAgICAgICBpZiAoYnVsbGV0c1Nob3QgPj0gYnVsbGV0c1BlckJ1cnN0KSB7XG4vLyAgICAgICAgICAgICAgICAgICBidXJzdFRpbWVyLmRlc3Ryb3koKTtcbi8vICAgICAgICAgICAgICAgICAgIC8vIEFsbG93IG5leHQgYnVyc3QgYWZ0ZXIgYSBzaG9ydCBkZWxheVxuLy8gICAgICAgICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDMwMCwgKCkgPT4ge1xuLy8gICAgICAgICAgICAgICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbi8vICAgICAgICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICAgICAgICAgIH1cbi8vICAgICAgICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgICAgICBidXJzdFRpbWVyLmRlc3Ryb3koKTtcbi8vICAgICAgICAgICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbi8vICAgICAgICAgICAgICAgfVxuLy8gICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICAgIHJlcGVhdDogYnVsbGV0c1BlckJ1cnN0IC0gMSxcbi8vICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAvLyBGb3Igc2luZ2xlIHNob3Qgd2VhcG9ucyBsaWtlIGRlc2VydCBlYWdsZVxuLy8gICAgICAgICAgIHRoaXMuZmlyZVdlYXBvbigpO1xuLy8gICAgICAgICAgIC8vIFJlLWVuYWJsZSBmaXJpbmcgYWZ0ZXIgYW5pbWF0aW9uIGNvbXBsZXRlc1xuLy8gICAgICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoZmlyZUV2ZW50LCAoKSA9PiB7XG4vLyAgICAgICAgICAgICBjYW5GaXJlID0gdHJ1ZTtcbi8vICAgICAgICAgICB9KTtcbi8vICAgICAgICAgfVxuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgbG9vcDogdHJ1ZSxcbi8vICAgfSk7XG4vLyB9XG5cbiJdLCJuYW1lcyI6WyJQaGFzZXIiLCJFdmVudEJ1cyIsIkNoYXJhY3RlciIsIkdhbWVCdXR0b25zIiwiSm91cm5hbE1hbmFnZXIiLCJTY29yZUJhciIsIldlYXBvbiIsIkVmZmVjdHMiLCJHYW1lIiwiU2NlbmUiLCJjb25zdHJ1Y3RvciIsInBvaW50ZXJPdmVyIiwiY2hhcmFjdGVyVGllcnMiLCJpbml0IiwibWF0dGVyIiwid29ybGQiLCJhdXRvVXBkYXRlIiwic2V0Qm91bmRzIiwiY2FuRHJhZyIsIm5leHRHcm91cCIsImFkZCIsIm1vdXNlU3ByaW5nIiwibGVuZ3RoIiwic3RpZmZuZXNzIiwiY29sbGlzaW9uRmlsdGVyIiwiZ3JvdXAiLCJzY29yZUJhciIsInNjZW5lIiwieCIsInkiLCJ3aWR0aCIsImhlYWx0aCIsImdhbWVCdXR0b25zIiwic3BhY2luZyIsImpvdXJuYWxNYW5hZ2VyIiwiZWZmZWN0cyIsImNoYXJhY3RlciIsInRpZXIiLCJkYXRhIiwiZ2V0IiwiY29sbGlzaW9uR3JvdXAiLCJ3ZWFwb25PYmplY3QiLCJvbiIsImJnIiwic2V0VGV4dHVyZSIsInNraW4iLCJjaGFuZ2VTa2luIiwiaW5wdXQiLCJzdGFydEZpcmluZyIsInN0b3BGaXJpbmciLCJldmVudHMiLCJlbWl0IiwiY3JlYXRlIiwiaW1hZ2UiLCJzZXREaXNwbGF5U2l6ZSIsInNldERlcHRoIiwidXBkYXRlIiwidGltZSIsImRlbHRhIiwidXBkYXRlUGh5c2ljcyIsInVwZGF0ZVdlYXBvblBvc2l0aW9uIiwiZml4ZWRUaW1lU3RlcCIsIm1heFN0ZXBzIiwiTWF0aCIsIm1pbiIsImZsb29yIiwiaSIsInN0ZXAiLCJjaGFuZ2VTY2VuZSIsInN0YXJ0Iiwic2h1dGRvd24iLCJkZXN0cm95IiwiZnBzVGV4dCIsInNvdW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/scenes/Game.ts\n");

/***/ }),

/***/ "./src/game/scenes/MainMenu.ts":
/*!*************************************!*\
  !*** ./src/game/scenes/MainMenu.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MainMenu: () => (/* binding */ MainMenu),\n/* harmony export */   \"default\": () => (/* binding */ MainMenu)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _EventBus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventBus */ \"./src/game/EventBus.ts\");\n/* harmony import */ var _lib_sets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/sets */ \"./src/lib/sets.ts\");\n\n\n\nclass MainMenu extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(){\n        super(\"MainMenu\");\n        this.infoButtonState = \"closed\";\n    }\n    preload() {\n        this.load.video(\"loading\", \"assets/loadingScreen/loadingScreen.mp4\");\n    }\n    onInfoButtonClick() {\n        this.infoButtonState = this.infoButtonState === \"open\" ? \"closed\" : \"open\";\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"show-info\", this.infoButtonState === \"open\");\n        // Update info button texture based on state\n        this.infoButton.setTexture(this.infoButtonState === \"open\" ? \"info-button\" : \"info-button-active\");\n    }\n    create() {\n        this.add.image(1280 / 2, 720 / 2, \"BG\").setDisplaySize(1280, 720).setDepth(-3);\n        _EventBus__WEBPACK_IMPORTED_MODULE_1__.EventBus.emit(\"current-scene-ready\", this);\n        this.music = this.sound.add(\"bgMusic\");\n        this.music.play({\n            loop: true,\n            volume: 0.5\n        });\n        this.background = this.add.video(1280 / 2, 720 / 2, \"loading\").setScale(0.68).setDepth(-2).play(true);\n        // Add social media buttons\n        const socialY = 500;\n        const spacing = 120;\n        // Twitter button\n        const twitterButton = this.add.image(400 - spacing, socialY, \"twitter-button\").setScale(0.2).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            twitterButton.setTexture(\"twitter-button-active\");\n        }).on(\"pointerout\", ()=>{\n            twitterButton.setTexture(\"twitter-button\");\n        }).on(\"pointerdown\", ()=>{\n            window.open(_lib_sets__WEBPACK_IMPORTED_MODULE_2__.X_LINK, \"_blank\");\n        });\n        this.infoButton = this.add.image(400, 600, \"info-button-active\").setDisplaySize(50, 50).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerdown\", ()=>this.onInfoButtonClick());\n        // Telegram button\n        const telegramButton = this.add.image(400, socialY, \"telegram-button\").setScale(0.2).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            telegramButton.setTexture(\"telegram-button-active\");\n        }).on(\"pointerout\", ()=>{\n            telegramButton.setTexture(\"telegram-button\");\n        }).on(\"pointerdown\", ()=>{\n            window.open(_lib_sets__WEBPACK_IMPORTED_MODULE_2__.TELEGRAM_LINK, \"_blank\");\n        });\n        // Discord button\n        const discordButton = this.add.image(400 + spacing, socialY, \"dex-button\").setScale(0.2).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        }).on(\"pointerover\", ()=>{\n            discordButton.setTexture(\"dex-button-active\");\n        }).on(\"pointerout\", ()=>{\n            discordButton.setTexture(\"dex-button\");\n        }).on(\"pointerdown\", ()=>{\n            window.open(_lib_sets__WEBPACK_IMPORTED_MODULE_2__.DEX_LINK, \"_blank\");\n        });\n        // Add play button\n        // Add play button\n        const playButton = this.add.text(400, 384, \"Play Game\", {\n            fontSize: \"32px\",\n            color: \"#ffffff\",\n            backgroundColor: \"#000000\",\n            padding: {\n                x: 20,\n                y: 10\n            },\n            fontFamily: \"Arial Black\"\n        }).setOrigin(0.5).setInteractive({\n            useHandCursor: true\n        });\n        // Add hover effects\n        playButton.on(\"pointerover\", ()=>{\n            playButton.setScale(1.1);\n        });\n        playButton.on(\"pointerout\", ()=>{\n            playButton.setScale(1);\n        });\n        // Change scene on click\n        playButton.on(\"pointerdown\", ()=>{\n            this.changeScene();\n        });\n    }\n    changeScene() {\n        this.background.destroy();\n        this.scene.start(\"Preloader\");\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxTQUFTLENBQUMsS0FDVkMsY0FBYyxDQUFDO1lBQUVDLGVBQWU7UUFBSyxHQUNyQ0MsRUFBRSxDQUFDLGVBQWU7WUFDakJJLGNBQWN2QixVQUFVLENBQUM7UUFDM0IsR0FDQ21CLEVBQUUsQ0FBQyxjQUFjO1lBQ2hCSSxjQUFjdkIsVUFBVSxDQUFDO1FBQzNCLEdBQ0NtQixFQUFFLENBQUMsZUFBZTtZQUNqQkMsT0FBT0MsSUFBSSxDQUFDaEMsK0NBQVFBLEVBQUU7UUFDeEI7UUFFRixrQkFBa0I7UUFDbEIsa0JBQWtCO1FBQ2xCLE1BQU1tQyxhQUFhLElBQUksQ0FBQ3RCLEdBQUcsQ0FDeEJ1QixJQUFJLENBQUMsS0FBSyxLQUFLLGFBQWE7WUFDM0JDLFVBQVU7WUFDVkMsT0FBTztZQUNQQyxpQkFBaUI7WUFDakJDLFNBQVM7Z0JBQUVDLEdBQUc7Z0JBQUlDLEdBQUc7WUFBRztZQUN4QkMsWUFBWTtRQUNkLEdBQ0NoQixTQUFTLENBQUMsS0FDVkMsY0FBYyxDQUFDO1lBQUVDLGVBQWU7UUFBSztRQUV4QyxvQkFBb0I7UUFDcEJNLFdBQVdMLEVBQUUsQ0FBQyxlQUFlO1lBQzNCSyxXQUFXWixRQUFRLENBQUM7UUFDdEI7UUFFQVksV0FBV0wsRUFBRSxDQUFDLGNBQWM7WUFDMUJLLFdBQVdaLFFBQVEsQ0FBQztRQUN0QjtRQUVBLHdCQUF3QjtRQUN4QlksV0FBV0wsRUFBRSxDQUFDLGVBQWU7WUFDM0IsSUFBSSxDQUFDYyxXQUFXO1FBQ2xCO0lBQ0Y7SUFFQUEsY0FBYztRQUNaLElBQUksQ0FBQ3RCLFVBQVUsQ0FBQ3VCLE9BQU87UUFDdkIsSUFBSSxDQUFDQyxLQUFLLENBQUNDLEtBQUssQ0FBQztJQUNuQjtBQUNGO0FBRW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9zY2VuZXMvTWFpbk1lbnUudHM/YjhlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcbmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSBcIi4uL0V2ZW50QnVzXCI7XG5pbXBvcnQgeyBYX0xJTkssIFRFTEVHUkFNX0xJTkssIERFWF9MSU5LIH0gZnJvbSBcIi4uLy4uL2xpYi9zZXRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5NZW51IGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgcHJpdmF0ZSBiYWNrZ3JvdW5kITogUGhhc2VyLkdhbWVPYmplY3RzLlZpZGVvO1xuICBwcml2YXRlIG11c2ljITpcbiAgICB8IFBoYXNlci5Tb3VuZC5XZWJBdWRpb1NvdW5kXG4gICAgfCBQaGFzZXIuU291bmQuTm9BdWRpb1NvdW5kXG4gICAgfCBQaGFzZXIuU291bmQuSFRNTDVBdWRpb1NvdW5kO1xuXG4gIHByaXZhdGUgaW5mb0J1dHRvblN0YXRlOiBcIm9wZW5cIiB8IFwiY2xvc2VkXCIgPSBcImNsb3NlZFwiO1xuICBwcml2YXRlIGluZm9CdXR0b24hOiBQaGFzZXIuR2FtZU9iamVjdHMuSW1hZ2U7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXCJNYWluTWVudVwiKTtcbiAgfVxuXG4gIHByZWxvYWQoKSB7XG4gICAgdGhpcy5sb2FkLnZpZGVvKFwibG9hZGluZ1wiLCBcImFzc2V0cy9sb2FkaW5nU2NyZWVuL2xvYWRpbmdTY3JlZW4ubXA0XCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBvbkluZm9CdXR0b25DbGljaygpOiB2b2lkIHtcbiAgICB0aGlzLmluZm9CdXR0b25TdGF0ZSA9IHRoaXMuaW5mb0J1dHRvblN0YXRlID09PSBcIm9wZW5cIiA/IFwiY2xvc2VkXCIgOiBcIm9wZW5cIjtcbiAgICBFdmVudEJ1cy5lbWl0KFwic2hvdy1pbmZvXCIsIHRoaXMuaW5mb0J1dHRvblN0YXRlID09PSBcIm9wZW5cIik7XG4gICAgLy8gVXBkYXRlIGluZm8gYnV0dG9uIHRleHR1cmUgYmFzZWQgb24gc3RhdGVcbiAgICB0aGlzLmluZm9CdXR0b24uc2V0VGV4dHVyZShcbiAgICAgIHRoaXMuaW5mb0J1dHRvblN0YXRlID09PSBcIm9wZW5cIiA/IFwiaW5mby1idXR0b25cIiA6IFwiaW5mby1idXR0b24tYWN0aXZlXCJcbiAgICApO1xuICB9XG5cbiAgY3JlYXRlKCkge1xuICAgIHRoaXMuYWRkXG4gICAgICAuaW1hZ2UoMTI4MCAvIDIsIDcyMCAvIDIsIFwiQkdcIilcbiAgICAgIC5zZXREaXNwbGF5U2l6ZSgxMjgwLCA3MjApXG4gICAgICAuc2V0RGVwdGgoLTMpO1xuICAgIEV2ZW50QnVzLmVtaXQoXCJjdXJyZW50LXNjZW5lLXJlYWR5XCIsIHRoaXMpO1xuICAgIHRoaXMubXVzaWMgPSB0aGlzLnNvdW5kLmFkZChcImJnTXVzaWNcIik7XG4gICAgdGhpcy5tdXNpYy5wbGF5KHtcbiAgICAgIGxvb3A6IHRydWUsXG4gICAgICB2b2x1bWU6IDAuNSxcbiAgICB9KTtcbiAgICB0aGlzLmJhY2tncm91bmQgPSB0aGlzLmFkZFxuICAgICAgLnZpZGVvKDEyODAgLyAyLCA3MjAgLyAyLCBcImxvYWRpbmdcIilcbiAgICAgIC5zZXRTY2FsZSgwLjY4KVxuICAgICAgLnNldERlcHRoKC0yKVxuICAgICAgLnBsYXkodHJ1ZSk7XG5cbiAgICAvLyBBZGQgc29jaWFsIG1lZGlhIGJ1dHRvbnNcbiAgICBjb25zdCBzb2NpYWxZID0gNTAwO1xuICAgIGNvbnN0IHNwYWNpbmcgPSAxMjA7XG5cbiAgICAvLyBUd2l0dGVyIGJ1dHRvblxuICAgIGNvbnN0IHR3aXR0ZXJCdXR0b24gPSB0aGlzLmFkZFxuICAgICAgLmltYWdlKDQwMCAtIHNwYWNpbmcsIHNvY2lhbFksIFwidHdpdHRlci1idXR0b25cIilcbiAgICAgIC5zZXRTY2FsZSgwLjIpXG4gICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcbiAgICAgICAgdHdpdHRlckJ1dHRvbi5zZXRUZXh0dXJlKFwidHdpdHRlci1idXR0b24tYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICB0d2l0dGVyQnV0dG9uLnNldFRleHR1cmUoXCJ0d2l0dGVyLWJ1dHRvblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5vcGVuKFhfTElOSywgXCJfYmxhbmtcIik7XG4gICAgICB9KTtcblxuICAgIHRoaXMuaW5mb0J1dHRvbiA9IHRoaXMuYWRkXG4gICAgICAuaW1hZ2UoNDAwLCA2MDAsIFwiaW5mby1idXR0b24tYWN0aXZlXCIpXG4gICAgICAuc2V0RGlzcGxheVNpemUoNTAsIDUwKVxuICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4gdGhpcy5vbkluZm9CdXR0b25DbGljaygpKTtcblxuICAgIC8vIFRlbGVncmFtIGJ1dHRvblxuICAgIGNvbnN0IHRlbGVncmFtQnV0dG9uID0gdGhpcy5hZGRcbiAgICAgIC5pbWFnZSg0MDAsIHNvY2lhbFksIFwidGVsZWdyYW0tYnV0dG9uXCIpXG4gICAgICAuc2V0U2NhbGUoMC4yKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgIHRlbGVncmFtQnV0dG9uLnNldFRleHR1cmUoXCJ0ZWxlZ3JhbS1idXR0b24tYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICB0ZWxlZ3JhbUJ1dHRvbi5zZXRUZXh0dXJlKFwidGVsZWdyYW0tYnV0dG9uXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgICAgd2luZG93Lm9wZW4oVEVMRUdSQU1fTElOSywgXCJfYmxhbmtcIik7XG4gICAgICB9KTtcblxuICAgIC8vIERpc2NvcmQgYnV0dG9uXG4gICAgY29uc3QgZGlzY29yZEJ1dHRvbiA9IHRoaXMuYWRkXG4gICAgICAuaW1hZ2UoNDAwICsgc3BhY2luZywgc29jaWFsWSwgXCJkZXgtYnV0dG9uXCIpXG4gICAgICAuc2V0U2NhbGUoMC4yKVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiB7XG4gICAgICAgIGRpc2NvcmRCdXR0b24uc2V0VGV4dHVyZShcImRleC1idXR0b24tYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgICBkaXNjb3JkQnV0dG9uLnNldFRleHR1cmUoXCJkZXgtYnV0dG9uXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcbiAgICAgICAgd2luZG93Lm9wZW4oREVYX0xJTkssIFwiX2JsYW5rXCIpO1xuICAgICAgfSk7XG5cbiAgICAvLyBBZGQgcGxheSBidXR0b25cbiAgICAvLyBBZGQgcGxheSBidXR0b25cbiAgICBjb25zdCBwbGF5QnV0dG9uID0gdGhpcy5hZGRcbiAgICAgIC50ZXh0KDQwMCwgMzg0LCBcIlBsYXkgR2FtZVwiLCB7XG4gICAgICAgIGZvbnRTaXplOiBcIjMycHhcIixcbiAgICAgICAgY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAwMDAwMFwiLFxuICAgICAgICBwYWRkaW5nOiB7IHg6IDIwLCB5OiAxMCB9LFxuICAgICAgICBmb250RmFtaWx5OiBcIkFyaWFsIEJsYWNrXCIsXG4gICAgICB9KVxuICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgLy8gQWRkIGhvdmVyIGVmZmVjdHNcbiAgICBwbGF5QnV0dG9uLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xuICAgICAgcGxheUJ1dHRvbi5zZXRTY2FsZSgxLjEpO1xuICAgIH0pO1xuXG4gICAgcGxheUJ1dHRvbi5vbihcInBvaW50ZXJvdXRcIiwgKCkgPT4ge1xuICAgICAgcGxheUJ1dHRvbi5zZXRTY2FsZSgxKTtcbiAgICB9KTtcblxuICAgIC8vIENoYW5nZSBzY2VuZSBvbiBjbGlja1xuICAgIHBsYXlCdXR0b24ub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNoYW5nZVNjZW5lKCk7XG4gICAgfSk7XG4gIH1cblxuICBjaGFuZ2VTY2VuZSgpIHtcbiAgICB0aGlzLmJhY2tncm91bmQuZGVzdHJveSgpO1xuICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJQcmVsb2FkZXJcIik7XG4gIH1cbn1cblxuZXhwb3J0IHsgTWFpbk1lbnUgfTtcblxuIl0sIm5hbWVzIjpbIlBoYXNlciIsIkV2ZW50QnVzIiwiWF9MSU5LIiwiVEVMRUdSQU1fTElOSyIsIkRFWF9MSU5LIiwiTWFpbk1lbnUiLCJTY2VuZSIsImNvbnN0cnVjdG9yIiwiaW5mb0J1dHRvblN0YXRlIiwicHJlbG9hZCIsImxvYWQiLCJ2aWRlbyIsIm9uSW5mb0J1dHRvbkNsaWNrIiwiZW1pdCIsImluZm9CdXR0b24iLCJzZXRUZXh0dXJlIiwiY3JlYXRlIiwiYWRkIiwiaW1hZ2UiLCJzZXREaXNwbGF5U2l6ZSIsInNldERlcHRoIiwibXVzaWMiLCJzb3VuZCIsInBsYXkiLCJsb29wIiwidm9sdW1lIiwiYmFja2dyb3VuZCIsInNldFNjYWxlIiwic29jaWFsWSIsInNwYWNpbmciLCJ0d2l0dGVyQnV0dG9uIiwic2V0T3JpZ2luIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwib24iLCJ3aW5kb3ciLCJvcGVuIiwidGVsZWdyYW1CdXR0b24iLCJkaXNjb3JkQnV0dG9uIiwicGxheUJ1dHRvbiIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicGFkZGluZyIsIngiLCJ5IiwiZm9udEZhbWlseSIsImNoYW5nZVNjZW5lIiwiZGVzdHJveSIsInNjZW5lIiwic3RhcnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/game/scenes/MainMenu.ts\n");

/***/ }),

/***/ "./src/game/scenes/Preloader.ts":
/*!**************************************!*\
  !*** ./src/game/scenes/Preloader.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Preloader)\n/* harmony export */ });\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_sets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/sets */ \"./src/lib/sets.ts\");\n\n\nclass Preloader extends (phaser__WEBPACK_IMPORTED_MODULE_0___default().Scene) {\n    constructor(){\n        super(\"Preloader\");\n    }\n    init() {\n        // background\n        const width = this.cameras.main.width;\n        const height = this.cameras.main.height;\n        const gradient = this.add.graphics();\n        gradient.fillGradientStyle(0x1a1a1a, 0x1a1a1a, 0x0a0a0a, 0x0a0a0a, 1);\n        gradient.fillRect(0, 0, width, height);\n        // progressBar\n        const progressBar = this.add.rectangle(width / 2, height / 2, 468, 32);\n        progressBar.isFilled = true;\n        progressBar.fillColor = 0x30cfd0; // Bright green color\n        progressBar.isStroked = true;\n        progressBar.strokeColor = 0xffffff; // White stroke\n        progressBar.lineWidth = 2;\n        progressBar.setAlpha(0.8); // Slight transparency\n        this.progressBar = progressBar;\n        this.events.emit(\"scene-awake\");\n        //  This is the progress bar itself. It will increase in size from the left based on the % of progress.\n        const bar = this.add.rectangle(this.progressBar.x - this.progressBar.width / 2 + 4, this.progressBar.y, 4, 28, 0xffffff);\n        //  Use the 'progress' event emitted by the LoaderPlugin to update the loading bar\n        this.load.on(\"progress\", (progress)=>{\n            //  Update the progress bar (our bar is 464px wide, so 100% = 464px)\n            bar.width = 4 + 460 * progress;\n        });\n    }\n    async preload() {\n        // Load asset packs from blob storage\n        // this.load.pack(\"effect-pack\", \"assets/effects/effect-pack.json\");\n        // this.load.pack(\"weapon-pack\", \"assets/weapons/weapon-pack.json\");\n        // this.load.pack(\"character-pack\", \"assets/character/character-pack.json\");\n        // this.load.pack(\"sound-pack\", \"assets/sounds/sound-pack.json\");\n        // this.load.pack(\"button-pack\", \"assets/buttons/button-pack.json\");\n        // this.load.pack(\"background-pack\", \"assets/backgrounds/bg-pack.json\");\n        // await this.blobLoader.loadPack(\"character/character-pack.json\");\n        // await this.blobLoader.loadPack(\"weapons/weapon-pack.json\");\n        // await this.blobLoader.loadPack(\"effects/effect-pack.json\");\n        // await this.blobLoader.loadPack(\"sounds/sound-pack.json\");\n        // await this.blobLoader.loadPack(\"buttons/button-pack.json\");\n        // await this.blobLoader.loadPack(\"backgrounds/bg-pack.json\");\n        // this.load.pack('blob-pack', 'assets/blob-pack.json');\n        this.load.pack(\"blob-effects-pack\", \"assets/packs/blob-effects-pack.json\");\n        this.load.pack(\"blob-weapons-pack\", \"assets/packs/blob-weapons-pack.json\");\n        this.load.pack(\"blob-character-pack\", \"assets/packs/blob-character-pack.json\");\n        this.load.pack(\"blob-sounds-pack\", \"assets/packs/blob-sounds-pack.json\");\n        this.load.pack(\"blob-buttons-pack\", \"assets/packs/blob-buttons-pack.json\");\n        this.load.pack(\"blob-backgrounds-pack\", \"assets/packs/blob-backgrounds-pack.json\");\n        this.load.json(\"characterShapes\", \"assets/character/character.xml.json\");\n        this.load.animation(\"weapon-animations\", \"assets/weapons/weapon-animations.json\");\n        this.load.animation(\"effect-animations\", \"assets/effects/effect-animations.json\");\n        // Start the loading\n        this.load.start();\n    }\n    getPurchasedStates(key) {\n        console.log(key);\n        const stored = localStorage.getItem(key);\n        console.log(stored);\n        return stored ? JSON.parse(stored) : {};\n    }\n    getMarketcap() {\n        const marketcap = this.registry.get(\"marketcap\");\n        return parseInt(marketcap);\n    }\n    create() {\n        const weaponPurchases = this.getPurchasedStates(\"weapon-purchases\");\n        const itemPurchases = this.getPurchasedStates(\"item-purchases\");\n        const boxPurchases = this.getPurchasedStates(\"box-purchases\");\n        const skinPurchases = this.getPurchasedStates(\"skin-purchases\");\n        // Add weapons data to registry\n        const weapons = [\n            {\n                name: \"deagle\",\n                tier: 1,\n                price: 0,\n                purchased: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, -75, 250, 150)\n            },\n            {\n                name: \"grenade\",\n                tier: 1,\n                price: 0,\n                purchased: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-100, 100, 200, 250)\n            },\n            {\n                name: \"knife\",\n                tier: 1,\n                price: 0,\n                purchased: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(75, 75, 150, 300)\n            },\n            {\n                name: \"tommy\",\n                tier: 2,\n                price: 1000,\n                purchased: weaponPurchases[\"tommy\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, -100, 300, 150)\n            },\n            {\n                name: \"chainsaw\",\n                tier: 2,\n                price: 1500,\n                purchased: weaponPurchases[\"chainsaw\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, 40, 300, 150)\n            },\n            {\n                name: \"sticky-bomb\",\n                tier: 2,\n                price: 3500,\n                purchased: weaponPurchases[\"sticky-bomb\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, 200, 300, 150)\n            },\n            {\n                name: \"mg\",\n                tier: 3,\n                price: 2000,\n                purchased: weaponPurchases[\"mg\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(0, -100, 350, 100)\n            },\n            {\n                name: \"rpg\",\n                tier: 3,\n                price: 3500,\n                purchased: weaponPurchases[\"rpg\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(0, 40, 350, 100)\n            },\n            {\n                name: \"fire-bomb\",\n                tier: 3,\n                price: 1500,\n                purchased: weaponPurchases[\"fire-bomb\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-20, 175, 150, 150)\n            },\n            {\n                name: \"railgun\",\n                tier: 4,\n                price: 8000,\n                purchased: weaponPurchases[\"railgun\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(20, -75, 350, 150)\n            },\n            {\n                name: \"lightsaber\",\n                tier: 4,\n                price: 12000,\n                purchased: weaponPurchases[\"lightsaber\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(0, 45, 300, 75)\n            },\n            {\n                name: \"raygun\",\n                tier: 4,\n                price: 25000,\n                purchased: weaponPurchases[\"raygun\"] ?? false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(20, 175, 200, 200)\n            }\n        ];\n        this.registry.set(\"weapon-buttons\", weapons);\n        // Add shop items data to registry\n        const items = [\n            {\n                name: \"dynamite\",\n                tier: 1,\n                price: 3500,\n                purchased: itemPurchases[\"dynamite\"] ?? false,\n                unlocked: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, -100, 350, 200)\n            },\n            {\n                name: \"gasnade\",\n                tier: 1,\n                price: 0,\n                purchased: true,\n                unlocked: false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-25, 125, 350, 200)\n            },\n            {\n                name: \"katana\",\n                tier: 2,\n                price: 8000,\n                purchased: itemPurchases[\"katana\"] ?? false,\n                unlocked: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-125, 25, 150, 450)\n            },\n            {\n                name: \"battleaxe\",\n                tier: 2,\n                price: 1000,\n                purchased: true,\n                unlocked: false,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(75, 25, 150, 450)\n            },\n            {\n                name: \"kar98\",\n                tier: 3,\n                price: 13000,\n                purchased: itemPurchases[\"kar98\"] ?? false,\n                unlocked: true,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(-100, -25, 200, 350)\n            },\n            {\n                name: \"flamethrower\",\n                tier: 3,\n                price: 18000,\n                purchased: itemPurchases[\"flamethrower\"] ?? false,\n                unlocked: _lib_sets__WEBPACK_IMPORTED_MODULE_1__.BURNER_UNLOCKED,\n                hitbox: new (phaser__WEBPACK_IMPORTED_MODULE_0___default().Geom).Rectangle(50, 150, 200, 250)\n            }\n        ];\n        this.registry.set(\"shop-buttons\", items);\n        // Add boxes data to registry\n        const boxes = {\n            1: {\n                name: \"main\",\n                bg: \"bg-main\",\n                price: 0,\n                purchased: true\n            },\n            2: {\n                name: \"shoe\",\n                bg: \"bg-shoe\",\n                price: 5000,\n                purchased: boxPurchases[\"shoe\"] ?? false\n            },\n            3: {\n                name: \"present\",\n                bg: \"bg-present\",\n                price: 8000,\n                purchased: boxPurchases[\"present\"] ?? false\n            },\n            4: {\n                name: \"basket\",\n                bg: \"bg-basket\",\n                price: 13000,\n                purchased: boxPurchases[\"basket\"] ?? false\n            },\n            5: {\n                name: \"blood\",\n                bg: \"bg-bloody\",\n                price: 18000,\n                purchased: boxPurchases[\"blood\"] ?? false\n            },\n            6: {\n                name: \"coming-soon\",\n                bg: \"\",\n                price: 0,\n                purchased: true\n            }\n        };\n        this.registry.set(\"box-buttons\", boxes);\n        // Add skins data to registry\n        const skins = {\n            1: {\n                name: \"paper\",\n                price: 0,\n                purchased: true,\n                unlocked: true\n            },\n            2: {\n                name: \"buddy\",\n                price: 0,\n                purchased: skinPurchases[\"buddy\"] ?? false,\n                unlocked: true\n            },\n            3: {\n                name: \"musk\",\n                price: 5000,\n                purchased: skinPurchases[\"musk\"] ?? false,\n                unlocked: this.getMarketcap() >= 1000000\n            },\n            4: {\n                name: \"mil\",\n                price: 10000,\n                purchased: skinPurchases[\"mil\"] ?? false,\n                unlocked: this.getMarketcap() >= 5000000\n            },\n            5: {\n                name: \"santa\",\n                price: 13000,\n                purchased: skinPurchases[\"santa\"] ?? false,\n                unlocked: _lib_sets__WEBPACK_IMPORTED_MODULE_1__.SANTA_SKIN_UNLOCKED\n            },\n            6: {\n                name: \"sol\",\n                price: 22000,\n                purchased: skinPurchases[\"sol\"] ?? false,\n                unlocked: this.getMarketcap() >= 10000000\n            },\n            7: {\n                name: \"coming-soon\",\n                price: 0,\n                purchased: true,\n                unlocked: false\n            }\n        };\n        this.registry.set(\"skin-buttons\", skins);\n        const tierButtons = {\n            1: {\n                name: \"PAPER\",\n                bg: \"tier1-bg\",\n                unlocked: true\n            },\n            2: {\n                name: \"MUSK\",\n                bg: \"tier2-bg\",\n                unlocked: this.getMarketcap() >= 1000000\n            },\n            3: {\n                name: \"MIL\",\n                bg: \"tier3-bg\",\n                unlocked: this.getMarketcap() >= 5000000\n            },\n            4: {\n                name: \"SOL\",\n                bg: \"tier4-bg\",\n                unlocked: this.getMarketcap() >= 10000000\n            }\n        };\n        this.registry.set(\"tier-buttons\", tierButtons);\n        this.scene.start(\"MainGame\");\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxNQUFNO2dCQUNOVyxJQUFJO2dCQUNKRixVQUFVLElBQUksQ0FBQ3BCLFlBQVksTUFBTTtZQUNuQztRQUNGO1FBQ0EsSUFBSSxDQUFDRSxRQUFRLENBQUNnQixHQUFHLENBQUMsZ0JBQWdCTTtRQUVsQyxJQUFJLENBQUNDLEtBQUssQ0FBQ25DLEtBQUssQ0FBQztJQUNuQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvZ2FtZS9zY2VuZXMvUHJlbG9hZGVyLnRzP2ExY2EiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XG5pbXBvcnQge1xuICBCb3hCdXR0b25zLFxuICBTaG9wSXRlbUJ1dHRvbixcbiAgU2tpbkJ1dHRvbnMsXG4gIFRpZXJCdXR0b25zLFxuICBXZWFwb25CdXR0b24sXG59IGZyb20gXCIuLi9jbGFzc2VzL0pvdXJuYWxcIjtcbmltcG9ydCB7IEJVUk5FUl9VTkxPQ0tFRCwgU0FOVEFfU0tJTl9VTkxPQ0tFRCB9IGZyb20gXCJAL2xpYi9zZXRzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZWxvYWRlciBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gIHByaXZhdGUgcHJvZ3Jlc3NCYXIhOiBQaGFzZXIuR2FtZU9iamVjdHMuUmVjdGFuZ2xlO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiUHJlbG9hZGVyXCIpO1xuICB9XG5cbiAgaW5pdCgpIHtcbiAgICAvLyBiYWNrZ3JvdW5kXG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLmNhbWVyYXMubWFpbi53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmNhbWVyYXMubWFpbi5oZWlnaHQ7XG4gICAgY29uc3QgZ3JhZGllbnQgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xuICAgIGdyYWRpZW50LmZpbGxHcmFkaWVudFN0eWxlKDB4MWExYTFhLCAweDFhMWExYSwgMHgwYTBhMGEsIDB4MGEwYTBhLCAxKTtcbiAgICBncmFkaWVudC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIC8vIHByb2dyZXNzQmFyXG4gICAgY29uc3QgcHJvZ3Jlc3NCYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUod2lkdGggLyAyLCBoZWlnaHQgLyAyLCA0NjgsIDMyKTtcbiAgICBwcm9ncmVzc0Jhci5pc0ZpbGxlZCA9IHRydWU7XG5cbiAgICBwcm9ncmVzc0Jhci5maWxsQ29sb3IgPSAweDMwY2ZkMDsgLy8gQnJpZ2h0IGdyZWVuIGNvbG9yXG4gICAgcHJvZ3Jlc3NCYXIuaXNTdHJva2VkID0gdHJ1ZTtcbiAgICBwcm9ncmVzc0Jhci5zdHJva2VDb2xvciA9IDB4ZmZmZmZmOyAvLyBXaGl0ZSBzdHJva2VcbiAgICBwcm9ncmVzc0Jhci5saW5lV2lkdGggPSAyO1xuICAgIHByb2dyZXNzQmFyLnNldEFscGhhKDAuOCk7IC8vIFNsaWdodCB0cmFuc3BhcmVuY3lcblxuICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0JhcjtcblxuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJzY2VuZS1hd2FrZVwiKTtcblxuICAgIC8vICBUaGlzIGlzIHRoZSBwcm9ncmVzcyBiYXIgaXRzZWxmLiBJdCB3aWxsIGluY3JlYXNlIGluIHNpemUgZnJvbSB0aGUgbGVmdCBiYXNlZCBvbiB0aGUgJSBvZiBwcm9ncmVzcy5cbiAgICBjb25zdCBiYXIgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXG4gICAgICB0aGlzLnByb2dyZXNzQmFyLnggLSB0aGlzLnByb2dyZXNzQmFyLndpZHRoIC8gMiArIDQsXG4gICAgICB0aGlzLnByb2dyZXNzQmFyLnksXG4gICAgICA0LFxuICAgICAgMjgsXG4gICAgICAweGZmZmZmZlxuICAgICk7XG5cbiAgICAvLyAgVXNlIHRoZSAncHJvZ3Jlc3MnIGV2ZW50IGVtaXR0ZWQgYnkgdGhlIExvYWRlclBsdWdpbiB0byB1cGRhdGUgdGhlIGxvYWRpbmcgYmFyXG4gICAgdGhpcy5sb2FkLm9uKFwicHJvZ3Jlc3NcIiwgKHByb2dyZXNzOiBudW1iZXIpID0+IHtcbiAgICAgIC8vICBVcGRhdGUgdGhlIHByb2dyZXNzIGJhciAob3VyIGJhciBpcyA0NjRweCB3aWRlLCBzbyAxMDAlID0gNDY0cHgpXG4gICAgICBiYXIud2lkdGggPSA0ICsgNDYwICogcHJvZ3Jlc3M7XG4gICAgfSk7XG4gIH1cblxuICBhc3luYyBwcmVsb2FkKCkge1xuICAgIC8vIExvYWQgYXNzZXQgcGFja3MgZnJvbSBibG9iIHN0b3JhZ2VcbiAgICAvLyB0aGlzLmxvYWQucGFjayhcImVmZmVjdC1wYWNrXCIsIFwiYXNzZXRzL2VmZmVjdHMvZWZmZWN0LXBhY2suanNvblwiKTtcbiAgICAvLyB0aGlzLmxvYWQucGFjayhcIndlYXBvbi1wYWNrXCIsIFwiYXNzZXRzL3dlYXBvbnMvd2VhcG9uLXBhY2suanNvblwiKTtcbiAgICAvLyB0aGlzLmxvYWQucGFjayhcImNoYXJhY3Rlci1wYWNrXCIsIFwiYXNzZXRzL2NoYXJhY3Rlci9jaGFyYWN0ZXItcGFjay5qc29uXCIpO1xuICAgIC8vIHRoaXMubG9hZC5wYWNrKFwic291bmQtcGFja1wiLCBcImFzc2V0cy9zb3VuZHMvc291bmQtcGFjay5qc29uXCIpO1xuICAgIC8vIHRoaXMubG9hZC5wYWNrKFwiYnV0dG9uLXBhY2tcIiwgXCJhc3NldHMvYnV0dG9ucy9idXR0b24tcGFjay5qc29uXCIpO1xuICAgIC8vIHRoaXMubG9hZC5wYWNrKFwiYmFja2dyb3VuZC1wYWNrXCIsIFwiYXNzZXRzL2JhY2tncm91bmRzL2JnLXBhY2suanNvblwiKTtcbiAgICAvLyBhd2FpdCB0aGlzLmJsb2JMb2FkZXIubG9hZFBhY2soXCJjaGFyYWN0ZXIvY2hhcmFjdGVyLXBhY2suanNvblwiKTtcbiAgICAvLyBhd2FpdCB0aGlzLmJsb2JMb2FkZXIubG9hZFBhY2soXCJ3ZWFwb25zL3dlYXBvbi1wYWNrLmpzb25cIik7XG4gICAgLy8gYXdhaXQgdGhpcy5ibG9iTG9hZGVyLmxvYWRQYWNrKFwiZWZmZWN0cy9lZmZlY3QtcGFjay5qc29uXCIpO1xuICAgIC8vIGF3YWl0IHRoaXMuYmxvYkxvYWRlci5sb2FkUGFjayhcInNvdW5kcy9zb3VuZC1wYWNrLmpzb25cIik7XG4gICAgLy8gYXdhaXQgdGhpcy5ibG9iTG9hZGVyLmxvYWRQYWNrKFwiYnV0dG9ucy9idXR0b24tcGFjay5qc29uXCIpO1xuICAgIC8vIGF3YWl0IHRoaXMuYmxvYkxvYWRlci5sb2FkUGFjayhcImJhY2tncm91bmRzL2JnLXBhY2suanNvblwiKTtcblxuXG5cbiAgICAvLyB0aGlzLmxvYWQucGFjaygnYmxvYi1wYWNrJywgJ2Fzc2V0cy9ibG9iLXBhY2suanNvbicpO1xuICAgIHRoaXMubG9hZC5wYWNrKFwiYmxvYi1lZmZlY3RzLXBhY2tcIiwgXCJhc3NldHMvcGFja3MvYmxvYi1lZmZlY3RzLXBhY2suanNvblwiKTtcbiAgICB0aGlzLmxvYWQucGFjayhcImJsb2Itd2VhcG9ucy1wYWNrXCIsIFwiYXNzZXRzL3BhY2tzL2Jsb2Itd2VhcG9ucy1wYWNrLmpzb25cIik7XG4gICAgdGhpcy5sb2FkLnBhY2soXG4gICAgICBcImJsb2ItY2hhcmFjdGVyLXBhY2tcIixcbiAgICAgIFwiYXNzZXRzL3BhY2tzL2Jsb2ItY2hhcmFjdGVyLXBhY2suanNvblwiXG4gICAgKTtcbiAgICB0aGlzLmxvYWQucGFjayhcImJsb2Itc291bmRzLXBhY2tcIiwgXCJhc3NldHMvcGFja3MvYmxvYi1zb3VuZHMtcGFjay5qc29uXCIpO1xuICAgIHRoaXMubG9hZC5wYWNrKFwiYmxvYi1idXR0b25zLXBhY2tcIiwgXCJhc3NldHMvcGFja3MvYmxvYi1idXR0b25zLXBhY2suanNvblwiKTtcbiAgICB0aGlzLmxvYWQucGFjayhcbiAgICAgIFwiYmxvYi1iYWNrZ3JvdW5kcy1wYWNrXCIsXG4gICAgICBcImFzc2V0cy9wYWNrcy9ibG9iLWJhY2tncm91bmRzLXBhY2suanNvblwiXG4gICAgKTtcblxuICAgIHRoaXMubG9hZC5qc29uKFwiY2hhcmFjdGVyU2hhcGVzXCIsIFwiYXNzZXRzL2NoYXJhY3Rlci9jaGFyYWN0ZXIueG1sLmpzb25cIik7XG4gICAgdGhpcy5sb2FkLmFuaW1hdGlvbihcbiAgICAgIFwid2VhcG9uLWFuaW1hdGlvbnNcIixcbiAgICAgIFwiYXNzZXRzL3dlYXBvbnMvd2VhcG9uLWFuaW1hdGlvbnMuanNvblwiXG4gICAgKTtcbiAgICB0aGlzLmxvYWQuYW5pbWF0aW9uKFxuICAgICAgXCJlZmZlY3QtYW5pbWF0aW9uc1wiLFxuICAgICAgXCJhc3NldHMvZWZmZWN0cy9lZmZlY3QtYW5pbWF0aW9ucy5qc29uXCJcbiAgICApO1xuXG4gICAgLy8gU3RhcnQgdGhlIGxvYWRpbmdcbiAgICB0aGlzLmxvYWQuc3RhcnQoKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHVyY2hhc2VkU3RhdGVzKGtleTogc3RyaW5nKTogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4ge1xuICAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICBjb25zb2xlLmxvZyhzdG9yZWQpO1xuICAgIHJldHVybiBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiB7fTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TWFya2V0Y2FwKCk6IG51bWJlciB7XG4gICAgY29uc3QgbWFya2V0Y2FwID0gdGhpcy5yZWdpc3RyeS5nZXQoXCJtYXJrZXRjYXBcIik7XG4gICAgcmV0dXJuIHBhcnNlSW50KG1hcmtldGNhcCk7XG4gIH1cblxuICBjcmVhdGUoKSB7XG4gICAgY29uc3Qgd2VhcG9uUHVyY2hhc2VzID0gdGhpcy5nZXRQdXJjaGFzZWRTdGF0ZXMoXCJ3ZWFwb24tcHVyY2hhc2VzXCIpO1xuICAgIGNvbnN0IGl0ZW1QdXJjaGFzZXMgPSB0aGlzLmdldFB1cmNoYXNlZFN0YXRlcyhcIml0ZW0tcHVyY2hhc2VzXCIpO1xuICAgIGNvbnN0IGJveFB1cmNoYXNlcyA9IHRoaXMuZ2V0UHVyY2hhc2VkU3RhdGVzKFwiYm94LXB1cmNoYXNlc1wiKTtcbiAgICBjb25zdCBza2luUHVyY2hhc2VzID0gdGhpcy5nZXRQdXJjaGFzZWRTdGF0ZXMoXCJza2luLXB1cmNoYXNlc1wiKTtcblxuICAgIC8vIEFkZCB3ZWFwb25zIGRhdGEgdG8gcmVnaXN0cnlcbiAgICBjb25zdCB3ZWFwb25zOiBXZWFwb25CdXR0b25bXSA9IFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJkZWFnbGVcIixcbiAgICAgICAgdGllcjogMSxcbiAgICAgICAgcHJpY2U6IDAsXG4gICAgICAgIHB1cmNoYXNlZDogdHJ1ZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yNSwgLTc1LCAyNTAsIDE1MCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImdyZW5hZGVcIixcbiAgICAgICAgdGllcjogMSxcbiAgICAgICAgcHJpY2U6IDAsXG4gICAgICAgIHB1cmNoYXNlZDogdHJ1ZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0xMDAsIDEwMCwgMjAwLCAyNTApLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJrbmlmZVwiLFxuICAgICAgICB0aWVyOiAxLFxuICAgICAgICBwcmljZTogMCxcbiAgICAgICAgcHVyY2hhc2VkOiB0cnVlLFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoNzUsIDc1LCAxNTAsIDMwMCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcInRvbW15XCIsXG4gICAgICAgIHRpZXI6IDIsXG4gICAgICAgIHByaWNlOiAxMDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHdlYXBvblB1cmNoYXNlc1tcInRvbW15XCJdID8/IGZhbHNlLFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoLTI1LCAtMTAwLCAzMDAsIDE1MCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImNoYWluc2F3XCIsXG4gICAgICAgIHRpZXI6IDIsXG4gICAgICAgIHByaWNlOiAxNTAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHdlYXBvblB1cmNoYXNlc1tcImNoYWluc2F3XCJdID8/IGZhbHNlLFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoLTI1LCA0MCwgMzAwLCAxNTApLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJzdGlja3ktYm9tYlwiLFxuICAgICAgICB0aWVyOiAyLFxuICAgICAgICBwcmljZTogMzUwMCxcbiAgICAgICAgcHVyY2hhc2VkOiB3ZWFwb25QdXJjaGFzZXNbXCJzdGlja3ktYm9tYlwiXSA/PyBmYWxzZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yNSwgMjAwLCAzMDAsIDE1MCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcIm1nXCIsXG4gICAgICAgIHRpZXI6IDMsXG4gICAgICAgIHByaWNlOiAyMDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHdlYXBvblB1cmNoYXNlc1tcIm1nXCJdID8/IGZhbHNlLFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoMCwgLTEwMCwgMzUwLCAxMDApLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJycGdcIixcbiAgICAgICAgdGllcjogMyxcbiAgICAgICAgcHJpY2U6IDM1MDAsXG4gICAgICAgIHB1cmNoYXNlZDogd2VhcG9uUHVyY2hhc2VzW1wicnBnXCJdID8/IGZhbHNlLFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoMCwgNDAsIDM1MCwgMTAwKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiZmlyZS1ib21iXCIsXG4gICAgICAgIHRpZXI6IDMsXG4gICAgICAgIHByaWNlOiAxNTAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHdlYXBvblB1cmNoYXNlc1tcImZpcmUtYm9tYlwiXSA/PyBmYWxzZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yMCwgMTc1LCAxNTAsIDE1MCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcInJhaWxndW5cIixcbiAgICAgICAgdGllcjogNCxcbiAgICAgICAgcHJpY2U6IDgwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogd2VhcG9uUHVyY2hhc2VzW1wicmFpbGd1blwiXSA/PyBmYWxzZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKDIwLCAtNzUsIDM1MCwgMTUwKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwibGlnaHRzYWJlclwiLFxuICAgICAgICB0aWVyOiA0LFxuICAgICAgICBwcmljZTogMTIwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogd2VhcG9uUHVyY2hhc2VzW1wibGlnaHRzYWJlclwiXSA/PyBmYWxzZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKDAsIDQ1LCAzMDAsIDc1KSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwicmF5Z3VuXCIsXG4gICAgICAgIHRpZXI6IDQsXG4gICAgICAgIHByaWNlOiAyNTAwMCxcbiAgICAgICAgcHVyY2hhc2VkOiB3ZWFwb25QdXJjaGFzZXNbXCJyYXlndW5cIl0gPz8gZmFsc2UsXG4gICAgICAgIGhpdGJveDogbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgyMCwgMTc1LCAyMDAsIDIwMCksXG4gICAgICB9LFxuICAgIF07XG4gICAgdGhpcy5yZWdpc3RyeS5zZXQoXCJ3ZWFwb24tYnV0dG9uc1wiLCB3ZWFwb25zKTtcbiAgICAvLyBBZGQgc2hvcCBpdGVtcyBkYXRhIHRvIHJlZ2lzdHJ5XG4gICAgY29uc3QgaXRlbXM6IFNob3BJdGVtQnV0dG9uW10gPSBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiZHluYW1pdGVcIixcbiAgICAgICAgdGllcjogMSxcbiAgICAgICAgcHJpY2U6IDM1MDAsXG4gICAgICAgIHB1cmNoYXNlZDogaXRlbVB1cmNoYXNlc1tcImR5bmFtaXRlXCJdID8/IGZhbHNlLFxuICAgICAgICB1bmxvY2tlZDogdHJ1ZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yNSwgLTEwMCwgMzUwLCAyMDApLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJnYXNuYWRlXCIsXG4gICAgICAgIHRpZXI6IDEsXG4gICAgICAgIHByaWNlOiAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHRydWUsXG4gICAgICAgIHVubG9ja2VkOiBmYWxzZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0yNSwgMTI1LCAzNTAsIDIwMCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImthdGFuYVwiLFxuICAgICAgICB0aWVyOiAyLFxuICAgICAgICBwcmljZTogODAwMCxcbiAgICAgICAgcHVyY2hhc2VkOiBpdGVtUHVyY2hhc2VzW1wia2F0YW5hXCJdID8/IGZhbHNlLFxuICAgICAgICB1bmxvY2tlZDogdHJ1ZSxcbiAgICAgICAgaGl0Ym94OiBuZXcgUGhhc2VyLkdlb20uUmVjdGFuZ2xlKC0xMjUsIDI1LCAxNTAsIDQ1MCksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiBcImJhdHRsZWF4ZVwiLFxuICAgICAgICB0aWVyOiAyLFxuICAgICAgICBwcmljZTogMTAwMCxcbiAgICAgICAgcHVyY2hhc2VkOiB0cnVlLFxuICAgICAgICB1bmxvY2tlZDogZmFsc2UsXG4gICAgICAgIGhpdGJveDogbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSg3NSwgMjUsIDE1MCwgNDUwKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwia2FyOThcIixcbiAgICAgICAgdGllcjogMyxcbiAgICAgICAgcHJpY2U6IDEzMDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IGl0ZW1QdXJjaGFzZXNbXCJrYXI5OFwiXSA/PyBmYWxzZSxcbiAgICAgICAgdW5sb2NrZWQ6IHRydWUsXG4gICAgICAgIGhpdGJveDogbmV3IFBoYXNlci5HZW9tLlJlY3RhbmdsZSgtMTAwLCAtMjUsIDIwMCwgMzUwKSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6IFwiZmxhbWV0aHJvd2VyXCIsXG4gICAgICAgIHRpZXI6IDMsXG4gICAgICAgIHByaWNlOiAxODAwMCxcbiAgICAgICAgcHVyY2hhc2VkOiBpdGVtUHVyY2hhc2VzW1wiZmxhbWV0aHJvd2VyXCJdID8/IGZhbHNlLFxuICAgICAgICB1bmxvY2tlZDogQlVSTkVSX1VOTE9DS0VELFxuICAgICAgICBoaXRib3g6IG5ldyBQaGFzZXIuR2VvbS5SZWN0YW5nbGUoNTAsIDE1MCwgMjAwLCAyNTApLFxuICAgICAgfSxcbiAgICBdO1xuICAgIHRoaXMucmVnaXN0cnkuc2V0KFwic2hvcC1idXR0b25zXCIsIGl0ZW1zKTtcbiAgICAvLyBBZGQgYm94ZXMgZGF0YSB0byByZWdpc3RyeVxuICAgIGNvbnN0IGJveGVzOiBCb3hCdXR0b25zID0ge1xuICAgICAgMToge1xuICAgICAgICBuYW1lOiBcIm1haW5cIixcbiAgICAgICAgYmc6IFwiYmctbWFpblwiLFxuICAgICAgICBwcmljZTogMCxcbiAgICAgICAgcHVyY2hhc2VkOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIDI6IHtcbiAgICAgICAgbmFtZTogXCJzaG9lXCIsXG4gICAgICAgIGJnOiBcImJnLXNob2VcIixcbiAgICAgICAgcHJpY2U6IDUwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogYm94UHVyY2hhc2VzW1wic2hvZVwiXSA/PyBmYWxzZSxcbiAgICAgIH0sXG4gICAgICAzOiB7XG4gICAgICAgIG5hbWU6IFwicHJlc2VudFwiLFxuICAgICAgICBiZzogXCJiZy1wcmVzZW50XCIsXG4gICAgICAgIHByaWNlOiA4MDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IGJveFB1cmNoYXNlc1tcInByZXNlbnRcIl0gPz8gZmFsc2UsXG4gICAgICB9LFxuICAgICAgNDoge1xuICAgICAgICBuYW1lOiBcImJhc2tldFwiLFxuICAgICAgICBiZzogXCJiZy1iYXNrZXRcIixcbiAgICAgICAgcHJpY2U6IDEzMDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IGJveFB1cmNoYXNlc1tcImJhc2tldFwiXSA/PyBmYWxzZSxcbiAgICAgIH0sXG4gICAgICA1OiB7XG4gICAgICAgIG5hbWU6IFwiYmxvb2RcIixcbiAgICAgICAgYmc6IFwiYmctYmxvb2R5XCIsXG4gICAgICAgIHByaWNlOiAxODAwMCxcbiAgICAgICAgcHVyY2hhc2VkOiBib3hQdXJjaGFzZXNbXCJibG9vZFwiXSA/PyBmYWxzZSxcbiAgICAgIH0sXG4gICAgICA2OiB7XG4gICAgICAgIG5hbWU6IFwiY29taW5nLXNvb25cIixcbiAgICAgICAgYmc6IFwiXCIsXG4gICAgICAgIHByaWNlOiAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHRydWUsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5yZWdpc3RyeS5zZXQoXCJib3gtYnV0dG9uc1wiLCBib3hlcyk7XG4gICAgLy8gQWRkIHNraW5zIGRhdGEgdG8gcmVnaXN0cnlcbiAgICBjb25zdCBza2luczogU2tpbkJ1dHRvbnMgPSB7XG4gICAgICAxOiB7XG4gICAgICAgIG5hbWU6IFwicGFwZXJcIixcbiAgICAgICAgcHJpY2U6IDAsXG4gICAgICAgIHB1cmNoYXNlZDogdHJ1ZSxcbiAgICAgICAgdW5sb2NrZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgMjoge1xuICAgICAgICBuYW1lOiBcImJ1ZGR5XCIsXG4gICAgICAgIHByaWNlOiAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHNraW5QdXJjaGFzZXNbXCJidWRkeVwiXSA/PyBmYWxzZSxcbiAgICAgICAgdW5sb2NrZWQ6IHRydWUsXG4gICAgICB9LFxuICAgICAgMzoge1xuICAgICAgICBuYW1lOiBcIm11c2tcIixcbiAgICAgICAgcHJpY2U6IDUwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogc2tpblB1cmNoYXNlc1tcIm11c2tcIl0gPz8gZmFsc2UsXG4gICAgICAgIHVubG9ja2VkOiB0aGlzLmdldE1hcmtldGNhcCgpID49IDEwMDAwMDAsXG4gICAgICB9LFxuICAgICAgNDoge1xuICAgICAgICBuYW1lOiBcIm1pbFwiLFxuICAgICAgICBwcmljZTogMTAwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogc2tpblB1cmNoYXNlc1tcIm1pbFwiXSA/PyBmYWxzZSxcbiAgICAgICAgdW5sb2NrZWQ6IHRoaXMuZ2V0TWFya2V0Y2FwKCkgPj0gNTAwMDAwMCxcbiAgICAgIH0sXG4gICAgICA1OiB7XG4gICAgICAgIG5hbWU6IFwic2FudGFcIixcbiAgICAgICAgcHJpY2U6IDEzMDAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHNraW5QdXJjaGFzZXNbXCJzYW50YVwiXSA/PyBmYWxzZSxcbiAgICAgICAgdW5sb2NrZWQ6IFNBTlRBX1NLSU5fVU5MT0NLRUQsXG4gICAgICB9LFxuICAgICAgNjoge1xuICAgICAgICBuYW1lOiBcInNvbFwiLFxuICAgICAgICBwcmljZTogMjIwMDAsXG4gICAgICAgIHB1cmNoYXNlZDogc2tpblB1cmNoYXNlc1tcInNvbFwiXSA/PyBmYWxzZSxcbiAgICAgICAgdW5sb2NrZWQ6IHRoaXMuZ2V0TWFya2V0Y2FwKCkgPj0gMTAwMDAwMDAsXG4gICAgICB9LFxuICAgICAgNzoge1xuICAgICAgICBuYW1lOiBcImNvbWluZy1zb29uXCIsXG4gICAgICAgIHByaWNlOiAwLFxuICAgICAgICBwdXJjaGFzZWQ6IHRydWUsXG4gICAgICAgIHVubG9ja2VkOiBmYWxzZSxcbiAgICAgIH0sXG4gICAgfTtcbiAgICB0aGlzLnJlZ2lzdHJ5LnNldChcInNraW4tYnV0dG9uc1wiLCBza2lucyk7XG5cbiAgICBjb25zdCB0aWVyQnV0dG9uczogVGllckJ1dHRvbnMgPSB7XG4gICAgICAxOiB7IG5hbWU6IFwiUEFQRVJcIiwgYmc6IFwidGllcjEtYmdcIiwgdW5sb2NrZWQ6IHRydWUgfSxcbiAgICAgIDI6IHtcbiAgICAgICAgbmFtZTogXCJNVVNLXCIsXG4gICAgICAgIGJnOiBcInRpZXIyLWJnXCIsXG4gICAgICAgIHVubG9ja2VkOiB0aGlzLmdldE1hcmtldGNhcCgpID49IDEwMDAwMDAsXG4gICAgICB9LFxuICAgICAgMzoge1xuICAgICAgICBuYW1lOiBcIk1JTFwiLFxuICAgICAgICBiZzogXCJ0aWVyMy1iZ1wiLFxuICAgICAgICB1bmxvY2tlZDogdGhpcy5nZXRNYXJrZXRjYXAoKSA+PSA1MDAwMDAwLFxuICAgICAgfSxcbiAgICAgIDQ6IHtcbiAgICAgICAgbmFtZTogXCJTT0xcIixcbiAgICAgICAgYmc6IFwidGllcjQtYmdcIixcbiAgICAgICAgdW5sb2NrZWQ6IHRoaXMuZ2V0TWFya2V0Y2FwKCkgPj0gMTAwMDAwMDAsXG4gICAgICB9LFxuICAgIH07XG4gICAgdGhpcy5yZWdpc3RyeS5zZXQoXCJ0aWVyLWJ1dHRvbnNcIiwgdGllckJ1dHRvbnMpO1xuXG4gICAgdGhpcy5zY2VuZS5zdGFydChcIk1haW5HYW1lXCIpO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJQaGFzZXIiLCJCVVJORVJfVU5MT0NLRUQiLCJTQU5UQV9TS0lOX1VOTE9DS0VEIiwiUHJlbG9hZGVyIiwiU2NlbmUiLCJjb25zdHJ1Y3RvciIsImluaXQiLCJ3aWR0aCIsImNhbWVyYXMiLCJtYWluIiwiaGVpZ2h0IiwiZ3JhZGllbnQiLCJhZGQiLCJncmFwaGljcyIsImZpbGxHcmFkaWVudFN0eWxlIiwiZmlsbFJlY3QiLCJwcm9ncmVzc0JhciIsInJlY3RhbmdsZSIsImlzRmlsbGVkIiwiZmlsbENvbG9yIiwiaXNTdHJva2VkIiwic3Ryb2tlQ29sb3IiLCJsaW5lV2lkdGgiLCJzZXRBbHBoYSIsImV2ZW50cyIsImVtaXQiLCJiYXIiLCJ4IiwieSIsImxvYWQiLCJvbiIsInByb2dyZXNzIiwicHJlbG9hZCIsInBhY2siLCJqc29uIiwiYW5pbWF0aW9uIiwic3RhcnQiLCJnZXRQdXJjaGFzZWRTdGF0ZXMiLCJrZXkiLCJjb25zb2xlIiwibG9nIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImdldE1hcmtldGNhcCIsIm1hcmtldGNhcCIsInJlZ2lzdHJ5IiwiZ2V0IiwicGFyc2VJbnQiLCJjcmVhdGUiLCJ3ZWFwb25QdXJjaGFzZXMiLCJpdGVtUHVyY2hhc2VzIiwiYm94UHVyY2hhc2VzIiwic2tpblB1cmNoYXNlcyIsIndlYXBvbnMiLCJuYW1lIiwidGllciIsInByaWNlIiwicHVyY2hhc2VkIiwiaGl0Ym94IiwiR2VvbSIsIlJlY3RhbmdsZSIsInNldCIsIml0ZW1zIiwidW5sb2NrZWQiLCJib3hlcyIsImJnIiwic2tpbnMiLCJ0aWVyQnV0dG9ucyIsInNjZW5lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game/scenes/Preloader.ts\n");

/***/ }),

/***/ "./src/lib/sets.ts":
/*!*************************!*\
  !*** ./src/lib/sets.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BLOOD_BOX_UNLOCKED: () => (/* binding */ BLOOD_BOX_UNLOCKED),\n/* harmony export */   BURNER_UNLOCKED: () => (/* binding */ BURNER_UNLOCKED),\n/* harmony export */   DEX_LINK: () => (/* binding */ DEX_LINK),\n/* harmony export */   MARKETCAP: () => (/* binding */ MARKETCAP),\n/* harmony export */   SANTA_SKIN_UNLOCKED: () => (/* binding */ SANTA_SKIN_UNLOCKED),\n/* harmony export */   TELEGRAM_LINK: () => (/* binding */ TELEGRAM_LINK),\n/* harmony export */   X_LINK: () => (/* binding */ X_LINK)\n/* harmony export */ });\nconst MARKETCAP = \"10000000\";\nconst SANTA_SKIN_UNLOCKED = false;\nconst BLOOD_BOX_UNLOCKED = false;\nconst BURNER_UNLOCKED = false;\nconst X_LINK = \"https://x.com/kickthebuddy\";\nconst TELEGRAM_LINK = \"https://t.me/kickthebuddy\";\nconst DEX_LINK = \"https://dexscreener.com/\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3NldHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFPLE1BQU1BLFlBQVksV0FBVztBQUM3QixNQUFNQyxzQkFBc0IsTUFBTTtBQUNsQyxNQUFNQyxxQkFBcUIsTUFBTTtBQUNqQyxNQUFNQyxrQkFBa0IsTUFBTTtBQUM5QixNQUFNQyxTQUFTLDZCQUE2QjtBQUM1QyxNQUFNQyxnQkFBZ0IsNEJBQTRCO0FBQ2xELE1BQU1DLFdBQVcsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvbGliL3NldHMudHM/NjY2MiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTUFSS0VUQ0FQID0gXCIxMDAwMDAwMFwiO1xuZXhwb3J0IGNvbnN0IFNBTlRBX1NLSU5fVU5MT0NLRUQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBCTE9PRF9CT1hfVU5MT0NLRUQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBCVVJORVJfVU5MT0NLRUQgPSBmYWxzZTtcbmV4cG9ydCBjb25zdCBYX0xJTksgPSBcImh0dHBzOi8veC5jb20va2lja3RoZWJ1ZGR5XCI7XG5leHBvcnQgY29uc3QgVEVMRUdSQU1fTElOSyA9IFwiaHR0cHM6Ly90Lm1lL2tpY2t0aGVidWRkeVwiO1xuZXhwb3J0IGNvbnN0IERFWF9MSU5LID0gXCJodHRwczovL2RleHNjcmVlbmVyLmNvbS9cIjtcblxuIl0sIm5hbWVzIjpbIk1BUktFVENBUCIsIlNBTlRBX1NLSU5fVU5MT0NLRUQiLCJCTE9PRF9CT1hfVU5MT0NLRUQiLCJCVVJORVJfVU5MT0NLRUQiLCJYX0xJTksiLCJURUxFR1JBTV9MSU5LIiwiREVYX0xJTksiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/sets.ts\n");

/***/ }),

/***/ "./src/lib/utils.ts":
/*!**************************!*\
  !*** ./src/lib/utils.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCurrentMarketcap: () => (/* binding */ getCurrentMarketcap),\n/* harmony export */   getPurchasedStates: () => (/* binding */ getPurchasedStates)\n/* harmony export */ });\nfunction getPurchasedStates(key) {\n    console.log(key);\n    const stored = localStorage.getItem(key);\n    console.log(stored);\n    return stored ? JSON.parse(stored) : {};\n}\nfunction getCurrentMarketcap() {\n    const stored = localStorage.getItem(\"marketcap\");\n    return stored ? JSON.parse(stored) : 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGliL3V0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sU0FBU0EsbUJBQW1CQyxHQUFXO0lBQzVDQyxRQUFRQyxHQUFHLENBQUNGO0lBQ1osTUFBTUcsU0FBU0MsYUFBYUMsT0FBTyxDQUFDTDtJQUNwQ0MsUUFBUUMsR0FBRyxDQUFDQztJQUNaLE9BQU9BLFNBQVNHLEtBQUtDLEtBQUssQ0FBQ0osVUFBVSxDQUFDO0FBQ3hDO0FBRU8sU0FBU0s7SUFDZCxNQUFNTCxTQUFTQyxhQUFhQyxPQUFPLENBQUM7SUFDcEMsT0FBT0YsU0FBU0csS0FBS0MsS0FBSyxDQUFDSixVQUFVO0FBQ3ZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGhhc2VyLWVkaXRvci10ZW1wbGF0ZS1uZXh0anMvLi9zcmMvbGliL3V0aWxzLnRzPzdjMWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldFB1cmNoYXNlZFN0YXRlcyhrZXk6IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+IHtcbiAgY29uc29sZS5sb2coa2V5KTtcbiAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgY29uc29sZS5sb2coc3RvcmVkKTtcbiAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IHt9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudE1hcmtldGNhcCgpOiBudW1iZXIge1xuICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm1hcmtldGNhcFwiKTtcbiAgcmV0dXJuIHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IDA7XG59XG5cbiJdLCJuYW1lcyI6WyJnZXRQdXJjaGFzZWRTdGF0ZXMiLCJrZXkiLCJjb25zb2xlIiwibG9nIiwic3RvcmVkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsImdldEN1cnJlbnRNYXJrZXRjYXAiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/lib/utils.ts\n");

/***/ })

};
;